/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.1.22 Copyright (c) 2010-2015, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */

/*! jQuery v2.0.3 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery.min.map
*/

/* sockjs-client v1.1.4 | http://sockjs.org | MIT license */

/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

//! moment.js
//! version : 2.8.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

// This code has been MODIFIED from the code licensed below to not replace the

// default browser split.  The license is reproduced here.

/*!
     * Cross-Browser Split 1.1.1
     * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
     * Available under the MIT License
     * ECMAScript compliant, uniform cross-browser split method
     */

//     (c) 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.

//     Underscore may be freely distributed under the MIT license.

//     Underscore.js 1.5.2
//     http://underscorejs.org
//     (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

/**
 * @license text 2.0.15 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/text/LICENSE
 */

/**
 * @license RequireJS domReady 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/domReady for details
 */

/*! jQuery UI - v1.10.4 - 2014-04-02
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.slider.js, jquery.ui.sortable.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011â€“2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */

/**
 *
 * Color picker
 * Author: Stefan Petre www.eyecon.ro
 * 
 * Dual licensed under the MIT and GPL licenses
 * 
 */

!function(){function simpleKeys(e){return Object.keys(e).reduce(function(t,n){return"object"!=typeof e[n]&&(t[n]=e[n]),t},{})}var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,i){return t&&eachProp(t,function(t,r){!n&&hasProp(e,r)||(!i||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[r]=t:(e[r]||(e[r]={}),mixin(e[r],t,n,i)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,i){var r=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return r.requireType=e,r.requireModules=i,n&&(r.originalError=n),r}function newContext(e){function t(e){var t,n;for(t=0;t<e.length;t++)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,i){var r,o,s,a,l,c,u,d,h,p,f,m,g=n&&n.split("/"),v=k.map,b=v&&v["*"];if(e&&(e=e.split("/"),u=e.length-1,k.nodeIdCompat&&jsSuffixRegExp.test(e[u])&&(e[u]=e[u].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&g&&(m=g.slice(0,g.length-1),e=m.concat(e)),t(e),e=e.join("/")),i&&v&&(g||b)){s=e.split("/");e:for(a=s.length;a>0;a-=1){if(c=s.slice(0,a).join("/"),g)for(l=g.length;l>0;l-=1)if(o=getOwn(v,g.slice(0,l).join("/")),o&&(o=getOwn(o,c))){d=o,h=a;break e}!p&&b&&getOwn(b,c)&&(p=getOwn(b,c),f=a)}!d&&p&&(d=p,h=f),d&&(s.splice(0,h,d),e=s.join("/"))}return r=getOwn(k.pkgs,e),r?r:e}function i(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===_.contextName)return t.parentNode.removeChild(t),!0})}function r(e){var t=getOwn(k.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),_.require.undef(e),_.makeRequire(null,{skipMap:!0})([e]),!0}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function s(e,t,i,r){var s,a,l,c,u=null,d=t?t.name:null,h=e,p=!0,f="";return e||(p=!1,e="_@r"+(O+=1)),c=o(e),u=c[0],e=c[1],u&&(u=n(u,d,r),a=getOwn(D,u)),e&&(u?f=a&&a.normalize?a.normalize(e,function(e){return n(e,d,r)}):e.indexOf("!")===-1?n(e,d,r):e:(f=n(e,d,r),c=o(f),u=c[0],f=c[1],i=!0,s=_.nameToUrl(f))),l=!u||a||i?"":"_unnormalized"+(j+=1),{prefix:u,name:f,parentMap:t,unnormalized:!!l,url:s,originalName:h,isDefine:p,id:(u?u+"!"+f:f)+l}}function a(e){var t=e.id,n=getOwn(C,t);return n||(n=C[t]=new _.Module(e)),n}function l(e,t,n){var i=e.id,r=getOwn(C,i);!hasProp(D,i)||r&&!r.defineEmitComplete?(r=a(e),r.error&&"error"===t?n(r.error):r.on(t,n)):"defined"===t&&n(D[i])}function c(e,t){var n=e.requireModules,i=!1;t?t(e):(each(n,function(t){var n=getOwn(C,t);n&&(n.error=e,n.events.error&&(i=!0,n.emit("error",e)))}),i||req.onError(e))}function u(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(_.defQueueMap[t]=!0),M.push(e)}),globalDefQueue=[])}function d(e){delete C[e],delete S[e]}function h(e,t,n){var i=e.map.id;e.error?e.emit("error",e.error):(t[i]=!0,each(e.depMaps,function(i,r){var o=i.id,s=getOwn(C,o);!s||e.depMatched[r]||n[o]||(getOwn(t,o)?(e.defineDep(r,D[o]),e.check()):h(s,t,n))}),n[i]=!0)}function p(){var e,t,n=1e3*k.waitSeconds,o=n&&_.startTime+n<(new Date).getTime(),s=[],a=[],l=!1,u=!0;if(!b){if(b=!0,eachProp(S,function(e){var n=e.map,c=n.id;if(e.enabled&&(n.isDefine||a.push(e),!e.error))if(!e.inited&&o)r(c)?(t=!0,l=!0):(s.push(c),i(c));else if(!e.inited&&e.fetched&&n.isDefine&&(l=!0,!n.prefix))return u=!1}),o&&s.length)return e=makeError("timeout","Load timeout for modules: "+s,null,s),e.contextName=_.contextName,c(e);u&&each(a,function(e){h(e,{},{})}),o&&!t||!l||!isBrowser&&!isWebWorker||w||(w=setTimeout(function(){w=0,p()},50)),b=!1}}function f(e){hasProp(D,e[0])||a(s(e[0],null,!0)).init(e[1],e[2])}function m(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return m(t,_.onScriptLoad,"load","onreadystatechange"),m(t,_.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(u();M.length;){if(e=M.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));f(e)}_.defQueueMap={}}var b,y,_,x,w,k={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},C={},S={},T={},M=[],D={},A={},E={},O=1,j=1;return x={require:function(e){return e.require?e.require:e.require=_.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?D[e.map.id]=e.exports:e.exports=D[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(k.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},y=function(e){this.events=getOwn(T,e.id)||{},this.map=e,this.shim=getOwn(k.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},y.prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,_.startTime=(new Date).getTime();var e=this.map;return this.shim?void _.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;A[e]||(A[e]=!0,_.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,i=this.depExports,r=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){try{r=_.execCb(n,o,i,r)}catch(t){e=t}if(this.map.isDefine&&void 0===r&&(t=this.module,t?r=t.exports:this.usingExports&&(r=this.exports)),e){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e);"undefined"!=typeof console&&console.error?console.error(e):req.onError(e)}}else r=o;if(this.exports=r,this.map.isDefine&&!this.ignore&&(D[n]=r,req.onResourceLoad)){var s=[];each(this.depMaps,function(e){s.push(e.normalizedMap||e)}),req.onResourceLoad(_,this.map,s)}d(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(_.defQueueMap,n)||this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,i=s(e.prefix);this.depMaps.push(i),l(i,"defined",bind(this,function(i){var r,o,u,h=getOwn(E,this.map.id),p=this.map.name,f=this.map.parentMap?this.map.parentMap.name:null,m=_.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(i.normalize&&(p=i.normalize(p,function(e){return n(e,f,!0)})||""),o=s(e.prefix+"!"+p,this.map.parentMap),l(o,"defined",bind(this,function(e){this.map.normalizedMap=o,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),u=getOwn(C,o.id),void(u&&(this.depMaps.push(o),this.events.error&&u.on("error",bind(this,function(e){this.emit("error",e)})),u.enable()))):h?(this.map.url=_.nameToUrl(h),void this.load()):(r=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),r.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(C,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&d(e.map.id)}),c(e)}),r.fromText=bind(this,function(n,i){var o=e.name,l=s(o),u=useInteractive;i&&(n=i),u&&(useInteractive=!1),a(l),hasProp(k.config,t)&&(k.config[o]=k.config[t]);try{req.exec(n)}catch(e){return c(makeError("fromtexteval","fromText eval for "+t+" failed: "+e,e,[t]))}u&&(useInteractive=!0),this.depMaps.push(l),_.completeLoad(o),m([o],r)}),void i.load(e.name,m,r,k))})),_.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){S[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,i,r;if("string"==typeof e){if(e=s(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,r=getOwn(x,e.id))return void(this.depExports[t]=r(this));this.depCount+=1,l(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?l(e,"error",bind(this,this.errback)):this.events.error&&l(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,i=C[n],hasProp(x,n)||!i||i.enabled||_.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(C,e.id);t&&!t.enabled&&_.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},_={config:k,contextName:e,registry:C,defined:D,urlFetched:A,defQueue:M,defQueueMap:{},Module:y,makeModuleMap:s,nextTick:req.nextTick,onError:c,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=k.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(k[t]||(k[t]={}),mixin(k[t],e,!0,!0)):k[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(E[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,n){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=_.makeShimExports(e)),t[n]=e}),k.shim=t),e.packages&&each(e.packages,function(e){var t,n;e="string"==typeof e?{name:e}:e,n=e.name,t=e.location,t&&(k.paths[n]=e.location),k.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(C,function(e,t){e.inited||e.map.unnormalized||(e.map=s(t,null,!0))}),(e.deps||e.callback)&&_.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,r){function o(n,i,l){var u,d,h;return r.enableBuildCallback&&i&&isFunction(i)&&(i.__requireJsBuild=!0),"string"==typeof n?isFunction(i)?c(makeError("requireargs","Invalid require call"),l):t&&hasProp(x,n)?x[n](C[t.id]):req.get?req.get(_,n,t,o):(d=s(n,t,!1,!0),u=d.id,hasProp(D,u)?D[u]:c(makeError("notloaded",'Module name "'+u+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),_.nextTick(function(){v(),h=a(s(null,t)),h.skipMap=r.skipMap,h.init(n,i,l,{enabled:!0}),p()}),o)}return r=r||{},mixin(o,{isBrowser:isBrowser,toUrl:function(e){var i,r=e.lastIndexOf("."),o=e.split("/")[0],s="."===o||".."===o;return r!==-1&&(!s||r>1)&&(i=e.substring(r,e.length),e=e.substring(0,r)),_.nameToUrl(n(e,t&&t.id,!0),i,!0)},defined:function(e){return hasProp(D,s(e,t,!1,!0).id)},specified:function(e){return e=s(e,t,!1,!0).id,hasProp(D,e)||hasProp(C,e)}}),t||(o.undef=function(e){u();var n=s(e,t,!0),r=getOwn(C,e);r.undefed=!0,i(e),delete D[e],delete A[n.url],delete T[e],eachReverse(M,function(t,n){t[0]===e&&M.splice(n,1)}),delete _.defQueueMap[e],r&&(r.events.defined&&(T[e]=r.events),d(e))}),o},enable:function(e){var t=getOwn(C,e.id);t&&a(e).enable()},completeLoad:function(e){var t,n,i,o=getOwn(k.shim,e)||{},s=o.exports;for(u();M.length;){if(n=M.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);f(n)}if(_.defQueueMap={},i=getOwn(C,e),!t&&!hasProp(D,e)&&i&&!i.inited){if(!(!k.enforceDefine||s&&getGlobal(s)))return r(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));f([e,o.deps||[],o.exportsFn])}p()},nameToUrl:function(e,t,n){var i,r,o,s,a,l,c,u=getOwn(k.pkgs,e);if(u&&(e=u),c=getOwn(E,e))return _.nameToUrl(c,t,n);if(req.jsExtRegExp.test(e))a=e+(t||"");else{for(i=k.paths,r=e.split("/"),o=r.length;o>0;o-=1)if(s=r.slice(0,o).join("/"),l=getOwn(i,s)){isArray(l)&&(l=l[0]),r.splice(0,o,l);break}a=r.join("/"),a+=t||(/^data\:|\?/.test(a)||n?"":".js"),a=("/"===a.charAt(0)||a.match(/^[\w\+\.\-]+:/)?"":k.baseUrl)+a}return k.urlArgs?a+((a.indexOf("?")===-1?"?":"&")+k.urlArgs):a},load:function(e,t){req.load(_,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);_.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);if(!r(t.id)){var n=[];return eachProp(C,function(e,i){0!==i.indexOf("_@r")&&each(e.depMaps,function(e){return e.id===t.id&&n.push(i),!0})}),c(makeError("scripterror",'Script error for "'+t.id+(n.length?'", needed by: '+n.join(", "):'"'),e,[t.id]))}}},_.require=_.makeRequire(),_}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.22",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,i){var r,o,s=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=n,n=i):e=[]),o&&o.context&&(s=o.context),r=getOwn(contexts,s),r||(r=contexts[s]=req.s.newContext(s)),o&&r.configure(o),r.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var i=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return i.type=e.scriptType||"text/javascript",i.charset="utf-8",i.async=!0,i},req.load=function(e,t,n){var i,r=e&&e.config||{};if(isBrowser)return i=req.createNode(r,t,n),r.onNodeCreated&&r.onNodeCreated(i,r,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),!i.attachEvent||i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0||isOpera?(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(i){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,i,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,n){var i,r;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript(),i&&(e||(e=i.getAttribute("data-requiremodule")),r=contexts[i.getAttribute("data-requirecontext")])),r?(r.defQueue.push([e,t,n]),r.defQueueMap[e]=!0):globalDefQueue.push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),define("requireLib",function(){}),function(){var e,t,n,i;!function(){var r={},o={};e=function(e,t,n){r[e]={deps:t,callback:n}},i=n=t=function(e){function n(t){if("."!==t.charAt(0))return t;for(var n=t.split("/"),i=e.split("/").slice(0,-1),r=0,o=n.length;r<o;r++){var s=n[r];if(".."===s)i.pop();else{if("."===s)continue;i.push(s)}}return i.join("/")}if(i._eak_seen=r,o[e])return o[e];if(o[e]={},!r[e])throw new Error("Could not find module "+e);for(var s,a=r[e],l=a.deps,c=a.callback,u=[],d=0,h=l.length;d<h;d++)"exports"===l[d]?u.push(s={}):u.push(t(n(l[d])));var p=c.apply(this,u);return o[e]=s||p}}(),e("promise/all",["./utils","exports"],function(e,t){"use strict";function n(e){var t=this;if(!i(e))throw new TypeError("You must pass an array to all.");return new t(function(t,n){function i(e){return function(t){o(e,t)}}function o(e,n){a[e]=n,0===--l&&t(a)}var s,a=[],l=e.length;0===l&&t([]);for(var c=0;c<e.length;c++)s=e[c],s&&r(s.then)?s.then(i(c),n):o(c,s)})}var i=e.isArray,r=e.isFunction;t.all=n}),e("promise/asap",["exports"],function(e){"use strict";function t(){return function(){process.nextTick(r)}}function n(){var e=0,t=new l(r),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function i(){return function(){c.setTimeout(r,1)}}function r(){for(var e=0;e<u.length;e++){var t=u[e],n=t[0],i=t[1];n(i)}u=[]}function o(e,t){var n=u.push([e,t]);1===n&&s()}var s,a="undefined"!=typeof window?window:{},l=a.MutationObserver||a.WebKitMutationObserver,c="undefined"!=typeof global?global:void 0===this?window:this,u=[];s="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?t():l?n():i(),e.asap=o}),e("promise/config",["exports"],function(e){"use strict";function t(e,t){return 2!==arguments.length?n[e]:void(n[e]=t)}var n={instrument:!1};e.config=n,e.configure=t}),e("promise/polyfill",["./promise","./utils","exports"],function(e,t,n){"use strict";function i(){var e;e="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;var t="Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var t;return new e.Promise(function(e){t=e}),o(t)}();t||(e.Promise=r)}var r=e.Promise,o=t.isFunction;n.polyfill=i}),e("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(e,t,n,i,r,o,s,a){"use strict";function l(e){if(!x(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof l))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],c(e,this)}function c(e,t){function n(e){f(t,e)}function i(e){g(t,e)}try{e(n,i)}catch(e){i(e)}}function u(e,t,n,i){var r,o,s,a,l=x(n);if(l)try{r=n(i),s=!0}catch(e){a=!0,o=e}else r=i,s=!0;p(t,r)||(l&&s?f(t,r):a?g(t,o):e===A?f(t,r):e===E&&g(t,r))}function d(e,t,n,i){var r=e._subscribers,o=r.length;r[o]=t,r[o+A]=n,r[o+E]=i}function h(e,t){for(var n,i,r=e._subscribers,o=e._detail,s=0;s<r.length;s+=3)n=r[s],i=r[s+t],u(t,n,i,o);e._subscribers=null}function p(e,t){var n,i=null;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(_(t)&&(i=t.then,x(i)))return i.call(t,function(i){return!!n||(n=!0,void(t!==i?f(e,i):m(e,i)))},function(t){return!!n||(n=!0,void g(e,t))}),!0}catch(t){return!!n||(g(e,t),!0)}return!1}function f(e,t){e===t?m(e,t):p(e,t)||m(e,t)}function m(e,t){e._state===M&&(e._state=D,e._detail=t,y.async(v,e))}function g(e,t){e._state===M&&(e._state=D,e._detail=t,y.async(b,e))}function v(e){h(e,e._state=A)}function b(e){h(e,e._state=E)}var y=e.config,_=(e.configure,t.objectOrFunction),x=t.isFunction,w=(t.now,n.all),k=i.race,C=r.resolve,S=o.reject,T=s.asap;y.async=T;var M=void 0,D=0,A=1,E=2;l.prototype={constructor:l,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(e,t){var n=this,i=new this.constructor(function(){});if(this._state){var r=arguments;y.async(function(){u(n._state,i,r[n._state-1],n._detail)})}else d(this,i,e,t);return i},catch:function(e){return this.then(null,e)}},l.all=w,l.race=k,l.resolve=C,l.reject=S,a.Promise=l}),e("promise/race",["./utils","exports"],function(e,t){"use strict";function n(e){var t=this;if(!i(e))throw new TypeError("You must pass an array to race.");return new t(function(t,n){for(var i,r=0;r<e.length;r++)i=e[r],i&&"function"==typeof i.then?i.then(t,n):t(i)})}var i=e.isArray;t.race=n}),e("promise/reject",["exports"],function(e){"use strict";function t(e){var t=this;return new t(function(t,n){n(e)})}e.reject=t}),e("promise/resolve",["exports"],function(e){"use strict";function t(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=this;return new t(function(t){t(e)})}e.resolve=t}),e("promise/utils",["exports"],function(e){"use strict";function t(e){return n(e)||"object"==typeof e&&null!==e}function n(e){return"function"==typeof e}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}var r=Date.now||function(){return(new Date).getTime()};e.objectOrFunction=t,e.isFunction=n,e.isArray=i,e.now=r}),t("promise/polyfill").polyfill()}(),define("es6-promise",function(){}),function(e,t){function n(e){var t=e.length,n=oe.type(e);return!oe.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)))}function i(e){var t=fe[e]={};return oe.each(e.match(ae)||[],function(e,n){t[n]=!0}),t}function r(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=oe.expando+Math.random()}function o(e,n,i){var r;if(i===t&&1===e.nodeType)if(r="data-"+n.replace(be,"-$1").toLowerCase(),i=e.getAttribute(r),"string"==typeof i){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:ve.test(i)?JSON.parse(i):i)}catch(e){}me.set(e,n,i)}else i=t;return i}function s(){return!0}function a(){return!1}function l(){try{return $.activeElement}catch(e){}}function c(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function u(e,t,n){if(oe.isFunction(t))return oe.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return oe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(De.test(t))return oe.filter(t,e,n);t=oe.filter(t,e)}return oe.grep(e,function(e){return te.call(t,e)>=0!==n})}function d(e,t){return oe.nodeName(e,"table")&&oe.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function h(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function p(e){var t=He.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function f(e,t){for(var n=e.length,i=0;n>i;i++)ge.set(e[i],"globalEval",!t||ge.get(t[i],"globalEval"))}function m(e,t){var n,i,r,o,s,a,l,c;if(1===t.nodeType){if(ge.hasData(e)&&(o=ge.access(e),s=ge.set(t,o),c=o.events)){delete s.handle,s.events={};for(r in c)for(n=0,i=c[r].length;i>n;n++)oe.event.add(t,r,c[r][n])}me.hasData(e)&&(a=me.access(e),l=oe.extend({},a),me.set(t,l))}}function g(e,n){var i=e.getElementsByTagName?e.getElementsByTagName(n||"*"):e.querySelectorAll?e.querySelectorAll(n||"*"):[];return n===t||n&&oe.nodeName(e,n)?oe.merge([e],i):i}function v(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Pe.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=Ze.length;r--;)if(t=Ze[r]+n,t in e)return t;return i}function y(e,t){return e=t||e,"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)}function _(t){return e.getComputedStyle(t,null)}function x(e,t){for(var n,i,r,o=[],s=0,a=e.length;a>s;s++)i=e[s],i.style&&(o[s]=ge.get(i,"olddisplay"),n=i.style.display,t?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&y(i)&&(o[s]=ge.access(i,"olddisplay",S(i.nodeName)))):o[s]||(r=y(i),(n&&"none"!==n||!r)&&ge.set(i,"olddisplay",r?n:oe.css(i,"display"))));for(s=0;a>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[s]||"":"none"));return e}function w(e,t,n){var i=Ye.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function k(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=oe.css(e,n+Qe[o],!0,r)),i?("content"===n&&(s-=oe.css(e,"padding"+Qe[o],!0,r)),"margin"!==n&&(s-=oe.css(e,"border"+Qe[o]+"Width",!0,r))):(s+=oe.css(e,"padding"+Qe[o],!0,r),"padding"!==n&&(s+=oe.css(e,"border"+Qe[o]+"Width",!0,r)));return s}function C(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=_(e),s=oe.support.boxSizing&&"border-box"===oe.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=qe(e,t,o),(0>r||null==r)&&(r=e.style[t]),Je.test(r))return r;i=s&&(oe.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+k(e,t,n||(s?"border":"content"),i,o)+"px"}function S(e){var t=$,n=Ge[e];return n||(n=T(e,t),"none"!==n&&n||(Be=(Be||oe("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Be[0].contentWindow||Be[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=T(e,t),Be.detach()),Ge[e]=n),n}function T(e,t){var n=oe(t.createElement(e)).appendTo(t.body),i=oe.css(n[0],"display");return n.remove(),i}function M(e,t,n,i){var r;if(oe.isArray(t))oe.each(t,function(t,r){n||tt.test(e)?i(e,r):M(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==oe.type(t))i(e,t);else for(r in t)M(e+"["+r+"]",t[r],n,i)}function D(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(ae)||[];if(oe.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function A(e,n,i,r){function o(l){var c;return s[l]=!0,oe.each(e[l]||[],function(e,l){var u=l(n,i,r);return"string"!=typeof u||a||s[u]?a?!(c=u):t:(n.dataTypes.unshift(u),o(u),!1)}),c}var s={},a=e===bt;return o(n.dataTypes[0])||!s["*"]&&o("*")}function E(e,n){var i,r,o=oe.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&oe.extend(!0,e,r),e}function O(e,n,i){for(var r,o,s,a,l=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("Content-Type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){c.unshift(o);break}if(c[0]in i)s=c[0];else{for(o in i){if(!c[0]||e.converters[o+" "+c[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==c[0]&&c.unshift(s),i[s]):t}function j(e,t,n,i){var r,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=c[l+" "+o]||c["* "+o],!s)for(r in c)if(a=r.split(" "),a[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[r]:c[r]!==!0&&(o=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function L(){return setTimeout(function(){Tt=t}),Tt=oe.now()}function N(e,t,n){for(var i,r=(jt[t]||[]).concat(jt["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,t,e))return i}function I(e,t,n){var i,r,o=0,s=Ot.length,a=oe.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Tt||L(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(o);return a.notifyWith(e,[c,o,n]),1>o&&l?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:oe.extend({},t),opts:oe.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Tt||L(),duration:n.duration,tweens:[],createTween:function(t,n){var i=oe.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),u=c.props;for(P(u,c.opts.specialEasing);s>o;o++)if(i=Ot[o].call(c,e,u,c.opts))return i;return oe.map(u,N,c),oe.isFunction(c.opts.start)&&c.opts.start.call(e,c),oe.fx.timer(oe.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function P(e,t){var n,i,r,o,s;for(n in e)if(i=oe.camelCase(n),r=t[i],o=e[n],oe.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),s=oe.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function z(e,n,i){var r,o,s,a,l,c,u=this,d={},h=e.style,p=e.nodeType&&y(e),f=ge.get(e,"fxshow");i.queue||(l=oe._queueHooks(e,"fx"),null==l.unqueued&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,u.always(function(){u.always(function(){l.unqueued--,oe.queue(e,"fx").length||l.empty.fire()})})),1===e.nodeType&&("height"in n||"width"in n)&&(i.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===oe.css(e,"display")&&"none"===oe.css(e,"float")&&(h.display="inline-block")),i.overflow&&(h.overflow="hidden",u.always(function(){h.overflow=i.overflow[0],h.overflowX=i.overflow[1],h.overflowY=i.overflow[2]}));for(r in n)if(o=n[r],Dt.exec(o)){if(delete n[r],s=s||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!f||f[r]===t)continue;p=!0}d[r]=f&&f[r]||oe.style(e,r)}if(!oe.isEmptyObject(d)){f?"hidden"in f&&(p=f.hidden):f=ge.access(e,"fxshow",{}),s&&(f.hidden=!p),p?oe(e).show():u.done(function(){oe(e).hide()}),u.done(function(){var t;ge.remove(e,"fxshow");for(t in d)oe.style(e,t,d[t])});for(r in d)a=N(p?f[r]:0,r,u),r in f||(f[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function F(e,t,n,i,r){return new F.prototype.init(e,t,n,i,r)}function H(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Qe[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function W(e){return oe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var R,q,B=typeof t,U=e.location,$=e.document,Y=$.documentElement,J=e.jQuery,V=e.$,G={},K=[],X="2.0.3",Q=K.concat,Z=K.push,ee=K.slice,te=K.indexOf,ne=G.toString,ie=G.hasOwnProperty,re=X.trim,oe=function(e,t){return new oe.fn.init(e,t,R)},se=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ae=/\S+/g,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ue=/^-ms-/,de=/-([\da-z])/gi,he=function(e,t){
return t.toUpperCase()},pe=function(){$.removeEventListener("DOMContentLoaded",pe,!1),e.removeEventListener("load",pe,!1),oe.ready()};oe.fn=oe.prototype={jquery:X,constructor:oe,init:function(e,n,i){var r,o;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:le.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1]){if(n=n instanceof oe?n[0]:n,oe.merge(this,oe.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:$,!0)),ce.test(r[1])&&oe.isPlainObject(n))for(r in n)oe.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}return o=$.getElementById(r[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=$,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):oe.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),oe.makeArray(e,this))},selector:"",length:0,toArray:function(){return ee.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=oe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return oe.each(this,e,t)},ready:function(e){return oe.ready.promise().done(e),this},slice:function(){return this.pushStack(ee.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(oe.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:[].sort,splice:[].splice},oe.fn.init.prototype=oe.fn,oe.extend=oe.fn.extend=function(){var e,n,i,r,o,s,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||oe.isFunction(a)||(a={}),c===l&&(a=this,--l);c>l;l++)if(null!=(e=arguments[l]))for(n in e)i=a[n],r=e[n],a!==r&&(u&&r&&(oe.isPlainObject(r)||(o=oe.isArray(r)))?(o?(o=!1,s=i&&oe.isArray(i)?i:[]):s=i&&oe.isPlainObject(i)?i:{},a[n]=oe.extend(u,s,r)):r!==t&&(a[n]=r));return a},oe.extend({expando:"jQuery"+(X+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===oe&&(e.$=V),t&&e.jQuery===oe&&(e.jQuery=J),oe},isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){(e===!0?--oe.readyWait:oe.isReady)||(oe.isReady=!0,e!==!0&&--oe.readyWait>0||(q.resolveWith($,[oe]),oe.fn.trigger&&oe($).trigger("ready").off("ready")))},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?G[ne.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;try{if(e.constructor&&!ie.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||$;var i=ce.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=oe.buildFragment([e],t,r),r&&oe(r).remove(),oe.merge([],i.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var n,i;if(!e||"string"!=typeof e)return null;try{i=new DOMParser,n=i.parseFromString(e,"text/xml")}catch(e){n=t}return(!n||n.getElementsByTagName("parsererror").length)&&oe.error("Invalid XML: "+e),n},noop:function(){},globalEval:function(e){var t,n=eval;e=oe.trim(e),e&&(1===e.indexOf("use strict")?(t=$.createElement("script"),t.text=e,$.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(ue,"ms-").replace(de,he)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,s=e.length,a=n(e);if(i){if(a)for(;s>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(a)for(;s>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:function(e){return null==e?"":re.call(e)},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?oe.merge(i,"string"==typeof e?[e]:e):Z.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:te.call(t,e,n)},merge:function(e,n){var i=n.length,r=e.length,o=0;if("number"==typeof i)for(;i>o;o++)e[r++]=n[o];else for(;n[o]!==t;)e[r++]=n[o++];return e.length=r,e},grep:function(e,t,n){var i,r=[],o=0,s=e.length;for(n=!!n;s>o;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,s=e.length,a=n(e),l=[];if(a)for(;s>o;o++)r=t(e[o],o,i),null!=r&&(l[l.length]=r);else for(o in e)r=t(e[o],o,i),null!=r&&(l[l.length]=r);return Q.apply([],l)},guid:1,proxy:function(e,n){var i,r,o;return"string"==typeof n&&(i=e[n],n=e,e=i),oe.isFunction(e)?(r=ee.call(arguments,2),o=function(){return e.apply(n||this,r.concat(ee.call(arguments)))},o.guid=e.guid=e.guid||oe.guid++,o):t},access:function(e,n,i,r,o,s,a){var l=0,c=e.length,u=null==i;if("object"===oe.type(i)){o=!0;for(l in i)oe.access(e,n,l,i[l],!0,s,a)}else if(r!==t&&(o=!0,oe.isFunction(r)||(a=!0),u&&(a?(n.call(e,r),n=null):(u=n,n=function(e,t,n){return u.call(oe(e),n)})),n))for(;c>l;l++)n(e[l],i,a?r:r.call(e[l],l,n(e[l],i)));return o?e:u?n.call(e):c?n(e[0],i):s},now:Date.now,swap:function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=s[o];return r}}),oe.ready.promise=function(t){return q||(q=oe.Deferred(),"complete"===$.readyState?setTimeout(oe.ready):($.addEventListener("DOMContentLoaded",pe,!1),e.addEventListener("load",pe,!1))),q.promise(t)},oe.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){G["[object "+t+"]"]=t.toLowerCase()}),R=oe($),function(e,t){function n(e,t,n,i){var r,o,s,a,l,c,u,d,f,m;if((t?t.ownerDocument||t:W)!==j&&O(t),t=t||j,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(N&&!i){if(r=ye.exec(e))if(s=r[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&F(t,o)&&o.id===s)return n.push(o),n}else{if(r[2])return ee.apply(n,t.getElementsByTagName(e)),n;if((s=r[3])&&k.getElementsByClassName&&t.getElementsByClassName)return ee.apply(n,t.getElementsByClassName(s)),n}if(k.qsa&&(!I||!I.test(e))){if(d=u=H,f=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=h(e),(u=t.getAttribute("id"))?d=u.replace(we,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+p(c[l]);f=pe.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return ee.apply(n,f.querySelectorAll(m)),n}catch(e){}finally{u||t.removeAttribute("id")}}}return x(e.replace(ue,"$1"),t,n,i)}function i(){function e(n,i){return t.push(n+=" ")>S.cacheLength&&delete e[t.shift()],e[n]=i}var t=[];return e}function r(e){return e[H]=!0,e}function o(e){var t=j.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),i=e.length;i--;)S.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function d(){}function h(e,t){var i,r,o,s,a,l,c,u=U[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=S.preFilter;a;){(!i||(r=de.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=he.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ue," ")}),a=a.slice(i.length));for(s in S.filter)!(r=ve[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return t?a.length:a?n.error(e):U(e,l).slice(0)}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=q++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,s){var a,l,c,u=R+" "+o;if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(c=t[H]||(t[H]={}),(l=c[i])&&l[0]===u){if((a=l[1])===!0||a===C)return a===!0}else if(l=c[i]=[u],l[1]=e(t,n,s)||C,l[1]===!0)return!0}}function m(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function g(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,c=null!=t;l>a;a++)(o=e[a])&&(!n||n(o,i,r))&&(s.push(o),c&&t.push(a));return s}function v(e,t,n,i,o,s){return i&&!i[H]&&(i=v(i)),o&&!o[H]&&(o=v(o,s)),r(function(r,s,a,l){var c,u,d,h=[],p=[],f=s.length,m=r||_(t||"*",a.nodeType?[a]:a,[]),v=!e||!r&&t?m:g(m,h,e,a,l),b=n?o||(r?e:f||i)?[]:s:v;if(n&&n(v,b,a,l),i)for(c=g(b,p),i(c,[],a,l),u=c.length;u--;)(d=c[u])&&(b[p[u]]=!(v[p[u]]=d));if(r){if(o||e){if(o){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(v[u]=d);o(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=o?ne.call(r,d):h[u])>-1&&(r[c]=!(s[c]=d))}}else b=g(b===s?b.splice(f,b.length):b),o?o(null,s,b,l):ee.apply(s,b)})}function b(e){for(var t,n,i,r=e.length,o=S.relative[e[0].type],s=o||S.relative[" "],a=o?1:0,l=f(function(e){return e===t},s,!0),c=f(function(e){return ne.call(t,e)>-1},s,!0),u=[function(e,n,i){return!o&&(i||n!==A)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];r>a;a++)if(n=S.relative[e[a].type])u=[f(m(u),n)];else{if(n=S.filter[e[a].type].apply(null,e[a].matches),n[H]){for(i=++a;r>i&&!S.relative[e[i].type];i++);return v(a>1&&m(u),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ue,"$1"),n,i>a&&b(e.slice(a,i)),r>i&&b(e=e.slice(i)),r>i&&p(e))}u.push(n)}return m(u)}function y(e,t){var i=0,o=t.length>0,s=e.length>0,a=function(r,a,l,c,u){var d,h,p,f=[],m=0,v="0",b=r&&[],y=null!=u,_=A,x=r||s&&S.find.TAG("*",u&&a.parentNode||a),w=R+=null==_?1:Math.random()||.1;for(y&&(A=a!==j&&a,C=i);null!=(d=x[v]);v++){if(s&&d){for(h=0;p=e[h++];)if(p(d,a,l)){c.push(d);break}y&&(R=w,C=++i)}o&&((d=!p&&d)&&m--,r&&b.push(d))}if(m+=v,o&&v!==m){for(h=0;p=t[h++];)p(b,f,a,l);if(r){if(m>0)for(;v--;)b[v]||f[v]||(f[v]=Q.call(c));f=g(f)}ee.apply(c,f),y&&!r&&f.length>0&&m+t.length>1&&n.uniqueSort(c)}return y&&(R=w,A=_),b};return o?r(a):a}function _(e,t,i){for(var r=0,o=t.length;o>r;r++)n(e,t[r],i);return i}function x(e,t,n,i){var r,o,s,a,l,c=h(e);if(!i&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&k.getById&&9===t.nodeType&&N&&S.relative[o[1].type]){if(t=(S.find.ID(s.matches[0].replace(ke,Ce),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}for(r=ve.needsContext.test(e)?0:o.length;r--&&(s=o[r],!S.relative[a=s.type]);)if((l=S.find[a])&&(i=l(s.matches[0].replace(ke,Ce),pe.test(o[0].type)&&t.parentNode||t))){if(o.splice(r,1),e=i.length&&p(o),!e)return ee.apply(n,i),n;break}}return D(e,c)(i,t,!N,n,pe.test(e)),n}var w,k,C,S,T,M,D,A,E,O,j,L,N,I,P,z,F,H="sizzle"+-new Date,W=e.document,R=0,q=0,B=i(),U=i(),$=i(),Y=!1,J=function(e,t){return e===t?(Y=!0,0):0},V=typeof t,G=1<<31,K={}.hasOwnProperty,X=[],Q=X.pop,Z=X.push,ee=X.push,te=X.slice,ne=X.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},ie="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",se="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae=se.replace("w","w#"),le="\\["+re+"*("+se+")"+re+"*(?:([*^$|!~]?=)"+re+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ae+")|)|)"+re+"*\\]",ce=":("+se+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+le.replace(3,8)+")*)|.*)\\)|)",ue=RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),de=RegExp("^"+re+"*,"+re+"*"),he=RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),pe=RegExp(re+"*[+~]"),fe=RegExp("="+re+"*([^\\]'\"]*)"+re+"*\\]","g"),me=RegExp(ce),ge=RegExp("^"+ae+"$"),ve={ID:RegExp("^#("+se+")"),CLASS:RegExp("^\\.("+se+")"),TAG:RegExp("^("+se.replace("w","w*")+")"),ATTR:RegExp("^"+le),PSEUDO:RegExp("^"+ce),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:RegExp("^(?:"+ie+")$","i"),needsContext:RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},be=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_e=/^(?:input|select|textarea|button)$/i,xe=/^h\d$/i,we=/'|\\/g,ke=RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),Ce=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{ee.apply(X=te.call(W.childNodes),W.childNodes),X[W.childNodes.length].nodeType}catch(e){ee={apply:X.length?function(e,t){Z.apply(e,te.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}M=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},k=n.support={},O=n.setDocument=function(e){var n=e?e.ownerDocument||e:W,i=n.defaultView;return n!==j&&9===n.nodeType&&n.documentElement?(j=n,L=n.documentElement,N=!M(n),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){O()}),k.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),k.getElementsByTagName=o(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),k.getElementsByClassName=o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),k.getById=o(function(e){return L.appendChild(e).id=H,!n.getElementsByName||!n.getElementsByName(H).length}),k.getById?(S.find.ID=function(e,t){if(typeof t.getElementById!==V&&N){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(e){var t=e.replace(ke,Ce);return function(e){return e.getAttribute("id")===t}}):(delete S.find.ID,S.filter.ID=function(e){var t=e.replace(ke,Ce);return function(e){var n=typeof e.getAttributeNode!==V&&e.getAttributeNode("id");return n&&n.value===t}}),S.find.TAG=k.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==V?n.getElementsByTagName(e):t}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},S.find.CLASS=k.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==V&&N?n.getElementsByClassName(e):t},P=[],I=[],(k.qsa=be.test(n.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||I.push("\\["+re+"*(?:value|"+ie+")"),e.querySelectorAll(":checked").length||I.push(":checked")}),o(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&I.push("[*^$]="+re+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(k.matchesSelector=be.test(z=L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&o(function(e){k.disconnectedMatch=z.call(e,"div"),z.call(e,"[s!='']:x"),P.push("!=",ce)}),I=I.length&&RegExp(I.join("|")),P=P.length&&RegExp(P.join("|")),F=be.test(L.contains)||L.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},J=L.compareDocumentPosition?function(e,t){if(e===t)return Y=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!k.sortDetached&&t.compareDocumentPosition(e)===i?e===n||F(W,e)?-1:t===n||F(W,t)?1:E?ne.call(E,e)-ne.call(E,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var i,r=0,o=e.parentNode,s=t.parentNode,l=[e],c=[t];if(e===t)return Y=!0,0;if(!o||!s)return e===n?-1:t===n?1:o?-1:s?1:E?ne.call(E,e)-ne.call(E,t):0;if(o===s)return a(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[r]===c[r];)r++;return r?a(l[r],c[r]):l[r]===W?-1:c[r]===W?1:0},n):j},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==j&&O(e),t=t.replace(fe,"='$1']"),!(!k.matchesSelector||!N||P&&P.test(t)||I&&I.test(t)))try{var i=z.call(e,t);if(i||k.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return n(t,j,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==j&&O(e),F(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==j&&O(e);var i=S.attrHandle[n.toLowerCase()],r=i&&K.call(S.attrHandle,n.toLowerCase())?i(e,n,!N):t;return r===t?k.attributes||!N?e.getAttribute(n):(r=e.getAttributeNode(n))&&r.specified?r.value:null:r},n.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],i=0,r=0;if(Y=!k.detectDuplicates,E=!k.sortStable&&e.slice(0),e.sort(J),Y){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return e},T=n.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=T(t);return n},S=n.selectors={cacheLength:50,createPseudo:r,match:ve,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ke,Ce),e[3]=(e[4]||e[5]||"").replace(ke,Ce),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,i=!e[5]&&e[2];return ve.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:i&&me.test(i)&&(n=h(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(e[0]=e[0].slice(0,n),e[2]=i.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ke,Ce).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=RegExp("(^|"+re+")"+e+"("+re+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==V&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(r){var o=n.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===i:"!="===t?o!==i:"^="===t?i&&0===o.indexOf(i):"*="===t?i&&o.indexOf(i)>-1:"$="===t?i&&o.slice(-i.length)===i:"~="===t?(" "+o+" ").indexOf(i)>-1:"|="===t&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,p,f,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&b){for(u=g[H]||(g[H]={}),c=u[e]||[],p=c[0]===R&&c[1],h=c[0]===R&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===t){u[e]=[R,p,h];break}}else if(b&&(c=(t[H]||(t[H]={}))[e])&&c[0]===R)h=c[1];else for(;(d=++p&&d&&d[m]||(h=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(b&&((d[H]||(d[H]={}))[e]=[R,h]),d!==t)););return h-=r,h===i||0===h%i&&h/i>=0}}},PSEUDO:function(e,t){var i,o=S.pseudos[e]||S.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return o[H]?o(t):o.length>1?(i=[e,e,"",t],S.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,n){for(var i,r=o(e,t),s=r.length;s--;)i=ne.call(e,r[s]),e[i]=!(n[i]=r[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=D(e.replace(ue,"$1"));return i[H]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(t){return n(e,t).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:r(function(e){return ge.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(ke,Ce).toLowerCase(),function(t){var n;do if(n=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return xe.test(e.nodeName)},input:function(e){return _e.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;t>++i;)e.push(i);return e})}},S.pseudos.nth=S.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[w]=l(w);for(w in{submit:!0,reset:!0})S.pseudos[w]=c(w);d.prototype=S.filters=S.pseudos,S.setFilters=new d,D=n.compile=function(e,t){var n,i=[],r=[],o=$[e+" "];if(!o){for(t||(t=h(e)),n=t.length;n--;)o=b(t[n]),o[H]?i.push(o):r.push(o);o=$(e,y(r,i))}return o},k.sortStable=H.split("").sort(J).join("")===H,k.detectDuplicates=Y,O(),k.sortDetached=o(function(e){return 1&e.compareDocumentPosition(j.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,n,i){return i?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),k.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,n,i){return i||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||s(ie,function(e,n,i){var r;return i?t:(r=e.getAttributeNode(n))&&r.specified?r.value:e[n]===!0?n.toLowerCase():null}),oe.find=n,oe.expr=n.selectors,oe.expr[":"]=oe.expr.pseudos,oe.unique=n.uniqueSort,oe.text=n.getText,oe.isXMLDoc=n.isXML,oe.contains=n.contains}(e);var fe={};oe.Callbacks=function(e){e="string"==typeof e?fe[e]||i(e):oe.extend({},e);var n,r,o,s,a,l,c=[],u=!e.once&&[],d=function(t){for(n=e.memory&&t,r=!0,l=s||0,s=0,a=c.length,o=!0;c&&a>l;l++)if(c[l].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}o=!1,c&&(u?u.length&&d(u.shift()):n?c=[]:h.disable())},h={add:function(){if(c){var t=c.length;!function t(n){oe.each(n,function(n,i){var r=oe.type(i);"function"===r?e.unique&&h.has(i)||c.push(i):i&&i.length&&"string"!==r&&t(i)})}(arguments),o?a=c.length:n&&(s=t,d(n))}return this},remove:function(){return c&&oe.each(arguments,function(e,t){for(var n;(n=oe.inArray(t,c,n))>-1;)c.splice(n,1),o&&(a>=n&&a--,l>=n&&l--)}),this},has:function(e){return e?oe.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=u=n=t,this},disabled:function(){return!c},lock:function(){return u=t,n||h.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||r&&!u||(t=t||[],t=[e,t.slice?t.slice():t],o?u.push(t):d(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},oe.extend({Deferred:function(e){var t=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return oe.Deferred(function(n){oe.each(t,function(t,o){var s=o[0],a=oe.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?oe.extend(e,i):i}},r={};return i.pipe=i.then,oe.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=ee.call(arguments),s=o.length,a=1!==s||e&&oe.isFunction(e.promise)?s:0,l=1===a?e:oe.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?ee.call(arguments):r,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=Array(s),n=Array(s),i=Array(s);s>r;r++)o[r]&&oe.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,t)):--a;return a||l.resolveWith(i,o),l.promise()}}),oe.support=function(t){var n=$.createElement("input"),i=$.createDocumentFragment(),r=$.createElement("div"),o=$.createElement("select"),s=o.appendChild($.createElement("option"));return n.type?(n.type="checkbox",t.checkOn=""!==n.value,t.optSelected=s.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,n.checked=!0,t.noCloneChecked=n.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!s.disabled,n=$.createElement("input"),n.value="t",n.type="radio",t.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),i.appendChild(n),t.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in e,r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===r.style.backgroundClip,oe(function(){var n,i,o="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",s=$.getElementsByTagName("body")[0];s&&(n=$.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(n).appendChild(r),r.innerHTML="",r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",oe.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===r.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(r,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(r,null)||{width:"4px"}).width,i=r.appendChild($.createElement("div")),i.style.cssText=r.style.cssText=o,i.style.marginRight=i.style.width="0",r.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),s.removeChild(n))}),t):t}({});var me,ge,ve=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,be=/([A-Z])/g;r.uid=1,r.accepts=function(e){return!e.nodeType||(1===e.nodeType||9===e.nodeType)},r.prototype={key:function(e){if(!r.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=r.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,oe.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,r=this.key(e),o=this.cache[r];if("string"==typeof t)o[t]=n;else if(oe.isEmptyObject(o))oe.extend(this.cache[r],t);else for(i in t)o[i]=t[i];return o},get:function(e,n){var i=this.cache[this.key(e)];return n===t?i:i[n]},access:function(e,n,i){var r;return n===t||n&&"string"==typeof n&&i===t?(r=this.get(e,n),r!==t?r:this.get(e,oe.camelCase(n))):(this.set(e,n,i),i!==t?i:n)},remove:function(e,n){var i,r,o,s=this.key(e),a=this.cache[s];if(n===t)this.cache[s]={};else{oe.isArray(n)?r=n.concat(n.map(oe.camelCase)):(o=oe.camelCase(n),n in a?r=[n,o]:(r=o,r=r in a?[r]:r.match(ae)||[])),i=r.length;for(;i--;)delete a[r[i]]}},hasData:function(e){return!oe.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},me=new r,ge=new r,oe.extend({acceptData:r.accepts,hasData:function(e){return me.hasData(e)||ge.hasData(e)},data:function(e,t,n){return me.access(e,t,n)},removeData:function(e,t){me.remove(e,t)},_data:function(e,t,n){return ge.access(e,t,n)},_removeData:function(e,t){ge.remove(e,t)}}),oe.fn.extend({data:function(e,n){var i,r,s=this[0],a=0,l=null;if(e===t){if(this.length&&(l=me.get(s),1===s.nodeType&&!ge.get(s,"hasDataAttrs"))){for(i=s.attributes;i.length>a;a++)r=i[a].name,0===r.indexOf("data-")&&(r=oe.camelCase(r.slice(5)),o(s,r,l[r]));ge.set(s,"hasDataAttrs",!0)}return l}return"object"==typeof e?this.each(function(){me.set(this,e)}):oe.access(this,function(n){var i,r=oe.camelCase(e);if(s&&n===t){if(i=me.get(s,e),i!==t)return i;if(i=me.get(s,r),i!==t)return i;if(i=o(s,r,t),i!==t)return i}else this.each(function(){var i=me.get(this,r);me.set(this,r,n),-1!==e.indexOf("-")&&i!==t&&me.set(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){me.remove(this,e)})}}),oe.extend({queue:function(e,n,i){var r;return e?(n=(n||"fx")+"queue",r=ge.get(e,n),i&&(!r||oe.isArray(i)?r=ge.access(e,n,oe.makeArray(i)):r.push(i)),r||[]):t},dequeue:function(e,t){t=t||"fx";var n=oe.queue(e,t),i=n.length,r=n.shift(),o=oe._queueHooks(e,t),s=function(){oe.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ge.get(e,n)||ge.access(e,n,{empty:oe.Callbacks("once memory").add(function(){ge.remove(e,[t+"queue",n])})})}}),oe.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),i>arguments.length?oe.queue(this[0],e):n===t?this:this.each(function(){var t=oe.queue(this,e,n);oe._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&oe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){oe.dequeue(this,e)})},delay:function(e,t){return e=oe.fx?oe.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,o=oe.Deferred(),s=this,a=this.length,l=function(){--r||o.resolveWith(s,[s])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";a--;)i=ge.get(s[a],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var ye,_e,xe=/[\t\r\n\f]/g,we=/\r/g,ke=/^(?:input|select|textarea|button)$/i;oe.fn.extend({attr:function(e,t){return oe.access(this,oe.attr,e,t,arguments.length>1);
},removeAttr:function(e){return this.each(function(){oe.removeAttr(this,e)})},prop:function(e,t){return oe.access(this,oe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[oe.propFix[e]||e]})},addClass:function(e){var t,n,i,r,o,s=0,a=this.length,l="string"==typeof e&&e;if(oe.isFunction(e))return this.each(function(t){oe(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ae)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(xe," "):" ")){for(o=0;r=t[o++];)0>i.indexOf(" "+r+" ")&&(i+=r+" ");n.className=oe.trim(i)}return this},removeClass:function(e){var t,n,i,r,o,s=0,a=this.length,l=0===arguments.length||"string"==typeof e&&e;if(oe.isFunction(e))return this.each(function(t){oe(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ae)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(xe," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=e?oe.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):oe.isFunction(e)?this.each(function(n){oe(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,r=oe(this),o=e.match(ae)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===B||"boolean"===n)&&(this.className&&ge.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ge.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(xe," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,o=this[0];return arguments.length?(r=oe.isFunction(e),this.each(function(i){var o;1===this.nodeType&&(o=r?e.call(this,i,oe(this).val()):e,null==o?o="":"number"==typeof o?o+="":oe.isArray(o)&&(o=oe.map(o,function(e){return null==e?"":e+""})),n=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))})):o?(n=oe.valHooks[o.type]||oe.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(o,"value"))!==t?i:(i=o.value,"string"==typeof i?i.replace(we,""):null==i?"":i)):void 0}}),oe.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==r||(oe.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&oe.nodeName(n.parentNode,"optgroup"))){if(t=oe(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=oe.makeArray(t),s=r.length;s--;)i=r[s],(i.selected=oe.inArray(oe(i).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,i){var r,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===B?oe.prop(e,n,i):(1===s&&oe.isXMLDoc(e)||(n=n.toLowerCase(),r=oe.attrHooks[n]||(oe.expr.match.bool.test(n)?_e:ye)),i===t?r&&"get"in r&&null!==(o=r.get(e,n))?o:(o=oe.find.attr(e,n),null==o?t:o):null!==i?r&&"set"in r&&(o=r.set(e,i,n))!==t?o:(e.setAttribute(n,i+""),i):(oe.removeAttr(e,n),t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(ae);if(o&&1===e.nodeType)for(;n=o[r++];)i=oe.propFix[n]||n,oe.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!oe.support.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{for:"htmlFor",class:"className"},prop:function(e,n,i){var r,o,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!oe.isXMLDoc(e),s&&(n=oe.propFix[n]||n,o=oe.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||ke.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),_e={set:function(e,t,n){return t===!1?oe.removeAttr(e,n):e.setAttribute(n,n),n}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(e,n){var i=oe.expr.attrHandle[n]||oe.find.attr;oe.expr.attrHandle[n]=function(e,n,r){var o=oe.expr.attrHandle[n],s=r?t:(oe.expr.attrHandle[n]=t)!=i(e,n,r)?n.toLowerCase():null;return oe.expr.attrHandle[n]=o,s}}),oe.support.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(e,n){return oe.isArray(n)?e.checked=oe.inArray(oe(e).val(),n)>=0:t}},oe.support.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ce=/^key/,Se=/^(?:mouse|contextmenu)|click/,Te=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;oe.event={global:{},add:function(e,n,i,r,o){var s,a,l,c,u,d,h,p,f,m,g,v=ge.get(e);if(v){for(i.handler&&(s=i,i=s.handler,o=s.selector),i.guid||(i.guid=oe.guid++),(c=v.events)||(c=v.events={}),(a=v.handle)||(a=v.handle=function(e){return typeof oe===B||e&&oe.event.triggered===e.type?t:oe.event.dispatch.apply(a.elem,arguments)},a.elem=e),n=(n||"").match(ae)||[""],u=n.length;u--;)l=Me.exec(n[u])||[],f=g=l[1],m=(l[2]||"").split(".").sort(),f&&(h=oe.event.special[f]||{},f=(o?h.delegateType:h.bindType)||f,h=oe.event.special[f]||{},d=oe.extend({type:f,origType:g,data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&oe.expr.match.needsContext.test(o),namespace:m.join(".")},s),(p=c[f])||(p=c[f]=[],p.delegateCount=0,h.setup&&h.setup.call(e,r,m,a)!==!1||e.addEventListener&&e.addEventListener(f,a,!1)),h.add&&(h.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),o?p.splice(p.delegateCount++,0,d):p.push(d),oe.event.global[f]=!0);e=null}},remove:function(e,t,n,i,r){var o,s,a,l,c,u,d,h,p,f,m,g=ge.hasData(e)&&ge.get(e);if(g&&(l=g.events)){for(t=(t||"").match(ae)||[""],c=t.length;c--;)if(a=Me.exec(t[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(d=oe.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,h=l[p]||[],a=a[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)u=h[o],!r&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));s&&!h.length&&(d.teardown&&d.teardown.call(e,f,g.handle)!==!1||oe.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)oe.event.remove(e,p+t[c],n,i,!0);oe.isEmptyObject(l)&&(delete g.handle,ge.remove(e,"events"))}},trigger:function(n,i,r,o){var s,a,l,c,u,d,h,p=[r||$],f=ie.call(n,"type")?n.type:n,m=ie.call(n,"namespace")?n.namespace.split("."):[];if(a=l=r=r||$,3!==r.nodeType&&8!==r.nodeType&&!Te.test(f+oe.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),u=0>f.indexOf(":")&&"on"+f,n=n[oe.expando]?n:new oe.Event(f,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=r),i=null==i?[n]:oe.makeArray(i,[n]),h=oe.event.special[f]||{},o||!h.trigger||h.trigger.apply(r,i)!==!1)){if(!o&&!h.noBubble&&!oe.isWindow(r)){for(c=h.delegateType||f,Te.test(c+f)||(a=a.parentNode);a;a=a.parentNode)p.push(a),l=a;l===(r.ownerDocument||$)&&p.push(l.defaultView||l.parentWindow||e)}for(s=0;(a=p[s++])&&!n.isPropagationStopped();)n.type=s>1?c:h.bindType||f,d=(ge.get(a,"events")||{})[n.type]&&ge.get(a,"handle"),d&&d.apply(a,i),d=u&&a[u],d&&oe.acceptData(a)&&d.apply&&d.apply(a,i)===!1&&n.preventDefault();return n.type=f,o||n.isDefaultPrevented()||h._default&&h._default.apply(p.pop(),i)!==!1||!oe.acceptData(r)||u&&oe.isFunction(r[f])&&!oe.isWindow(r)&&(l=r[u],l&&(r[u]=null),oe.event.triggered=f,r[f](),oe.event.triggered=t,l&&(r[u]=l)),n.result}},dispatch:function(e){e=oe.event.fix(e);var n,i,r,o,s,a=[],l=ee.call(arguments),c=(ge.get(this,"events")||{})[e.type]||[],u=oe.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=oe.event.handlers.call(this,e,c),n=0;(o=a[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,i=0;(s=o.handlers[i++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(s.namespace))&&(e.handleObj=s,e.data=s.data,r=((oe.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,r,o,s,a=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!==this;c=c.parentNode||this)if(c.disabled!==!0||"click"!==e.type){for(r=[],i=0;l>i;i++)s=n[i],o=s.selector+" ",r[o]===t&&(r[o]=s.needsContext?oe(o,this).index(c)>=0:oe.find(o,this,null,[c]).length),r[o]&&r.push(s);r.length&&a.push({elem:c,handlers:r})}return n.length>l&&a.push({elem:this,handlers:n.slice(l)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,o,s=n.button;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||$,r=i.documentElement,o=i.body,e.pageX=n.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[oe.expando])return e;var t,n,i,r=e.type,o=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Se.test(r)?this.mouseHooks:Ce.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new oe.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=$),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):t},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&oe.nodeName(this,"input")?(this.click(),!1):t},_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=oe.extend(new oe.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?oe.event.trigger(r,null,t):oe.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},oe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},oe.Event=function(e,n){return this instanceof oe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?s:a):this.type=e,n&&oe.extend(this,n),this.timeStamp=e&&e.timeStamp||oe.now(),this[oe.expando]=!0,t):new oe.Event(e,n)},oe.Event.prototype={isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=s,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=s,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!oe.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),oe.support.focusinBubbles||oe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){oe.event.simulate(t,e.target,oe.event.fix(e),!0)};oe.event.special[t]={setup:function(){0===n++&&$.addEventListener(e,i,!0)},teardown:function(){0===--n&&$.removeEventListener(e,i,!0)}}}),oe.fn.extend({on:function(e,n,i,r,o){var s,l;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(l in e)this.on(l,n,i,e[l],o);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=a;else if(!r)return this;return 1===o&&(s=r,r=function(e){return oe().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=oe.guid++)),this.each(function(){oe.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,oe(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=a),this.each(function(){oe.event.remove(this,e,i,n)})},trigger:function(e,t){return this.each(function(){oe.event.trigger(e,t,this)})},triggerHandler:function(e,n){var i=this[0];return i?oe.event.trigger(e,n,i,!0):t}});var De=/^.[^:#\[\.,]*$/,Ae=/^(?:parents|prev(?:Until|All))/,Ee=oe.expr.match.needsContext,Oe={children:!0,contents:!0,next:!0,prev:!0};oe.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(oe(e).filter(function(){for(t=0;r>t;t++)if(oe.contains(i[t],this))return!0}));for(t=0;r>t;t++)oe.find(e,i[t],n);return n=this.pushStack(r>1?oe.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t=oe(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(oe.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(u(this,e||[],!0))},filter:function(e){return this.pushStack(u(this,e||[],!1))},is:function(e){return!!u(this,"string"==typeof e&&Ee.test(e)?oe(e):e||[],!1).length},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=Ee.test(e)||"string"!=typeof e?oe(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(s?s.index(n)>-1:1===n.nodeType&&oe.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?oe.unique(o):o)},index:function(e){return e?"string"==typeof e?te.call(oe(e),this[0]):te.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?oe(e,t):oe.makeArray(e&&e.nodeType?[e]:e),i=oe.merge(this.get(),n);return this.pushStack(oe.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return oe.dir(e,"parentNode")},parentsUntil:function(e,t,n){return oe.dir(e,"parentNode",n)},next:function(e){return c(e,"nextSibling")},prev:function(e){return c(e,"previousSibling")},nextAll:function(e){return oe.dir(e,"nextSibling")},prevAll:function(e){return oe.dir(e,"previousSibling")},nextUntil:function(e,t,n){return oe.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return oe.dir(e,"previousSibling",n)},siblings:function(e){return oe.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return oe.sibling(e.firstChild)},contents:function(e){return e.contentDocument||oe.merge([],e.childNodes)}},function(e,t){oe.fn[e]=function(n,i){var r=oe.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=oe.filter(i,r)),this.length>1&&(Oe[e]||oe.unique(r),Ae.test(e)&&r.reverse()),this.pushStack(r)}}),oe.extend({filter:function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?oe.find.matchesSelector(i,e)?[i]:[]:oe.find.matches(e,oe.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,i){for(var r=[],o=i!==t;(e=e[n])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&oe(e).is(i))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Le=/<([\w:]+)/,Ne=/<|&#?\w+;/,Ie=/<(?:script|style|link)/i,Pe=/^(?:checkbox|radio)$/i,ze=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^$|\/(?:java|ecma)script/i,He=/^true\/(.*)/,We=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Re={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Re.optgroup=Re.option,Re.tbody=Re.tfoot=Re.colgroup=Re.caption=Re.thead,Re.th=Re.td,oe.fn.extend({text:function(e){return oe.access(this,function(e){return e===t?oe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||$).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?oe.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||oe.cleanData(g(n)),n.parentNode&&(t&&oe.contains(n.ownerDocument,n)&&f(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(oe.cleanData(g(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return oe.clone(this,e,t)})},html:function(e){return oe.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t&&1===n.nodeType)return n.innerHTML;if("string"==typeof e&&!Ie.test(e)&&!Re[(Le.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(je,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(oe.cleanData(g(n,!1)),n.innerHTML=e);n=0}catch(e){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=oe.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var i=e[t++],r=e[t++];r&&(i&&i.parentNode!==r&&(i=this.nextSibling),oe(this).remove(),r.insertBefore(n,i))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=Q.apply([],e);var i,r,o,s,a,l,c=0,u=this.length,d=this,f=u-1,m=e[0],v=oe.isFunction(m);if(v||!(1>=u||"string"!=typeof m||oe.support.checkClone)&&ze.test(m))return this.each(function(i){var r=d.eq(i);v&&(e[0]=m.call(this,i,r.html())),r.domManip(e,t,n)});if(u&&(i=oe.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=i.firstChild,1===i.childNodes.length&&(i=r),r)){for(o=oe.map(g(i,"script"),h),s=o.length;u>c;c++)a=i,c!==f&&(a=oe.clone(a,!0,!0),s&&oe.merge(o,g(a,"script"))),t.call(this[c],a,c);if(s)for(l=o[o.length-1].ownerDocument,oe.map(o,p),c=0;s>c;c++)a=o[c],Fe.test(a.type||"")&&!ge.access(a,"globalEval")&&oe.contains(l,a)&&(a.src?oe._evalUrl(a.src):oe.globalEval(a.textContent.replace(We,"")))}return this}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){oe.fn[e]=function(e){for(var n,i=[],r=oe(e),o=r.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),oe(r[s])[t](n),Z.apply(i,n.get());return this.pushStack(i)}}),oe.extend({clone:function(e,t,n){var i,r,o,s,a=e.cloneNode(!0),l=oe.contains(e.ownerDocument,e);if(!(oe.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e)))for(s=g(a),o=g(e),i=0,r=o.length;r>i;i++)v(o[i],s[i]);if(t)if(n)for(o=o||g(e),s=s||g(a),i=0,r=o.length;r>i;i++)m(o[i],s[i]);else m(e,a);return s=g(a,"script"),s.length>0&&f(s,!l&&g(e,"script")),a},buildFragment:function(e,t,n,i){for(var r,o,s,a,l,c,u=0,d=e.length,h=t.createDocumentFragment(),p=[];d>u;u++)if(r=e[u],r||0===r)if("object"===oe.type(r))oe.merge(p,r.nodeType?[r]:r);else if(Ne.test(r)){for(o=o||h.appendChild(t.createElement("div")),s=(Le.exec(r)||["",""])[1].toLowerCase(),a=Re[s]||Re._default,o.innerHTML=a[1]+r.replace(je,"<$1></$2>")+a[2],c=a[0];c--;)o=o.lastChild;oe.merge(p,o.childNodes),o=h.firstChild,o.textContent=""}else p.push(t.createTextNode(r));for(h.textContent="",u=0;r=p[u++];)if((!i||-1===oe.inArray(r,i))&&(l=oe.contains(r.ownerDocument,r),o=g(h.appendChild(r),"script"),l&&f(o),n))for(c=0;r=o[c++];)Fe.test(r.type||"")&&n.push(r);return h},cleanData:function(e){for(var n,i,o,s,a,l,c=oe.event.special,u=0;(i=e[u])!==t;u++){if(r.accepts(i)&&(a=i[ge.expando],a&&(n=ge.cache[a]))){if(o=Object.keys(n.events||{}),o.length)for(l=0;(s=o[l])!==t;l++)c[s]?oe.event.remove(i,s):oe.removeEvent(i,s,n.handle);ge.cache[a]&&delete ge.cache[a]}delete me.cache[i[me.expando]]}},_evalUrl:function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}}),oe.fn.extend({wrapAll:function(e){var t;return oe.isFunction(e)?this.each(function(t){oe(this).wrapAll(e.call(this,t))}):(this[0]&&(t=oe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return oe.isFunction(e)?this.each(function(t){oe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=oe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=oe.isFunction(e);return this.each(function(n){oe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}});var qe,Be,Ue=/^(none|table(?!-c[ea]).+)/,$e=/^margin/,Ye=RegExp("^("+se+")(.*)$","i"),Je=RegExp("^("+se+")(?!px)[a-z%]+$","i"),Ve=RegExp("^([+-])=("+se+")","i"),Ge={BODY:"block"},Ke={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:0,fontWeight:400},Qe=["Top","Right","Bottom","Left"],Ze=["Webkit","O","Moz","ms"];oe.fn.extend({css:function(e,n){return oe.access(this,function(e,n,i){var r,o,s={},a=0;if(oe.isArray(n)){for(r=_(e),o=n.length;o>a;a++)s[n[a]]=oe.css(e,n[a],!1,r);return s}return i!==t?oe.style(e,n,i):oe.css(e,n)},e,n,arguments.length>1)},show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){y(this)?oe(this).show():oe(this).hide()})}}),oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,a,l=oe.camelCase(n),c=e.style;return n=oe.cssProps[l]||(oe.cssProps[l]=b(c,l)),a=oe.cssHooks[n]||oe.cssHooks[l],i===t?a&&"get"in a&&(o=a.get(e,!1,r))!==t?o:c[n]:(s=typeof i,"string"===s&&(o=Ve.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(oe.css(e,n)),s="number"),null==i||"number"===s&&isNaN(i)||("number"!==s||oe.cssNumber[l]||(i+="px"),oe.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),a&&"set"in a&&(i=a.set(e,i,r))===t||(c[n]=i)),t)}},css:function(e,n,i,r){var o,s,a,l=oe.camelCase(n);return n=oe.cssProps[l]||(oe.cssProps[l]=b(e.style,l)),a=oe.cssHooks[n]||oe.cssHooks[l],a&&"get"in a&&(o=a.get(e,!0,i)),o===t&&(o=qe(e,n,r)),"normal"===o&&n in Xe&&(o=Xe[n]),""===i||i?(s=parseFloat(o),i===!0||oe.isNumeric(s)?s||0:o):o}}),qe=function(e,n,i){var r,o,s,a=i||_(e),l=a?a.getPropertyValue(n)||a[n]:t,c=e.style;return a&&(""!==l||oe.contains(e.ownerDocument,e)||(l=oe.style(e,n)),Je.test(l)&&$e.test(n)&&(r=c.width,o=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=a.width,c.width=r,c.minWidth=o,c.maxWidth=s)),l},oe.each(["height","width"],function(e,n){oe.cssHooks[n]={get:function(e,i,r){return i?0===e.offsetWidth&&Ue.test(oe.css(e,"display"))?oe.swap(e,Ke,function(){return C(e,n,r)}):C(e,n,r):t},set:function(e,t,i){var r=i&&_(e);return w(e,t,i?k(e,n,i,oe.support.boxSizing&&"border-box"===oe.css(e,"boxSizing",!1,r),r):0)}}}),oe(function(){oe.support.reliableMarginRight||(oe.cssHooks.marginRight={get:function(e,n){return n?oe.swap(e,{display:"inline-block"},qe,[e,"marginRight"]):t}}),!oe.support.pixelPosition&&oe.fn.position&&oe.each(["top","left"],function(e,n){oe.cssHooks[n]={get:function(e,i){return i?(i=qe(e,n),Je.test(i)?oe(e).position()[n]+"px":i):t}}})}),oe.expr&&oe.expr.filters&&(oe.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight},oe.expr.filters.visible=function(e){return!oe.expr.filters.hidden(e)}),oe.each({margin:"",padding:"",border:"Width"},function(e,t){oe.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Qe[i]+t]=o[i]||o[i-2]||o[0];return r}},$e.test(e)||(oe.cssHooks[e+t].set=w)});var et=/%20/g,tt=/\[\]$/,nt=/\r?\n/g,it=/^(?:submit|button|image|reset|file)$/i,rt=/^(?:input|select|textarea|keygen)/i;oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&rt.test(this.nodeName)&&!it.test(e)&&(this.checked||!Pe.test(e))}).map(function(e,t){var n=oe(this).val();return null==n?null:oe.isArray(n)?oe.map(n,function(e){return{name:t.name,value:e.replace(nt,"\r\n")}}):{name:t.name,value:n.replace(nt,"\r\n")}}).get()}}),oe.param=function(e,n){var i,r=[],o=function(e,t){t=oe.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,function(){o(this.name,this.value)});else for(i in e)M(i,e[i],n,o);return r.join("&").replace(et,"+")},oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){oe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ot,st,at=oe.now(),lt=/\?/,ct=/#.*$/,ut=/([?&])_=[^&]*/,dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ht=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pt=/^(?:GET|HEAD)$/,ft=/^\/\//,mt=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,gt=oe.fn.load,vt={},bt={},yt="*/".concat("*");try{st=U.href}catch(e){st=$.createElement("a"),st.href="",st=st.href}ot=mt.exec(st.toLowerCase())||[],oe.fn.load=function(e,n,i){if("string"!=typeof e&&gt)return gt.apply(this,arguments);var r,o,s,a=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l),e=e.slice(0,l)),oe.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(o="POST"),a.length>0&&oe.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){s=arguments,a.html(r?oe("<div>").append(oe.parseHTML(e)).find(r):e)}).complete(i&&function(e,t){a.each(i,s||[e.responseText,t,e])}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){oe.fn[t]=function(e){return this.on(t,e)}}),oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:st,type:"GET",isLocal:ht.test(ot[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":yt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?E(E(e,oe.ajaxSettings),t):E(oe.ajaxSettings,e)},ajaxPrefilter:D(vt),ajaxTransport:D(bt),ajax:function(e,n){function i(e,n,i,a){var c,d,b,y,x,k=n;2!==_&&(_=2,l&&clearTimeout(l),r=t,s=a||"",w.readyState=e>0?4:0,c=e>=200&&300>e||304===e,i&&(y=O(h,w,i)),y=j(h,y,w,c),c?(h.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(oe.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(oe.etag[o]=x)),204===e||"HEAD"===h.type?k="nocontent":304===e?k="notmodified":(k=y.state,d=y.data,b=y.error,c=!b)):(b=k,(e||!k)&&(k="error",0>e&&(e=0))),w.status=e,w.statusText=(n||k)+"",c?m.resolveWith(p,[d,k,w]):m.rejectWith(p,[w,k,b]),w.statusCode(v),v=t,u&&f.trigger(c?"ajaxSuccess":"ajaxError",[w,h,c?d:b]),g.fireWith(p,[w,k]),u&&(f.trigger("ajaxComplete",[w,h]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,s,a,l,c,u,d,h=oe.ajaxSetup({},n),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?oe(p):oe.event,m=oe.Deferred(),g=oe.Callbacks("once memory"),v=h.statusCode||{},b={},y={},_=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===_){if(!a)for(a={};t=dt.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===_?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return _||(e=y[n]=y[n]||e,b[e]=t),this},overrideMimeType:function(e){return _||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>_)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return r&&r.abort(t),i(0,t),this}};if(m.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,h.url=((e||h.url||st)+"").replace(ct,"").replace(ft,ot[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=oe.trim(h.dataType||"*").toLowerCase().match(ae)||[""],null==h.crossDomain&&(c=mt.exec(h.url.toLowerCase()),h.crossDomain=!(!c||c[1]===ot[1]&&c[2]===ot[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(ot[3]||("http:"===ot[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=oe.param(h.data,h.traditional)),A(vt,h,n,w),2===_)return w;u=h.global,u&&0===oe.active++&&oe.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!pt.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(lt.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=ut.test(o)?o.replace(ut,"$1_="+at++):o+(lt.test(o)?"&":"?")+"_="+at++)),h.ifModified&&(oe.lastModified[o]&&w.setRequestHeader("If-Modified-Since",oe.lastModified[o]),oe.etag[o]&&w.setRequestHeader("If-None-Match",oe.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+yt+"; q=0.01":""):h.accepts["*"]);for(d in h.headers)w.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(h.beforeSend.call(p,w,h)===!1||2===_))return w.abort();x="abort";for(d in{success:1,error:1,complete:1})w[d](h[d]);if(r=A(bt,h,n,w)){w.readyState=1,u&&f.trigger("ajaxSend",[w,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){w.abort("timeout")},h.timeout));try{_=1,r.send(b,i)}catch(e){if(!(2>_))throw e;i(-1,e)}}else i(-1,"No Transport");return w},getJSON:function(e,t,n){return oe.get(e,t,n,"json")},
getScript:function(e,n){return oe.get(e,t,n,"script")}}),oe.each(["get","post"],function(e,n){oe[n]=function(e,i,r,o){return oe.isFunction(i)&&(o=o||r,r=i,i=t),oe.ajax({url:e,type:n,dataType:o,data:i,success:r})}}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return oe.globalEval(e),e}}}),oe.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),oe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=oe("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),$.head.appendChild(t[0])},abort:function(){n&&n()}}}});var _t=[],xt=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=_t.pop()||oe.expando+"_"+at++;return this[e]=!0,e}}),oe.ajaxPrefilter("json jsonp",function(n,i,r){var o,s,a,l=n.jsonp!==!1&&(xt.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&xt.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=oe.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(xt,"$1"+o):n.jsonp!==!1&&(n.url+=(lt.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return a||oe.error(o+" was not called"),a[0]},n.dataTypes[0]="json",s=e[o],e[o]=function(){a=arguments},r.always(function(){e[o]=s,n[o]&&(n.jsonpCallback=i.jsonpCallback,_t.push(o)),a&&oe.isFunction(s)&&s(a[0]),a=s=t}),"script"):t}),oe.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var wt=oe.ajaxSettings.xhr(),kt={0:200,1223:204},Ct=0,St={};e.ActiveXObject&&oe(e).on("unload",function(){for(var e in St)St[e]();St=t}),oe.support.cors=!!wt&&"withCredentials"in wt,oe.support.ajax=wt=!!wt,oe.ajaxTransport(function(e){var n;return oe.support.cors||wt&&!e.crossDomain?{send:function(i,r){var o,s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)a.setRequestHeader(o,i[o]);n=function(e){return function(){n&&(delete St[s],n=a.onload=a.onerror=null,"abort"===e?a.abort():"error"===e?r(a.status||404,a.statusText):r(kt[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:t,a.getAllResponseHeaders()))}},a.onload=n(),a.onerror=n("error"),n=St[s=Ct++]=n("abort"),a.send(e.hasContent&&e.data||null)},abort:function(){n&&n()}}:t});var Tt,Mt,Dt=/^(?:toggle|show|hide)$/,At=RegExp("^(?:([+-])=|)("+se+")([a-z%]*)$","i"),Et=/queueHooks$/,Ot=[z],jt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=At.exec(t),o=r&&r[3]||(oe.cssNumber[e]?"":"px"),s=(oe.cssNumber[e]||"px"!==o&&+i)&&At.exec(oe.css(n.elem,e)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+i||1;do a=a||".5",s/=a,oe.style(n.elem,e,s+o);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};oe.Animation=oe.extend(I,{tweener:function(e,t){oe.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],jt[n]=jt[n]||[],jt[n].unshift(t)},prefilter:function(e,t){t?Ot.unshift(e):Ot.push(e)}}),oe.Tween=F,F.prototype={constructor:F,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(oe.cssNumber[n]?"":"px")},cur:function(){var e=F.propHooks[this.prop];return e&&e.get?e.get(this):F.propHooks._default.get(this)},run:function(e){var t,n=F.propHooks[this.prop];return this.pos=t=this.options.duration?oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=oe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[oe.cssProps[e.prop]]||oe.cssHooks[e.prop])?oe.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},oe.each(["toggle","show","hide"],function(e,t){var n=oe.fn[t];oe.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(H(t,!0),e,i,r)}}),oe.fn.extend({fadeTo:function(e,t,n,i){return this.filter(y).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=oe.isEmptyObject(e),o=oe.speed(t,n,i),s=function(){var t=I(this,oe.extend({},e),o);(r||ge.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=oe.timers,s=ge.get(this);if(n)s[n]&&s[n].stop&&r(s[n]);else for(n in s)s[n]&&s[n].stop&&Et.test(n)&&r(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&oe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ge.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=oe.timers,s=i?i.length:0;for(n.finish=!0,oe.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),oe.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){oe.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),oe.speed=function(e,t,n){var i=e&&"object"==typeof e?oe.extend({},e):{complete:n||!n&&t||oe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!oe.isFunction(t)&&t};return i.duration=oe.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in oe.fx.speeds?oe.fx.speeds[i.duration]:oe.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){oe.isFunction(i.old)&&i.old.call(this),i.queue&&oe.dequeue(this,i.queue)},i},oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},oe.timers=[],oe.fx=F.prototype.init,oe.fx.tick=function(){var e,n=oe.timers,i=0;for(Tt=oe.now();n.length>i;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||oe.fx.stop(),Tt=t},oe.fx.timer=function(e){e()&&oe.timers.push(e)&&oe.fx.start()},oe.fx.interval=13,oe.fx.start=function(){Mt||(Mt=setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){clearInterval(Mt),Mt=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fx.step={},oe.expr&&oe.expr.filters&&(oe.expr.filters.animated=function(e){return oe.grep(oe.timers,function(t){return e===t.elem}).length}),oe.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){oe.offset.setOffset(this,e,t)});var n,i,r=this[0],o={top:0,left:0},s=r&&r.ownerDocument;return s?(n=s.documentElement,oe.contains(n,r)?(typeof r.getBoundingClientRect!==B&&(o=r.getBoundingClientRect()),i=W(s),{top:o.top+i.pageYOffset-n.clientTop,left:o.left+i.pageXOffset-n.clientLeft}):o):void 0},oe.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,c,u=oe.css(e,"position"),d=oe(e),h={};"static"===u&&(e.style.position="relative"),a=d.offset(),o=oe.css(e,"top"),l=oe.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1,c?(i=d.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),oe.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+r),"using"in t?t.using.call(e,h):d.css(h)}},oe.fn.extend({position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===oe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),oe.nodeName(e[0],"html")||(i=e.offset()),i.top+=oe.css(e[0],"borderTopWidth",!0),i.left+=oe.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-oe.css(n,"marginTop",!0),left:t.left-i.left-oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Y;e&&!oe.nodeName(e,"html")&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||Y})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,i){var r="pageYOffset"===i;oe.fn[n]=function(o){return oe.access(this,function(n,o,s){var a=W(n);return s===t?a?a[i]:n[o]:(a?a.scrollTo(r?e.pageXOffset:s,r?s:e.pageYOffset):n[o]=s,t)},n,o,arguments.length,null)}}),oe.each({Height:"height",Width:"width"},function(e,n){oe.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){oe.fn[r]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||o===!0?"margin":"border");return oe.access(this,function(n,i,r){var o;return oe.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):r===t?oe.css(n,i,a):oe.style(n,i,r,a)},n,s?r:t,s,null)}})}),oe.fn.size=function(){return this.length},oe.fn.andSelf=oe.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=oe:"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe}),"object"==typeof e&&"object"==typeof e.document&&(e.jQuery=e.$=oe)}(window),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("sockjs",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.SockJS=e()}}(function(){var e;return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return r(n?n:e)},u,u.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){(function(n){"use strict";var i=e("./transport-list");t.exports=e("./main")(i),"_sockjs_onload"in n&&setTimeout(n._sockjs_onload,1)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./main":14,"./transport-list":16}],2:[function(e,t,n){"use strict";function i(){o.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}var r=e("inherits"),o=e("./event");r(i,o),t.exports=i},{"./event":4,inherits:57}],3:[function(e,t,n){"use strict";function i(){o.call(this)}var r=e("inherits"),o=e("./eventtarget");r(i,o),i.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}},i.prototype.once=function(e,t){function n(){i.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}var i=this,r=!1;this.on(e,n)},i.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,i=new Array(n-1),r=1;r<n;r++)i[r-1]=arguments[r];for(var o=0;o<t.length;o++)t[o].apply(this,i)}},i.prototype.on=i.prototype.addListener=o.prototype.addEventListener,i.prototype.removeListener=o.prototype.removeEventListener,t.exports.EventEmitter=i},{"./eventtarget":5,inherits:57}],4:[function(e,t,n){"use strict";function i(e){this.type=e}i.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this},i.prototype.stopPropagation=function(){},i.prototype.preventDefault=function(){},i.CAPTURING_PHASE=1,i.AT_TARGET=2,i.BUBBLING_PHASE=3,t.exports=i},{}],5:[function(e,t,n){"use strict";function i(){this._listeners={}}i.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];n.indexOf(t)===-1&&(n=n.concat([t])),this._listeners[e]=n},i.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var i=n.indexOf(t);return i!==-1?void(n.length>1?this._listeners[e]=n.slice(0,i).concat(n.slice(i+1)):delete this._listeners[e]):void 0}},i.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=1===arguments.length?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var i=this._listeners[t],r=0;r<i.length;r++)i[r].apply(this,n)},t.exports=i},{}],6:[function(e,t,n){"use strict";function i(e){o.call(this),this.initEvent("message",!1,!1),this.data=e}var r=e("inherits"),o=e("./event");r(i,o),t.exports=i},{"./event":4,inherits:57}],7:[function(e,t,n){"use strict";function i(e){this._transport=e,e.on("message",this._transportMessage.bind(this)),e.on("close",this._transportClose.bind(this))}var r=e("json3"),o=e("./utils/iframe");i.prototype._transportClose=function(e,t){o.postMessage("c",r.stringify([e,t]))},i.prototype._transportMessage=function(e){o.postMessage("t",e)},i.prototype._send=function(e){this._transport.send(e)},i.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},t.exports=i},{"./utils/iframe":47,json3:58}],8:[function(e,t,n){(function(n){"use strict";var i=e("./utils/url"),r=e("./utils/event"),o=e("json3"),s=e("./facade"),a=e("./info-iframe-receiver"),l=e("./utils/iframe"),c=e("./location"),u=function(){};"production"!==n.env.NODE_ENV&&(u=e("debug")("sockjs-client:iframe-bootstrap")),t.exports=function(e,t){var n={};t.forEach(function(e){e.facadeTransport&&(n[e.facadeTransport.transportName]=e.facadeTransport)}),n[a.transportName]=a;var d;e.bootstrap_iframe=function(){var t;l.currentWindowId=c.hash.slice(1);var a=function(r){if(r.source===parent&&("undefined"==typeof d&&(d=r.origin),r.origin===d)){var a;try{a=o.parse(r.data)}catch(e){return void u("bad json",r.data)}if(a.windowId===l.currentWindowId)switch(a.type){case"s":var h;try{h=o.parse(a.data)}catch(e){u("bad json",a.data);break}var p=h[0],f=h[1],m=h[2],g=h[3];if(u(p,f,m,g),p!==e.version)throw new Error('Incompatible SockJS! Main site uses: "'+p+'", the iframe: "'+e.version+'".');if(!i.isOriginEqual(m,c.href)||!i.isOriginEqual(g,c.href))throw new Error("Can't connect to different domain from within an iframe. ("+c.href+", "+m+", "+g+")");t=new s(new n[f](m,g));break;case"m":t._send(a.data);break;case"c":t&&t._close(),t=null}}};r.attachEvent("message",a),l.postMessage("s")}}}).call(this,{env:{}})},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":46,"./utils/iframe":47,"./utils/url":52,debug:55,json3:58}],9:[function(e,t,n){(function(n){"use strict";function i(e,t){r.call(this);var n=this,i=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(e,t){var r,o;if(200===e){if(o=+new Date-i,t)try{r=s.parse(t)}catch(e){l("bad json",t)}a.isObject(r)||(r={})}n.emit("finish",r,o),n.removeAllListeners()})}var r=e("events").EventEmitter,o=e("inherits"),s=e("json3"),a=e("./utils/object"),l=function(){};"production"!==n.env.NODE_ENV&&(l=e("debug")("sockjs-client:info-ajax")),o(i,r),i.prototype.close=function(){this.removeAllListeners(),this.xo.close()},t.exports=i}).call(this,{env:{}})},{"./utils/object":49,debug:55,events:3,inherits:57,json3:58}],10:[function(e,t,n){"use strict";function i(e){var t=this;o.call(this),this.ir=new l(e,a),this.ir.once("finish",function(e,n){t.ir=null,t.emit("message",s.stringify([e,n]))})}var r=e("inherits"),o=e("events").EventEmitter,s=e("json3"),a=e("./transport/sender/xhr-local"),l=e("./info-ajax");r(i,o),i.transportName="iframe-info-receiver",i.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},t.exports=i},{"./info-ajax":9,"./transport/sender/xhr-local":37,events:3,inherits:57,json3:58}],11:[function(e,t,n){(function(n,i){"use strict";function r(e,t){var n=this;o.call(this);var r=function(){var i=n.ifr=new c(u.transportName,t,e);i.once("message",function(e){if(e){var t;try{t=a.parse(e)}catch(t){return d("bad json",e),n.emit("finish"),void n.close()}var i=t[0],r=t[1];n.emit("finish",i,r)}n.close()}),i.once("close",function(){n.emit("finish"),n.close()})};i.document.body?r():l.attachEvent("load",r)}var o=e("events").EventEmitter,s=e("inherits"),a=e("json3"),l=e("./utils/event"),c=e("./transport/iframe"),u=e("./info-iframe-receiver"),d=function(){};"production"!==n.env.NODE_ENV&&(d=e("debug")("sockjs-client:info-iframe")),s(r,o),r.enabled=function(){return c.enabled()},r.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},t.exports=r}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,debug:55,events:3,inherits:57,json3:58}],12:[function(e,t,n){(function(n){"use strict";function i(e,t){p(e);var n=this;r.call(this),setTimeout(function(){n.doXhr(e,t)},0)}var r=e("events").EventEmitter,o=e("inherits"),s=e("./utils/url"),a=e("./transport/sender/xdr"),l=e("./transport/sender/xhr-cors"),c=e("./transport/sender/xhr-local"),u=e("./transport/sender/xhr-fake"),d=e("./info-iframe"),h=e("./info-ajax"),p=function(){};"production"!==n.env.NODE_ENV&&(p=e("debug")("sockjs-client:info-receiver")),o(i,r),i._getReceiver=function(e,t,n){return n.sameOrigin?new h(t,c):l.enabled?new h(t,l):a.enabled&&n.sameScheme?new h(t,a):d.enabled()?new d(e,t):new h(t,u)},i.prototype.doXhr=function(e,t){var n=this,r=s.addPath(e,"/info");p("doXhr",r),this.xo=i._getReceiver(e,r,t),this.timeoutRef=setTimeout(function(){p("timeout"),n._cleanup(!1),n.emit("finish")},i.timeout),this.xo.once("finish",function(e,t){p("finish",e,t),n._cleanup(!0),n.emit("finish",e,t)})},i.prototype._cleanup=function(e){p("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null},i.prototype.close=function(){p("close"),this.removeAllListeners(),this._cleanup(!1)},i.timeout=8e3,t.exports=i}).call(this,{env:{}})},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":52,debug:55,events:3,inherits:57}],13:[function(e,t,n){(function(e){"use strict";t.exports=e.location||{origin:"http://localhost:80",protocol:"http",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(e,t,n){(function(n,i){"use strict";function r(e,t,n){if(!(this instanceof r))return new r(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");b.call(this),this.readyState=r.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&g.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{};var i=n.sessionId||8;if("function"==typeof i)this._generateSessionId=i;else{if("number"!=typeof i)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return c.string(i)}}this._server=n.server||c.numberString(1e3);var o=new s(e);if(!o.host||!o.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(o.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==o.protocol&&"https:"!==o.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+o.protocol+"' is not allowed.");var a="https:"===o.protocol;if("https"===y.protocol&&!a)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var l=t.sort();l.forEach(function(e,t){if(!e)throw new SyntaxError("The protocols entry '"+e+"' is invalid.");if(t<l.length-1&&e===l[t+1])throw new SyntaxError("The protocols entry '"+e+"' is duplicated.")});var u=d.getOrigin(y.href);this._origin=u?u.toLowerCase():null,o.set("pathname",o.pathname.replace(/\/+$/,"")),this.url=o.href,k("using url",this.url),this._urlInfo={nullOrigin:!m.hasDomain(),sameOrigin:d.isOriginEqual(this.url,y.href),sameScheme:d.isSchemeEqual(this.url,y.href)},this._ir=new w(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function o(e){return 1e3===e||e>=3e3&&e<=4999}e("./shims");var s=e("url-parse"),a=e("inherits"),l=e("json3"),c=e("./utils/random"),u=e("./utils/escape"),d=e("./utils/url"),h=e("./utils/event"),p=e("./utils/transport"),f=e("./utils/object"),m=e("./utils/browser"),g=e("./utils/log"),v=e("./event/event"),b=e("./event/eventtarget"),y=e("./location"),_=e("./event/close"),x=e("./event/trans-message"),w=e("./info-receiver"),k=function(){};"production"!==n.env.NODE_ENV&&(k=e("debug")("sockjs-client:main"));var C;a(r,b),r.prototype.close=function(e,t){if(e&&!o(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==r.CLOSING&&this.readyState!==r.CLOSED){var n=!0;this._close(e||1e3,t||"Normal closure",n)}},r.prototype.send=function(e){if("string"!=typeof e&&(e=""+e),this.readyState===r.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===r.OPEN&&this._transport.send(u.quote(e))},r.version=e("./version"),r.CONNECTING=0,r.OPEN=1,r.CLOSING=2,r.CLOSED=3,r.prototype._receiveInfo=function(e,t){if(k("_receiveInfo",t),this._ir=null,!e)return void this._close(1002,"Cannot connect to server");this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=f.extend(e,this._urlInfo),k("info",e);var n=C.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,k(this._transports.length+" enabled transports"),this._connect()},r.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(k("attempt",e.transportName),e.needBody&&(!i.document.body||"undefined"!=typeof i.document.readyState&&"complete"!==i.document.readyState&&"interactive"!==i.document.readyState))return k("waiting for body"),this._transports.unshift(e),void h.attachEvent("load",this._connect.bind(this));var t=this._rto*e.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t),k("using timeout",t);var n=d.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),r=this._transportOptions[e.transportName];k("transport url",n);var o=new e(n,this._transUrl,r);return o.on("message",this._transportMessage.bind(this)),o.once("close",this._transportClose.bind(this)),o.transportName=e.transportName,void(this._transport=o)}this._close(2e3,"All transports failed",!1)},r.prototype._transportTimeout=function(){k("_transportTimeout"),this.readyState===r.CONNECTING&&this._transportClose(2007,"Transport timed out")},r.prototype._transportMessage=function(e){k("_transportMessage",e);var t,n=this,i=e.slice(0,1),r=e.slice(1);switch(i){case"o":return void this._open();case"h":return this.dispatchEvent(new v("heartbeat")),void k("heartbeat",this.transport)}if(r)try{t=l.parse(r)}catch(e){k("bad json",r)}if("undefined"==typeof t)return void k("empty payload",r);switch(i){case"a":Array.isArray(t)&&t.forEach(function(e){k("message",n.transport,e),n.dispatchEvent(new x(e))});break;case"m":k("message",this.transport,t),this.dispatchEvent(new x(t));break;case"c":Array.isArray(t)&&2===t.length&&this._close(t[0],t[1],!0)}},r.prototype._transportClose=function(e,t){return k("_transportClose",this.transport,e,t),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),o(e)||2e3===e||this.readyState!==r.CONNECTING?void this._close(e,t):void this._connect()},r.prototype._open=function(){k("_open",this._transport.transportName,this.readyState),this.readyState===r.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=r.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new v("open")),k("connected",this.transport)):this._close(1006,"Server lost session")},r.prototype._close=function(e,t,n){k("_close",this.transport,e,t,n,this.readyState);var i=!1;if(this._ir&&(i=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===r.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=r.CLOSING,setTimeout(function(){this.readyState=r.CLOSED,i&&this.dispatchEvent(new v("error"));var o=new _("close");o.wasClean=n||!1,o.code=e||1e3,o.reason=t,this.dispatchEvent(o),this.onmessage=this.onclose=this.onerror=null,k("disconnected")}.bind(this),0)},r.prototype.countRTO=function(e){return e>100?4*e:300+e},t.exports=function(t){return C=p(t),e("./iframe-bootstrap")(r,t),r}}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,debug:55,inherits:57,json3:58,"url-parse":61}],15:[function(e,t,n){function i(e){var t=+e;return t!==t?t=0:0!==t&&t!==1/0&&t!==-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function r(e){return e>>>0}function o(){}var s,a=Array.prototype,l=Object.prototype,c=Function.prototype,u=String.prototype,d=a.slice,h=l.toString,p=function(e){return"[object Function]"===l.toString.call(e)},f=function(e){return"[object Array]"===h.call(e)},m=function(e){return"[object String]"===h.call(e)},g=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}();s=g?function(e,t,n,i){!i&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,i){!i&&t in e||(e[t]=n)};var v=function(e,t,n){for(var i in t)l.hasOwnProperty.call(t,i)&&s(e,i,t[i],n)},b=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)};v(c,{bind:function(e){var t=this;if(!p(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n=d.call(arguments,1),i=function(){if(this instanceof l){var i=t.apply(this,n.concat(d.call(arguments)));return Object(i)===i?i:this}return t.apply(e,n.concat(d.call(arguments)))},r=Math.max(0,t.length-n.length),s=[],a=0;a<r;a++)s.push("$"+a);var l=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this, arguments); }")(i);return t.prototype&&(o.prototype=t.prototype,l.prototype=new o,o.prototype=null),l}}),v(Array,{isArray:f});var y=Object("a"),_="a"!==y[0]||!(0 in y),x=function(e){var t=!0,n=!0;return e&&(e.call("foo",function(e,n,i){"object"!=typeof i&&(t=!1)}),e.call([1],function(){"use strict";n="string"==typeof this},"x")),!!e&&t&&n};v(a,{forEach:function(e){var t=b(this),n=_&&m(this)?this.split(""):t,i=arguments[1],r=-1,o=n.length>>>0;if(!p(e))throw new TypeError;for(;++r<o;)r in n&&e.call(i,n[r],r,t)}},!x(a.forEach));var w=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;v(a,{indexOf:function(e){var t=_&&m(this)?this.split(""):b(this),n=t.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=i(arguments[1])),r=r>=0?r:Math.max(0,n+r);r<n;r++)if(r in t&&t[r]===e)return r;return-1}},w);var k=u.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var e=void 0===/()??/.exec("")[1];u.split=function(t,n){var i=this;if(void 0===t&&0===n)return[];if("[object RegExp]"!==h.call(t))return k.call(this,t,n);var o,s,l,c,u=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),p=0;for(t=new RegExp(t.source,d+"g"),i+="",e||(o=new RegExp("^"+t.source+"$(?!\\s)",d)),n=void 0===n?-1>>>0:r(n);(s=t.exec(i))&&(l=s.index+s[0].length,!(l>p&&(u.push(i.slice(p,s.index)),!e&&s.length>1&&s[0].replace(o,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(s[e]=void 0)}),s.length>1&&s.index<i.length&&a.push.apply(u,s.slice(1)),c=s[0].length,p=l,u.length>=n)));)t.lastIndex===s.index&&t.lastIndex++;return p===i.length?!c&&t.test("")||u.push(""):u.push(i.slice(p)),u.length>n?u.slice(0,n):u}}():"0".split(void 0,0).length&&(u.split=function(e,t){return void 0===e&&0===t?[]:k.call(this,e,t)});var C=u.substr,S="".substr&&"b"!=="0b".substr(-1);v(u,{substr:function(e,t){return C.call(this,e<0&&(e=this.length+e)<0?0:e,t)}},S)},{}],16:[function(e,t,n){"use strict";t.exports=[e("./transport/websocket"),e("./transport/xhr-streaming"),e("./transport/xdr-streaming"),e("./transport/eventsource"),e("./transport/lib/iframe-wrap")(e("./transport/eventsource")),e("./transport/htmlfile"),e("./transport/lib/iframe-wrap")(e("./transport/htmlfile")),e("./transport/xhr-polling"),e("./transport/xdr-polling"),e("./transport/lib/iframe-wrap")(e("./transport/xhr-polling")),e("./transport/jsonp-polling")]},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(e,t,n){(function(n,i){"use strict";function r(e,t,n,i){u(e,t);var r=this;o.call(this),setTimeout(function(){r._start(e,t,n,i)},0)}var o=e("events").EventEmitter,s=e("inherits"),a=e("../../utils/event"),l=e("../../utils/url"),c=i.XMLHttpRequest,u=function(){};"production"!==n.env.NODE_ENV&&(u=e("debug")("sockjs-client:browser:xhr")),s(r,o),r.prototype._start=function(e,t,n,i){var o=this;try{this.xhr=new c}catch(e){}if(!this.xhr)return u("no xhr"),this.emit("finish",0,"no xhr support"),void this._cleanup();t=l.addQuery(t,"t="+ +new Date),this.unloadRef=a.unloadAdd(function(){u("unload cleanup"),o._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){u("xhr timeout"),o.emit("finish",0,""),o._cleanup(!1)})}catch(e){return u("exception",e),this.emit("finish",0,""),void this._cleanup(!1)}if(i&&i.noCredentials||!r.supportsCORS||(u("withCredentials"),this.xhr.withCredentials="true"),i&&i.headers)for(var s in i.headers)this.xhr.setRequestHeader(s,i.headers[s]);this.xhr.onreadystatechange=function(){if(o.xhr){var e,t,n=o.xhr;switch(u("readyState",n.readyState),n.readyState){case 3:try{t=n.status,e=n.responseText}catch(e){}u("status",t),1223===t&&(t=204),200===t&&e&&e.length>0&&(u("chunk"),o.emit("chunk",t,e));break;case 4:t=n.status,u("status",t),1223===t&&(t=204),12005!==t&&12029!==t||(t=0),u("finish",t,n.responseText),o.emit("finish",t,n.responseText),o._cleanup(!1)}}};try{o.xhr.send(n)}catch(e){o.emit("finish",0,""),o._cleanup(!1)}},r.prototype._cleanup=function(e){if(u("cleanup"),this.xhr){if(this.removeAllListeners(),a.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch(e){}this.unloadRef=this.xhr=null}},r.prototype.close=function(){u("close"),this._cleanup(!0)},r.enabled=!!c;var d=["Active"].concat("Object").join("X");!r.enabled&&d in i&&(u("overriding xmlhttprequest"),c=function(){try{return new i[d]("Microsoft.XMLHTTP");
}catch(e){return null}},r.enabled=!!new c);var h=!1;try{h="withCredentials"in new c}catch(e){}r.supportsCORS=h,t.exports=r}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/event":46,"../../utils/url":52,debug:55,events:3,inherits:57}],18:[function(e,t,n){(function(e){t.exports=e.EventSource}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(e,t,n){(function(e){"use strict";var n=e.WebSocket||e.MozWebSocket;n?t.exports=function(e){return new n(e)}:t.exports=void 0}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(e,t,n){"use strict";function i(e){if(!i.enabled())throw new Error("Transport created when disabled");o.call(this,e,"/eventsource",s,a)}var r=e("inherits"),o=e("./lib/ajax-based"),s=e("./receiver/eventsource"),a=e("./sender/xhr-cors"),l=e("eventsource");r(i,o),i.enabled=function(){return!!l},i.transportName="eventsource",i.roundTrips=2,t.exports=i},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,eventsource:18,inherits:57}],21:[function(e,t,n){"use strict";function i(e){if(!o.enabled)throw new Error("Transport created when disabled");a.call(this,e,"/htmlfile",o,s)}var r=e("inherits"),o=e("./receiver/htmlfile"),s=e("./sender/xhr-local"),a=e("./lib/ajax-based");r(i,a),i.enabled=function(e){return o.enabled&&e.sameOrigin},i.transportName="htmlfile",i.roundTrips=2,t.exports=i},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,inherits:57}],22:[function(e,t,n){(function(n){"use strict";function i(e,t,n){if(!i.enabled())throw new Error("Transport created when disabled");s.call(this);var r=this;this.origin=l.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=d.string(8);var o=l.addPath(n,"/iframe.html")+"#"+this.windowId;h(e,t,o),this.iframeObj=c.createIframe(o,function(e){h("err callback"),r.emit("close",1006,"Unable to load an iframe ("+e+")"),r.close()}),this.onmessageCallback=this._message.bind(this),u.attachEvent("message",this.onmessageCallback)}var r=e("inherits"),o=e("json3"),s=e("events").EventEmitter,a=e("../version"),l=e("../utils/url"),c=e("../utils/iframe"),u=e("../utils/event"),d=e("../utils/random"),h=function(){};"production"!==n.env.NODE_ENV&&(h=e("debug")("sockjs-client:transport:iframe")),r(i,s),i.prototype.close=function(){if(h("close"),this.removeAllListeners(),this.iframeObj){u.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(e){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},i.prototype._message=function(e){if(h("message",e.data),!l.isOriginEqual(e.origin,this.origin))return void h("not same origin",e.origin,this.origin);var t;try{t=o.parse(e.data)}catch(t){return void h("bad json",e.data)}if(t.windowId!==this.windowId)return void h("mismatched window id",t.windowId,this.windowId);switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",o.stringify([a,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=o.parse(t.data)}catch(e){return void h("bad json",t.data)}this.emit("close",n[0],n[1]),this.close()}},i.prototype.postMessage=function(e,t){h("postMessage",e,t),this.iframeObj.post(o.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)},i.prototype.send=function(e){h("send",e),this.postMessage("m",e)},i.enabled=function(){return c.iframeEnabled},i.transportName="iframe",i.roundTrips=2,t.exports=i}).call(this,{env:{}})},{"../utils/event":46,"../utils/iframe":47,"../utils/random":50,"../utils/url":52,"../version":53,debug:55,events:3,inherits:57,json3:58}],23:[function(e,t,n){(function(n){"use strict";function i(e){if(!i.enabled())throw new Error("Transport created when disabled");o.call(this,e,"/jsonp",a,s)}var r=e("inherits"),o=e("./lib/sender-receiver"),s=e("./receiver/jsonp"),a=e("./sender/jsonp");r(i,o),i.enabled=function(){return!!n.document},i.transportName="jsonp-polling",i.roundTrips=1,i.needBody=!0,t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,inherits:57}],24:[function(e,t,n){(function(n){"use strict";function i(e){return function(t,n,i){l("create ajax sender",t,n);var r={};"string"==typeof n&&(r.headers={"Content-type":"text/plain"});var o=s.addPath(t,"/xhr_send"),a=new e("POST",o,n,r);return a.once("finish",function(e){return l("finish",e),a=null,200!==e&&204!==e?i(new Error("http status "+e)):void i()}),function(){l("abort"),a.close(),a=null;var e=new Error("Aborted");e.code=1e3,i(e)}}}function r(e,t,n,r){a.call(this,e,t,i(r),n,r)}var o=e("inherits"),s=e("../../utils/url"),a=e("./sender-receiver"),l=function(){};"production"!==n.env.NODE_ENV&&(l=e("debug")("sockjs-client:ajax-based")),o(r,a),t.exports=r}).call(this,{env:{}})},{"../../utils/url":52,"./sender-receiver":28,debug:55,inherits:57}],25:[function(e,t,n){(function(n){"use strict";function i(e,t){s(e),o.call(this),this.sendBuffer=[],this.sender=t,this.url=e}var r=e("inherits"),o=e("events").EventEmitter,s=function(){};"production"!==n.env.NODE_ENV&&(s=e("debug")("sockjs-client:buffered-sender")),r(i,o),i.prototype.send=function(e){s("send",e),this.sendBuffer.push(e),this.sendStop||this.sendSchedule()},i.prototype.sendScheduleWait=function(){s("sendScheduleWait");var e,t=this;this.sendStop=function(){s("sendStop"),t.sendStop=null,clearTimeout(e)},e=setTimeout(function(){s("timeout"),t.sendStop=null,t.sendSchedule()},25)},i.prototype.sendSchedule=function(){s("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(t){e.sendStop=null,t?(s("error",t),e.emit("close",t.code||1006,"Sending error: "+t),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}},i.prototype._cleanup=function(){s("_cleanup"),this.removeAllListeners()},i.prototype.close=function(){s("close"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},t.exports=i}).call(this,{env:{}})},{debug:55,events:3,inherits:57}],26:[function(e,t,n){(function(n){"use strict";var i=e("inherits"),r=e("../iframe"),o=e("../../utils/object");t.exports=function(e){function t(t,n){r.call(this,e.transportName,t,n)}return i(t,r),t.enabled=function(t,i){if(!n.document)return!1;var s=o.extend({},i);return s.sameOrigin=!0,e.enabled(s)&&r.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=r.roundTrips+e.roundTrips-1,t.facadeTransport=e,t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/object":49,"../iframe":22,inherits:57}],27:[function(e,t,n){(function(n){"use strict";function i(e,t,n){s(t),o.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}var r=e("inherits"),o=e("events").EventEmitter,s=function(){};"production"!==n.env.NODE_ENV&&(s=e("debug")("sockjs-client:polling")),r(i,o),i.prototype._scheduleReceiver=function(){s("_scheduleReceiver");var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(t){s("message",t),e.emit("message",t)}),t.once("close",function(n,i){s("close",n,i,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||("network"===i?e._scheduleReceiver():(e.emit("close",n||1006,i),e.removeAllListeners()))})},i.prototype.abort=function(){s("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},t.exports=i}).call(this,{env:{}})},{debug:55,events:3,inherits:57}],28:[function(e,t,n){(function(n){"use strict";function i(e,t,n,i,r){var c=o.addPath(e,t);l(c);var u=this;s.call(this,e,n),this.poll=new a(i,c,r),this.poll.on("message",function(e){l("poll message",e),u.emit("message",e)}),this.poll.once("close",function(e,t){l("poll close",e,t),u.poll=null,u.emit("close",e,t),u.close()})}var r=e("inherits"),o=e("../../utils/url"),s=e("./buffered-sender"),a=e("./polling"),l=function(){};"production"!==n.env.NODE_ENV&&(l=e("debug")("sockjs-client:sender-receiver")),r(i,s),i.prototype.close=function(){s.prototype.close.call(this),l("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},t.exports=i}).call(this,{env:{}})},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,debug:55,inherits:57}],29:[function(e,t,n){(function(n){"use strict";function i(e){a(e),o.call(this);var t=this,n=this.es=new s(e);n.onmessage=function(e){a("message",e.data),t.emit("message",decodeURI(e.data))},n.onerror=function(e){a("error",n.readyState,e);var i=2!==n.readyState?"network":"permanent";t._cleanup(),t._close(i)}}var r=e("inherits"),o=e("events").EventEmitter,s=e("eventsource"),a=function(){};"production"!==n.env.NODE_ENV&&(a=e("debug")("sockjs-client:receiver:eventsource")),r(i,o),i.prototype.abort=function(){a("abort"),this._cleanup(),this._close("user")},i.prototype._cleanup=function(){a("cleanup");var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)},i.prototype._close=function(e){a("close",e);var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)},t.exports=i}).call(this,{env:{}})},{debug:55,events:3,eventsource:18,inherits:57}],30:[function(e,t,n){(function(n,i){"use strict";function r(e){u(e),l.call(this);var t=this;s.polluteGlobalNamespace(),this.id="a"+c.string(6),e=a.addQuery(e,"c="+decodeURIComponent(s.WPrefix+"."+this.id)),u("using htmlfile",r.htmlfileEnabled);var n=r.htmlfileEnabled?s.createHtmlfile:s.createIframe;i[s.WPrefix][this.id]={start:function(){u("start"),t.iframeObj.loaded()},message:function(e){u("message",e),t.emit("message",e)},stop:function(){u("stop"),t._cleanup(),t._close("network")}},this.iframeObj=n(e,function(){u("callback"),t._cleanup(),t._close("permanent")})}var o=e("inherits"),s=e("../../utils/iframe"),a=e("../../utils/url"),l=e("events").EventEmitter,c=e("../../utils/random"),u=function(){};"production"!==n.env.NODE_ENV&&(u=e("debug")("sockjs-client:receiver:htmlfile")),o(r,l),r.prototype.abort=function(){u("abort"),this._cleanup(),this._close("user")},r.prototype._cleanup=function(){u("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete i[s.WPrefix][this.id]},r.prototype._close=function(e){u("_close",e),this.emit("close",null,e),this.removeAllListeners()},r.htmlfileEnabled=!1;var d=["Active"].concat("Object").join("X");if(d in i)try{r.htmlfileEnabled=!!new i[d]("htmlfile")}catch(e){}r.enabled=r.htmlfileEnabled||s.iframeEnabled,t.exports=r}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:55,events:3,inherits:57}],31:[function(e,t,n){(function(n,i){"use strict";function r(e){d(e);var t=this;u.call(this),o.polluteGlobalNamespace(),this.id="a"+s.string(6);var n=l.addQuery(e,"c="+encodeURIComponent(o.WPrefix+"."+this.id));i[o.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout(function(){d("timeout"),t._abort(new Error("JSONP script loaded abnormally (timeout)"))},r.timeout)}var o=e("../../utils/iframe"),s=e("../../utils/random"),a=e("../../utils/browser"),l=e("../../utils/url"),c=e("inherits"),u=e("events").EventEmitter,d=function(){};"production"!==n.env.NODE_ENV&&(d=e("debug")("sockjs-client:receiver:jsonp")),c(r,u),r.prototype.abort=function(){if(d("abort"),i[o.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}},r.timeout=35e3,r.scriptErrorTimeout=1e3,r.prototype._callback=function(e){d("_callback",e),this._cleanup(),this.aborting||(e&&(d("message",e),this.emit("message",e)),this.emit("close",null,"network"),this.removeAllListeners())},r.prototype._abort=function(e){d("_abort",e),this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()},r.prototype._cleanup=function(){if(d("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete i[o.WPrefix][this.id]},r.prototype._scriptError=function(){d("_scriptError");var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},r.scriptErrorTimeout))},r.prototype._createScript=function(e){d("_createScript",e);var t,n=this,r=this.script=i.document.createElement("script");if(r.id="a"+s.string(8),r.src=e,r.type="text/javascript",r.charset="UTF-8",r.onerror=this._scriptError.bind(this),r.onload=function(){d("onload"),n._abort(new Error("JSONP script loaded abnormally (onload)"))},r.onreadystatechange=function(){if(d("onreadystatechange",r.readyState),/loaded|closed/.test(r.readyState)){if(r&&r.htmlFor&&r.onclick){n.loadedOkay=!0;try{r.onclick()}catch(e){}}r&&n._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof r.async&&i.document.attachEvent)if(a.isOpera())t=this.script2=i.document.createElement("script"),t.text="try{var a = document.getElementById('"+r.id+"'); if(a)a.onerror();}catch(x){};",r.async=t.async=!1;else{try{r.htmlFor=r.id,r.event="onclick"}catch(e){}r.async=!0}"undefined"!=typeof r.async&&(r.async=!0);var o=i.document.getElementsByTagName("head")[0];o.insertBefore(r,o.firstChild),t&&o.insertBefore(t,o.firstChild)},t.exports=r}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:55,events:3,inherits:57}],32:[function(e,t,n){(function(n){"use strict";function i(e,t){s(e),o.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(e,t){s("finish",e,t),n._chunkHandler(e,t),n.xo=null;var i=200===e?"network":"permanent";s("close",i),n.emit("close",null,i),n._cleanup()})}var r=e("inherits"),o=e("events").EventEmitter,s=function(){};"production"!==n.env.NODE_ENV&&(s=e("debug")("sockjs-client:receiver:xhr")),r(i,o),i.prototype._chunkHandler=function(e,t){if(s("_chunkHandler",e),200===e&&t)for(var n=-1;;this.bufferPosition+=n+1){var i=t.slice(this.bufferPosition);if(n=i.indexOf("\n"),n===-1)break;var r=i.slice(0,n);r&&(s("message",r),this.emit("message",r))}},i.prototype._cleanup=function(){s("_cleanup"),this.removeAllListeners()},i.prototype.abort=function(){s("abort"),this.xo&&(this.xo.close(),s("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()},t.exports=i}).call(this,{env:{}})},{debug:55,events:3,inherits:57}],33:[function(e,t,n){(function(n,i){"use strict";function r(e){l("createIframe",e);try{return i.document.createElement('<iframe name="'+e+'">')}catch(n){var t=i.document.createElement("iframe");return t.name=e,t}}function o(){l("createForm"),c=i.document.createElement("form"),c.style.display="none",c.style.position="absolute",c.method="POST",c.enctype="application/x-www-form-urlencoded",c.acceptCharset="UTF-8",u=i.document.createElement("textarea"),u.name="d",c.appendChild(u),i.document.body.appendChild(c)}var s=e("../../utils/random"),a=e("../../utils/url"),l=function(){};"production"!==n.env.NODE_ENV&&(l=e("debug")("sockjs-client:sender:jsonp"));var c,u;t.exports=function(e,t,n){l(e,t),c||o();var i="a"+s.string(8);c.target=i,c.action=a.addQuery(a.addPath(e,"/jsonp_send"),"i="+i);var d=r(i);d.id=i,d.style.display="none",c.appendChild(d);try{u.value=t}catch(e){}c.submit();var h=function(e){l("completed",i,e),d.onerror&&(d.onreadystatechange=d.onerror=d.onload=null,setTimeout(function(){l("cleaning up",i),d.parentNode.removeChild(d),d=null},500),u.value="",n(e))};return d.onerror=function(){l("onerror",i),h()},d.onload=function(){l("onload",i),h()},d.onreadystatechange=function(e){l("onreadystatechange",i,d.readyState,e),"complete"===d.readyState&&h()},function(){l("aborted",i),h(new Error("Aborted"))}}}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/random":50,"../../utils/url":52,debug:55}],34:[function(e,t,n){(function(n,i){"use strict";function r(e,t,n){u(e,t);var i=this;o.call(this),setTimeout(function(){i._start(e,t,n)},0)}var o=e("events").EventEmitter,s=e("inherits"),a=e("../../utils/event"),l=e("../../utils/browser"),c=e("../../utils/url"),u=function(){};"production"!==n.env.NODE_ENV&&(u=e("debug")("sockjs-client:sender:xdr")),s(r,o),r.prototype._start=function(e,t,n){u("_start");var r=this,o=new i.XDomainRequest;t=c.addQuery(t,"t="+ +new Date),o.onerror=function(){u("onerror"),r._error()},o.ontimeout=function(){u("ontimeout"),r._error()},o.onprogress=function(){u("progress",o.responseText),r.emit("chunk",200,o.responseText)},o.onload=function(){u("load"),r.emit("finish",200,o.responseText),r._cleanup(!1)},this.xdr=o,this.unloadRef=a.unloadAdd(function(){r._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch(e){this._error()}},r.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},r.prototype._cleanup=function(e){if(u("cleanup",e),this.xdr){if(this.removeAllListeners(),a.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch(e){}this.unloadRef=this.xdr=null}},r.prototype.close=function(){u("close"),this._cleanup(!0)},r.enabled=!(!i.XDomainRequest||!l.hasDomain()),t.exports=r}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,debug:55,events:3,inherits:57}],35:[function(e,t,n){"use strict";function i(e,t,n,i){o.call(this,e,t,n,i)}var r=e("inherits"),o=e("../driver/xhr");r(i,o),i.enabled=o.enabled&&o.supportsCORS,t.exports=i},{"../driver/xhr":17,inherits:57}],36:[function(e,t,n){"use strict";function i(){var e=this;r.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},i.timeout)}var r=e("events").EventEmitter,o=e("inherits");o(i,r),i.prototype.close=function(){clearTimeout(this.to)},i.timeout=2e3,t.exports=i},{events:3,inherits:57}],37:[function(e,t,n){"use strict";function i(e,t,n){o.call(this,e,t,n,{noCredentials:!0})}var r=e("inherits"),o=e("../driver/xhr");r(i,o),i.enabled=o.enabled,t.exports=i},{"../driver/xhr":17,inherits:57}],38:[function(e,t,n){(function(n){"use strict";function i(e,t,n){if(!i.enabled())throw new Error("Transport created when disabled");a.call(this),c("constructor",e);var s=this,u=o.addPath(e,"/websocket");u="https"===u.slice(0,5)?"wss"+u.slice(5):"ws"+u.slice(4),this.url=u,this.ws=new l(this.url,[],n),this.ws.onmessage=function(e){c("message event",e.data),s.emit("message",e.data)},this.unloadRef=r.unloadAdd(function(){c("unload"),s.ws.close()}),this.ws.onclose=function(e){c("close event",e.code,e.reason),s.emit("close",e.code,e.reason),s._cleanup()},this.ws.onerror=function(e){c("error event",e),s.emit("close",1006,"WebSocket connection broken"),s._cleanup()}}var r=e("../utils/event"),o=e("../utils/url"),s=e("inherits"),a=e("events").EventEmitter,l=e("./driver/websocket"),c=function(){};"production"!==n.env.NODE_ENV&&(c=e("debug")("sockjs-client:websocket")),s(i,a),i.prototype.send=function(e){var t="["+e+"]";c("send",t),this.ws.send(t)},i.prototype.close=function(){c("close");var e=this.ws;this._cleanup(),e&&e.close()},i.prototype._cleanup=function(){c("_cleanup");var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},i.enabled=function(){return c("enabled"),!!l},i.transportName="websocket",i.roundTrips=2,t.exports=i}).call(this,{env:{}})},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,debug:55,events:3,inherits:57}],39:[function(e,t,n){"use strict";function i(e){if(!l.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr",a,l)}var r=e("inherits"),o=e("./lib/ajax-based"),s=e("./xdr-streaming"),a=e("./receiver/xhr"),l=e("./sender/xdr");r(i,o),i.enabled=s.enabled,i.transportName="xdr-polling",i.roundTrips=2,t.exports=i},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,inherits:57}],40:[function(e,t,n){"use strict";function i(e){if(!a.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr_streaming",s,a)}var r=e("inherits"),o=e("./lib/ajax-based"),s=e("./receiver/xhr"),a=e("./sender/xdr");r(i,o),i.enabled=function(e){return!e.cookie_needed&&!e.nullOrigin&&(a.enabled&&e.sameScheme)},i.transportName="xdr-streaming",i.roundTrips=2,t.exports=i},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,inherits:57}],41:[function(e,t,n){"use strict";function i(e){if(!l.enabled&&!a.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr",s,a)}var r=e("inherits"),o=e("./lib/ajax-based"),s=e("./receiver/xhr"),a=e("./sender/xhr-cors"),l=e("./sender/xhr-local");r(i,o),i.enabled=function(e){return!e.nullOrigin&&(!(!l.enabled||!e.sameOrigin)||a.enabled)},i.transportName="xhr-polling",i.roundTrips=2,t.exports=i},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:57}],42:[function(e,t,n){(function(n){"use strict";function i(e){if(!l.enabled&&!a.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr_streaming",s,a)}var r=e("inherits"),o=e("./lib/ajax-based"),s=e("./receiver/xhr"),a=e("./sender/xhr-cors"),l=e("./sender/xhr-local"),c=e("../utils/browser");r(i,o),i.enabled=function(e){return!e.nullOrigin&&(!c.isOpera()&&a.enabled)},i.transportName="xhr-streaming",i.roundTrips=2,i.needBody=!!n.document,t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:57}],43:[function(e,t,n){(function(e){"use strict";e.crypto&&e.crypto.getRandomValues?t.exports.randomBytes=function(t){var n=new Uint8Array(t);return e.crypto.getRandomValues(n),n}:t.exports.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(256*Math.random());return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(e,t,n){(function(e){"use strict";t.exports={isOpera:function(){return e.navigator&&/opera/i.test(e.navigator.userAgent)},isKonqueror:function(){return e.navigator&&/konqueror/i.test(e.navigator.userAgent)},hasDomain:function(){if(!e.document)return!0;try{return!!e.document.domain}catch(e){return!1}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(e,t,n){"use strict";var i,r=e("json3"),o=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,s=function(e){var t,n={},i=[];for(t=0;t<65536;t++)i.push(String.fromCharCode(t));return e.lastIndex=0,i.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};t.exports={quote:function(e){var t=r.stringify(e);return o.lastIndex=0,o.test(t)?(i||(i=s(o)),t.replace(o,function(e){return i[e]})):t}}},{json3:58}],46:[function(e,t,n){(function(n){"use strict";var i=e("./random"),r={},o=!1,s=n.chrome&&n.chrome.app&&n.chrome.app.runtime;t.exports={attachEvent:function(e,t){"undefined"!=typeof n.addEventListener?n.addEventListener(e,t,!1):n.document&&n.attachEvent&&(n.document.attachEvent("on"+e,t),n.attachEvent("on"+e,t))},detachEvent:function(e,t){"undefined"!=typeof n.addEventListener?n.removeEventListener(e,t,!1):n.document&&n.detachEvent&&(n.document.detachEvent("on"+e,t),n.detachEvent("on"+e,t))},unloadAdd:function(e){if(s)return null;var t=i.string(8);return r[t]=e,o&&setTimeout(this.triggerUnloadCallbacks,0),t},unloadDel:function(e){e in r&&delete r[e]},triggerUnloadCallbacks:function(){for(var e in r)r[e](),delete r[e]}};var a=function(){o||(o=!0,t.exports.triggerUnloadCallbacks())};s||t.exports.attachEvent("unload",a)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./random":50}],47:[function(e,t,n){(function(n,i){"use strict";var r=e("./event"),o=e("json3"),s=e("./browser"),a=function(){};"production"!==n.env.NODE_ENV&&(a=e("debug")("sockjs-client:utils:iframe")),t.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){t.exports.WPrefix in i||(i[t.exports.WPrefix]={})},postMessage:function(e,n){i.parent!==i?i.parent.postMessage(o.stringify({windowId:t.exports.currentWindowId,type:e,data:n||""}),"*"):a("Cannot postMessage, no parent window.",e,n)},createIframe:function(e,t){var n,o,s=i.document.createElement("iframe"),l=function(){a("unattach"),clearTimeout(n);try{s.onload=null}catch(e){}s.onerror=null},c=function(){a("cleanup"),s&&(l(),setTimeout(function(){s&&s.parentNode.removeChild(s),s=null},0),r.unloadDel(o))},u=function(e){a("onerror",e),s&&(c(),t(e))},d=function(e,t){a("post",e,t);try{setTimeout(function(){s&&s.contentWindow&&s.contentWindow.postMessage(e,t)},0)}catch(e){}};return s.src=e,s.style.display="none",s.style.position="absolute",s.onerror=function(){u("onerror")},s.onload=function(){a("onload"),clearTimeout(n),n=setTimeout(function(){u("onload timeout")},2e3)},i.document.body.appendChild(s),n=setTimeout(function(){u("timeout")},15e3),o=r.unloadAdd(c),{post:d,cleanup:c,loaded:l}},createHtmlfile:function(e,n){var o,s,l,c=["Active"].concat("Object").join("X"),u=new i[c]("htmlfile"),d=function(){clearTimeout(o),l.onerror=null},h=function(){u&&(d(),r.unloadDel(s),l.parentNode.removeChild(l),l=u=null,CollectGarbage())},p=function(e){a("onerror",e),u&&(h(),n(e))},f=function(e,t){try{setTimeout(function(){l&&l.contentWindow&&l.contentWindow.postMessage(e,t)},0)}catch(e){}};u.open(),u.write('<html><script>document.domain="'+i.document.domain+'";</script></html>'),u.close(),u.parentWindow[t.exports.WPrefix]=i[t.exports.WPrefix];var m=u.createElement("div");return u.body.appendChild(m),l=u.createElement("iframe"),m.appendChild(l),l.src=e,l.onerror=function(){p("onerror")},o=setTimeout(function(){p("timeout")},15e3),s=r.unloadAdd(h),{post:f,cleanup:h,loaded:d}}},t.exports.iframeEnabled=!1,i.document&&(t.exports.iframeEnabled=("function"==typeof i.postMessage||"object"==typeof i.postMessage)&&!s.isKonqueror())}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser":44,"./event":46,debug:55,json3:58}],48:[function(e,t,n){(function(e){"use strict";var n={};["log","debug","warn"].forEach(function(t){var i;try{i=e.console&&e.console[t]&&e.console[t].apply}catch(e){}n[t]=i?function(){return e.console[t].apply(e.console,arguments)}:"log"===t?function(){}:n.log}),t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(e,t,n){"use strict";t.exports={isObject:function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}}},{}],50:[function(e,t,n){"use strict";var i=e("crypto"),r="abcdefghijklmnopqrstuvwxyz012345";t.exports={string:function(e){for(var t=r.length,n=i.randomBytes(e),o=[],s=0;s<e;s++)o.push(r.substr(n[s]%t,1));return o.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,n=new Array(t+1).join("0");return(n+this.number(e)).slice(-t)}}},{crypto:43}],51:[function(e,t,n){(function(n){"use strict";var i=function(){};"production"!==n.env.NODE_ENV&&(i=e("debug")("sockjs-client:utils:transport")),t.exports=function(e){return{filterToEnabled:function(t,n){var r={main:[],facade:[]};return t?"string"==typeof t&&(t=[t]):t=[],e.forEach(function(e){if(e)return"websocket"===e.transportName&&n.websocket===!1?void i("disabled from server","websocket"):t.length&&t.indexOf(e.transportName)===-1?void i("not in whitelist",e.transportName):void(e.enabled(n)?(i("enabled",e.transportName),r.main.push(e),e.facadeTransport&&r.facade.push(e.facadeTransport)):i("disabled",e.transportName))}),r}}}}).call(this,{env:{}})},{debug:55}],52:[function(e,t,n){(function(n){"use strict";var i=e("url-parse"),r=function(){};"production"!==n.env.NODE_ENV&&(r=e("debug")("sockjs-client:utils:url")),t.exports={getOrigin:function(e){if(!e)return null;var t=new i(e);if("file:"===t.protocol)return null;var n=t.port;return n||(n="https:"===t.protocol?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return r("same",e,t,n),n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)}}}).call(this,{env:{}})},{debug:55,"url-parse":61}],53:[function(e,t,n){t.exports="1.1.4"},{}],54:[function(e,t,n){function i(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*l;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=u?Math.round(e/u)+"d":e>=c?Math.round(e/c)+"h":e>=l?Math.round(e/l)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return s(e,u,"day")||s(e,c,"hour")||s(e,l,"minute")||s(e,a,"second")||e+" ms"}function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,l=60*a,c=60*l,u=24*c,d=365.25*u;t.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return i(e);if("number"===n&&isNaN(e)===!1)return t.long?o(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],55:[function(e,t,n){(function(i){function r(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));
}function o(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),t){var i="color: "+this.color;e.splice(1,0,i,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))}),e.splice(o,0,i)}}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}}function l(){var e;try{e=n.storage.debug}catch(e){}return!e&&"undefined"!=typeof i&&"env"in i&&(e=i.env.DEBUG),e}function c(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=s,n.formatArgs=o,n.save=a,n.load=l,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},n.enable(l())}).call(this,{env:{}})},{"./debug":56}],56:[function(e,t,n){function i(e){var t,i=0;for(t in e)i=(i<<5)-i+e.charCodeAt(t),i|=0;return n.colors[Math.abs(i)%n.colors.length]}function r(e){function t(){if(t.enabled){var e=t,i=+new Date,r=i-(c||i);e.diff=r,e.prev=c,e.curr=i,c=i;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=n.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var a=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(t,i){if("%%"===t)return t;a++;var r=n.formatters[i];if("function"==typeof r){var s=o[a];t=r.call(e,s),o.splice(a,1),a--}return t}),n.formatArgs.call(e,o);var l=t.log||n.log||console.log.bind(console);l.apply(e,o)}}return t.namespace=e,t.enabled=n.enabled(e),t.useColors=n.useColors(),t.color=i(e),"function"==typeof n.init&&n.init(t),t}function o(e){n.save(e),n.names=[],n.skips=[];for(var t=("string"==typeof e?e:"").split(/[\s,]+/),i=t.length,r=0;r<i;r++)t[r]&&(e=t[r].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function s(){n.enable("")}function a(e){var t,i;for(t=0,i=n.skips.length;t<i;t++)if(n.skips[t].test(e))return!1;for(t=0,i=n.names.length;t<i;t++)if(n.names[t].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=r.debug=r.default=r,n.coerce=l,n.disable=s,n.enable=o,n.enabled=a,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var c},{ms:54}],57:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],58:[function(t,n,i){(function(t){(function(){function r(e,t){function n(e){if(n[e]!==g)return n[e];var r;if("bug-string-char-index"==e)r="a"!="a"[0];else if("json"==e)r=n("json-stringify")&&n("json-parse");else{var s,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var l=t.stringify,u="function"==typeof l&&y;if(u){(s=function(){return 1}).toJSON=s;try{u="0"===l(0)&&"0"===l(new i)&&'""'==l(new o)&&l(b)===g&&l(g)===g&&l()===g&&"1"===l(s)&&"[1]"==l([s])&&"[null]"==l([g])&&"null"==l(null)&&"[null,null,null]"==l([g,b,null])&&l({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===l(null,s)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==l(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==l(new c(-1))}catch(e){u=!1}}r=u}if("json-parse"==e){var d=t.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){s=d(a);var h=5==s.a.length&&1===s.a[0];if(h){try{h=!d('"\t"')}catch(e){}if(h)try{h=1!==d("01")}catch(e){}if(h)try{h=1!==d("1.")}catch(e){}}}}catch(e){h=!1}r=h}}return n[e]=!!r}e||(e=l.Object()),t||(t=l.Object());var i=e.Number||l.Number,o=e.String||l.String,a=e.Object||l.Object,c=e.Date||l.Date,u=e.SyntaxError||l.SyntaxError,d=e.TypeError||l.TypeError,h=e.Math||l.Math,p=e.JSON||l.JSON;"object"==typeof p&&p&&(t.stringify=p.stringify,t.parse=p.parse);var f,m,g,v=a.prototype,b=v.toString,y=new c(-0xc782b5b800cec);try{y=y.getUTCFullYear()==-109252&&0===y.getUTCMonth()&&1===y.getUTCDate()&&10==y.getUTCHours()&&37==y.getUTCMinutes()&&6==y.getUTCSeconds()&&708==y.getUTCMilliseconds()}catch(e){}if(!n("json")){var _="[object Function]",x="[object Date]",w="[object Number]",k="[object String]",C="[object Array]",S="[object Boolean]",T=n("bug-string-char-index");if(!y)var M=h.floor,D=[0,31,59,90,120,151,181,212,243,273,304,334],A=function(e,t){return D[t]+365*(e-1970)+M((e-1969+(t=+(t>1)))/4)-M((e-1901+t)/100)+M((e-1601+t)/400)};if((f=v.hasOwnProperty)||(f=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=b?f=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,f=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,f.call(this,e)}),m=function(e,t){var n,i,r,o=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,i=new n;for(r in i)f.call(i,r)&&o++;return n=i=null,o?m=2==o?function(e,t){var n,i={},r=b.call(e)==_;for(n in e)r&&"prototype"==n||f.call(i,n)||!(i[n]=1)||!f.call(e,n)||t(n)}:function(e,t){var n,i,r=b.call(e)==_;for(n in e)r&&"prototype"==n||!f.call(e,n)||(i="constructor"===n)||t(n);(i||f.call(e,n="constructor"))&&t(n)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],m=function(e,t){var n,r,o=b.call(e)==_,a=!o&&"function"!=typeof e.constructor&&s[typeof e.hasOwnProperty]&&e.hasOwnProperty||f;for(n in e)o&&"prototype"==n||!a.call(e,n)||t(n);for(r=i.length;n=i[--r];a.call(e,n)&&t(n));}),m(e,t)},!n("json-stringify")){var E={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},O="000000",j=function(e,t){return(O+(t||0)).slice(-e)},L="\\u00",N=function(e){for(var t='"',n=0,i=e.length,r=!T||i>10,o=r&&(T?e.split(""):e);n<i;n++){var s=e.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=E[s];break;default:if(s<32){t+=L+j(2,s.toString(16));break}t+=r?o[n]:e.charAt(n)}}return t+'"'},I=function(e,t,n,i,r,o,s){var a,l,c,u,h,p,v,y,_,T,D,E,O,L,P,z;try{a=t[e]}catch(e){}if("object"==typeof a&&a)if(l=b.call(a),l!=x||f.call(a,"toJSON"))"function"==typeof a.toJSON&&(l!=w&&l!=k&&l!=C||f.call(a,"toJSON"))&&(a=a.toJSON(e));else if(a>-1/0&&a<1/0){if(A){for(h=M(a/864e5),c=M(h/365.2425)+1970-1;A(c+1,0)<=h;c++);for(u=M((h-A(c,0))/30.42);A(c,u+1)<=h;u++);h=1+h-A(c,u),p=(a%864e5+864e5)%864e5,v=M(p/36e5)%24,y=M(p/6e4)%60,_=M(p/1e3)%60,T=p%1e3}else c=a.getUTCFullYear(),u=a.getUTCMonth(),h=a.getUTCDate(),v=a.getUTCHours(),y=a.getUTCMinutes(),_=a.getUTCSeconds(),T=a.getUTCMilliseconds();a=(c<=0||c>=1e4?(c<0?"-":"+")+j(6,c<0?-c:c):j(4,c))+"-"+j(2,u+1)+"-"+j(2,h)+"T"+j(2,v)+":"+j(2,y)+":"+j(2,_)+"."+j(3,T)+"Z"}else a=null;if(n&&(a=n.call(t,e,a)),null===a)return"null";if(l=b.call(a),l==S)return""+a;if(l==w)return a>-1/0&&a<1/0?""+a:"null";if(l==k)return N(""+a);if("object"==typeof a){for(L=s.length;L--;)if(s[L]===a)throw d();if(s.push(a),D=[],P=o,o+=r,l==C){for(O=0,L=a.length;O<L;O++)E=I(O,a,n,i,r,o,s),D.push(E===g?"null":E);z=D.length?r?"[\n"+o+D.join(",\n"+o)+"\n"+P+"]":"["+D.join(",")+"]":"[]"}else m(i||a,function(e){var t=I(e,a,n,i,r,o,s);t!==g&&D.push(N(e)+":"+(r?" ":"")+t)}),z=D.length?r?"{\n"+o+D.join(",\n"+o)+"\n"+P+"}":"{"+D.join(",")+"}":"{}";return s.pop(),z}};t.stringify=function(e,t,n){var i,r,o,a;if(s[typeof t]&&t)if((a=b.call(t))==_)r=t;else if(a==C){o={};for(var l,c=0,u=t.length;c<u;l=t[c++],a=b.call(l),(a==k||a==w)&&(o[l]=1));}if(n)if((a=b.call(n))==w){if((n-=n%1)>0)for(i="",n>10&&(n=10);i.length<n;i+=" ");}else a==k&&(i=n.length<=10?n:n.slice(0,10));return I("",(l={},l[""]=e,l),r,o,i,"",[])}}if(!n("json-parse")){var P,z,F=o.fromCharCode,H={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},W=function(){throw P=z=null,u()},R=function(){for(var e,t,n,i,r,o=z,s=o.length;P<s;)switch(r=o.charCodeAt(P)){case 9:case 10:case 13:case 32:P++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=T?o.charAt(P):o[P],P++,e;case 34:for(e="@",P++;P<s;)if(r=o.charCodeAt(P),r<32)W();else if(92==r)switch(r=o.charCodeAt(++P)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=H[r],P++;break;case 117:for(t=++P,n=P+4;P<n;P++)r=o.charCodeAt(P),r>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70||W();e+=F("0x"+o.slice(t,P));break;default:W()}else{if(34==r)break;for(r=o.charCodeAt(P),t=P;r>=32&&92!=r&&34!=r;)r=o.charCodeAt(++P);e+=o.slice(t,P)}if(34==o.charCodeAt(P))return P++,e;W();default:if(t=P,45==r&&(i=!0,r=o.charCodeAt(++P)),r>=48&&r<=57){for(48==r&&(r=o.charCodeAt(P+1),r>=48&&r<=57)&&W(),i=!1;P<s&&(r=o.charCodeAt(P),r>=48&&r<=57);P++);if(46==o.charCodeAt(P)){for(n=++P;n<s&&(r=o.charCodeAt(n),r>=48&&r<=57);n++);n==P&&W(),P=n}if(r=o.charCodeAt(P),101==r||69==r){for(r=o.charCodeAt(++P),43!=r&&45!=r||P++,n=P;n<s&&(r=o.charCodeAt(n),r>=48&&r<=57);n++);n==P&&W(),P=n}return+o.slice(t,P)}if(i&&W(),"true"==o.slice(P,P+4))return P+=4,!0;if("false"==o.slice(P,P+5))return P+=5,!1;if("null"==o.slice(P,P+4))return P+=4,null;W()}return"$"},q=function(e){var t,n;if("$"==e&&W(),"string"==typeof e){if("@"==(T?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=R(),"]"!=e;n||(n=!0))n&&(","==e?(e=R(),"]"==e&&W()):W()),","==e&&W(),t.push(q(e));return t}if("{"==e){for(t={};e=R(),"}"!=e;n||(n=!0))n&&(","==e?(e=R(),"}"==e&&W()):W()),","!=e&&"string"==typeof e&&"@"==(T?e.charAt(0):e[0])&&":"==R()||W(),t[e.slice(1)]=q(R());return t}W()}return e},B=function(e,t,n){var i=U(e,t,n);i===g?delete e[t]:e[t]=i},U=function(e,t,n){var i,r=e[t];if("object"==typeof r&&r)if(b.call(r)==C)for(i=r.length;i--;)B(r,i,n);else m(r,function(e){B(r,e,n)});return n.call(e,t,r)};t.parse=function(e,t){var n,i;return P=0,z=""+e,n=q(R()),"$"!=R()&&W(),P=z=null,t&&b.call(t)==_?U((i={},i[""]=n,i),"",t):n}}}return t.runInContext=r,t}var o="function"==typeof e&&e.amd,s={function:!0,object:!0},a=s[typeof i]&&i&&!i.nodeType&&i,l=s[typeof window]&&window||this,c=a&&s[typeof n]&&n&&!n.nodeType&&"object"==typeof t&&t;if(!c||c.global!==c&&c.window!==c&&c.self!==c||(l=c),a&&!o)r(l,a);else{var u=l.JSON,d=l.JSON3,h=!1,p=r(l,l.JSON3={noConflict:function(){return h||(h=!0,l.JSON=u,l.JSON3=d,u=d=null),p}});l.JSON={parse:p.parse,stringify:p.stringify}}o&&e(function(){return p})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],59:[function(e,t,n){"use strict";function i(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,i={};t=n.exec(e);i[decodeURIComponent(t[1])]=decodeURIComponent(t[2]));return i}function r(e,t){t=t||"";var n=[];"string"!=typeof t&&(t="?");for(var i in e)o.call(e,i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return n.length?t+n.join("&"):""}var o=Object.prototype.hasOwnProperty;n.stringify=r,n.parse=i},{}],60:[function(e,t,n){"use strict";t.exports=function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},{}],61:[function(e,t,n){"use strict";function i(e){var t=d.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function r(e,t){for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),i=n.length,r=n[i-1],o=!1,s=0;i--;)"."===n[i]?n.splice(i,1):".."===n[i]?(n.splice(i,1),s++):s&&(0===i&&(o=!0),n.splice(i,1),s--);return o&&n.unshift(""),"."!==r&&".."!==r||n.push(""),n.join("/")}function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);var s,a,d,p,f,m,g=h.slice(),v=typeof t,b=this,y=0;for("object"!==v&&"string"!==v&&(n=t,t=null),n&&"function"!=typeof n&&(n=u.parse),t=c(t),a=i(e||""),s=!a.protocol&&!a.slashes,b.slashes=a.slashes||s&&t.slashes,b.protocol=a.protocol||t.protocol||"",e=a.rest,a.slashes||(g[2]=[/(.*)/,"pathname"]);y<g.length;y++)p=g[y],d=p[0],m=p[1],d!==d?b[m]=e:"string"==typeof d?~(f=e.indexOf(d))&&("number"==typeof p[2]?(b[m]=e.slice(0,f),e=e.slice(f+p[2])):(b[m]=e.slice(f),e=e.slice(0,f))):(f=d.exec(e))&&(b[m]=f[1],e=e.slice(0,f.index)),b[m]=b[m]||(s&&p[3]?t[m]||"":""),p[4]&&(b[m]=b[m].toLowerCase());n&&(b.query=n(b.query)),s&&t.slashes&&"/"!==b.pathname.charAt(0)&&(""!==b.pathname||""!==t.pathname)&&(b.pathname=r(b.pathname,t.pathname)),l(b.port,b.protocol)||(b.host=b.hostname,b.port=""),b.username=b.password="",b.auth&&(p=b.auth.split(":"),b.username=p[0]||"",b.password=p[1]||""),b.origin=b.protocol&&b.host&&"file:"!==b.protocol?b.protocol+"//"+b.host:"null",b.href=b.toString()}function s(e,t,n){var i=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||u.parse)(t)),i[e]=t;break;case"port":i[e]=t,l(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,/:\d+$/.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!n;break;case"pathname":i.pathname=t.length&&"/"!==t.charAt(0)?"/"+t:t;break;default:i[e]=t}for(var r=0;r<h.length;r++){var o=h[r];o[4]&&(i[o[1]]=i[o[1]].toLowerCase())}return i.origin=i.protocol&&i.host&&"file:"!==i.protocol?i.protocol+"//"+i.host:"null",i.href=i.toString(),i}function a(e){e&&"function"==typeof e||(e=u.stringify);var t,n=this,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var r=i+(n.slashes?"//":"");return n.username&&(r+=n.username,n.password&&(r+=":"+n.password),r+="@"),r+=n.host+n.pathname,t="object"==typeof n.query?e(n.query):n.query,t&&(r+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(r+=n.hash),r}var l=e("requires-port"),c=e("./lolcation"),u=e("querystringify"),d=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,h=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]];o.prototype={set:s,toString:a},o.extractProtocol=i,o.location=c,o.qs=u,t.exports=o},{"./lolcation":62,querystringify:59,"requires-port":60}],62:[function(e,t,n){(function(n){"use strict";var i,r=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,o={hash:1,query:1};t.exports=function(t){t=t||n.location||{},i=i||e("./");var s,a={},l=typeof t;if("blob:"===t.protocol)a=new i(unescape(t.pathname),{});else if("string"===l){a=new i(t,{});for(s in o)delete a[s]}else if("object"===l){for(s in t)s in o||(a[s]=t[s]);void 0===a.slashes&&(a.slashes=r.test(t.href))}return a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./":61}]},{},[1])(1)}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("codemirror/lib/codemirror",t):e.CodeMirror=t()}(this,function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function n(e,n){return t(e).appendChild(n)}function i(e,t,n,i){var r=document.createElement(e);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function r(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function o(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function s(t,n){var i=t.className;e(n).test(i)||(t.className+=(i?" ":"")+n)}function a(t,n){for(var i=t.split(" "),r=0;r<i.length;r++)i[r]&&!e(i[r]).test(n)&&(n+=" "+i[r]);return n}function l(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function c(e,t,n){t||(t={});for(var i in e)!e.hasOwnProperty(i)||n===!1&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function u(e,t,n,i,r){null==t&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var o=i||0,s=r||0;;){var a=e.indexOf("\t",o);if(a<0||a>=t)return s+(t-o);s+=a-o,s+=n-s%n,o=a+1}}function d(){this.id=null}function h(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function p(e,t,n){for(var i=0,r=0;;){var o=e.indexOf("\t",i);o==-1&&(o=e.length);var s=o-i;if(o==e.length||r+s>=t)return i+Math.min(s,t-r);if(r+=o-i,r+=n-r%n,i=o+1,r>=t)return i}}function f(e){for(;Ds.length<=e;)Ds.push(m(Ds)+" ");return Ds[e]}function m(e){return e[e.length-1]}function g(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}function v(e,t,n){for(var i=0,r=n(t);i<e.length&&n(e[i])<=r;)i++;e.splice(i,0,t)}function b(){}function y(e,t){var n;return Object.create?n=Object.create(e):(b.prototype=e,n=new b),t&&c(t,n),n}function _(e){return/\w/.test(e)||e>"Â€"&&(e.toUpperCase()!=e.toLowerCase()||As.test(e))}function x(e,t){return t?!!(t.source.indexOf("\\w")>-1&&_(e))||t.test(e):_(e)}function w(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function k(e){return e.charCodeAt(0)>=768&&Es.test(e)}function C(e,t,n){var r=this;this.input=n,r.scrollbarFiller=i("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=i("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=i("div",null,"CodeMirror-code"),r.selectionDiv=i("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=i("div",null,"CodeMirror-cursors"),r.measure=i("div",null,"CodeMirror-measure"),r.lineMeasure=i("div",null,"CodeMirror-measure"),r.lineSpace=i("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none"),r.mover=i("div",[i("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=i("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=i("div",null,null,"position: absolute; height: "+ks+"px; width: 1px;"),r.gutters=i("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=i("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=i("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),ts&&ns<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),is||Qo&&ds||(r.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(r.wrapper):e(r.wrapper)),r.viewFrom=r.viewTo=t.first,r.reportedViewFrom=r.reportedViewTo=t.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,n.init(r)}function S(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(t<o){n=r;break}t-=o}return n.lines[t]}function T(e,t,n){var i=[],r=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;r==n.line&&(o=o.slice(0,n.ch)),r==t.line&&(o=o.slice(t.ch)),i.push(o),++r}),i}function M(e,t,n){var i=[];return e.iter(t,n,function(e){i.push(e.text)}),i}function D(e,t){var n=t-e.height;if(n)for(var i=e;i;i=i.parent)i.height+=n}function A(e){if(null==e.parent)return null;for(var t=e.parent,n=h(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var r=0;i.children[r]!=t;++r)n+=i.children[r].chunkSize();return n+t.first}function E(e,t){var n=e.first;e:do{for(var i=0;i<e.children.length;++i){var r=e.children[i],o=r.height;if(t<o){e=r;continue e}t-=o,n+=r.chunkSize()}return n}while(!e.lines);for(var s=0;s<e.lines.length;++s){var a=e.lines[s],l=a.height;if(t<l)break;t-=l}return n+s}function O(e,t){return t>=e.first&&t<e.first+e.size}function j(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function L(e,t){return this instanceof L?(this.line=e,void(this.ch=t)):new L(e,t)}function N(e,t){return e.line-t.line||e.ch-t.ch}function I(e){return L(e.line,e.ch)}function P(e,t){return N(e,t)<0?t:e}function z(e,t){return N(e,t)<0?e:t}function F(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function H(e,t){if(t.line<e.first)return L(e.first,0);var n=e.first+e.size-1;return t.line>n?L(n,S(e,n).text.length):W(t,S(e,t.line).text.length)}function W(e,t){var n=e.ch;return null==n||n>t?L(e.line,t):n<0?L(e.line,0):e}function R(e,t){for(var n=[],i=0;i<t.length;i++)n[i]=H(e,t[i]);return n}function q(){Os=!0}function B(){js=!0}function U(e,t,n){this.marker=e,this.from=t,this.to=n}function $(e,t){if(e)for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t)return i}}function Y(e,t){for(var n,i=0;i<e.length;++i)e[i]!=t&&(n||(n=[])).push(e[i]);return n}function J(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function V(e,t,n){var i;if(e)for(var r=0;r<e.length;++r){var o=e[r],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);if(a||o.from==t&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(i||(i=[])).push(new U(s,o.from,l?null:o.to))}}return i}function G(e,t,n){var i;if(e)for(var r=0;r<e.length;++r){var o=e[r],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);if(a||o.from==t&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(i||(i=[])).push(new U(s,l?null:o.from-t,null==o.to?null:o.to-t))}}return i}function K(e,t){if(t.full)return null;var n=O(e,t.from.line)&&S(e,t.from.line).markedSpans,i=O(e,t.to.line)&&S(e,t.to.line).markedSpans;if(!n&&!i)return null;var r=t.from.ch,o=t.to.ch,s=0==N(t.from,t.to),a=V(n,r,s),l=G(i,o,s),c=1==t.text.length,u=m(t.text).length+(c?r:0);if(a)for(var d=0;d<a.length;++d){var h=a[d];if(null==h.to){var p=$(l,h.marker);p?c&&(h.to=null==p.to?null:p.to+u):h.to=r}}if(l)for(var f=0;f<l.length;++f){var g=l[f];if(null!=g.to&&(g.to+=u),null==g.from){var v=$(a,g.marker);v||(g.from=u,c&&(a||(a=[])).push(g))}else g.from+=u,c&&(a||(a=[])).push(g)}a&&(a=X(a)),l&&l!=a&&(l=X(l));var b=[a];if(!c){var y,_=t.text.length-2;if(_>0&&a)for(var x=0;x<a.length;++x)null==a[x].to&&(y||(y=[])).push(new U(a[x].marker,null,null));for(var w=0;w<_;++w)b.push(y);b.push(l)}return b}function X(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function Q(e,t,n){var i=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||i&&h(i,n)!=-1||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:t,to:n}],o=0;o<i.length;++o)for(var s=i[o],a=s.find(0),l=0;l<r.length;++l){var c=r[l];if(!(N(c.to,a.from)<0||N(c.from,a.to)>0)){var u=[l,1],d=N(c.from,a.from),p=N(c.to,a.to);(d<0||!s.inclusiveLeft&&!d)&&u.push({from:c.from,to:a.from}),(p>0||!s.inclusiveRight&&!p)&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-1}}return r}function Z(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function ee(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function te(e){return e.inclusiveLeft?-1:0}function ne(e){return e.inclusiveRight?1:0}function ie(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var i=e.find(),r=t.find(),o=N(i.from,r.from)||te(e)-te(t);if(o)return-o;var s=N(i.to,r.to)||ne(e)-ne(t);return s?s:t.id-e.id}function re(e,t){var n,i=js&&e.markedSpans;if(i)for(var r=void 0,o=0;o<i.length;++o)r=i[o],r.marker.collapsed&&null==(t?r.from:r.to)&&(!n||ie(n,r.marker)<0)&&(n=r.marker);return n}function oe(e){return re(e,!0)}function se(e){return re(e,!1)}function ae(e,t,n,i,r){var o=S(e,t),s=js&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=N(c.from,n)||te(l.marker)-te(r),d=N(c.to,i)||ne(l.marker)-ne(r);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?N(c.to,n)>=0:N(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?N(c.from,i)<=0:N(c.from,i)<0)))return!0}}}function le(e){for(var t;t=oe(e);)e=t.find(-1,!0).line;return e}function ce(e){for(var t,n;t=se(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function ue(e,t){var n=S(e,t),i=le(n);return n==i?t:A(i)}function de(e,t){if(t>e.lastLine())return t;var n,i=S(e,t);if(!he(e,i))return t;for(;n=se(i);)i=n.find(1,!0).line;return A(i)+1}function he(e,t){var n=js&&t.markedSpans;if(n)for(var i=void 0,r=0;r<n.length;++r)if(i=n[r],i.marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&pe(e,t,i))return!0}}function pe(e,t,n){if(null==n.to){var i=n.marker.find(1,!0);return pe(e,i.line,$(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r=void 0,o=0;o<t.markedSpans.length;++o)if(r=t.markedSpans[o],r.marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&pe(e,t,r))return!0}function fe(e){e=le(e);for(var t=0,n=e.parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==e)break;t+=r.height}for(var o=n.parent;o;n=o,o=n.parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==n)break;t+=a.height}return t}function me(e){if(0==e.height)return 0;for(var t,n=e.text.length,i=e;t=oe(i);){var r=t.find(0,!0);i=r.from.line,n+=r.from.ch-r.to.ch}for(i=e;t=se(i);){var o=t.find(0,!0);n-=i.text.length-o.from.ch,i=o.to.line,n+=i.text.length-o.to.ch}return n}function ge(e){var t=e.display,n=e.doc;t.maxLine=S(n,n.first),t.maxLineLength=me(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=me(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function ve(e,t,n,i){if(!e)return i(t,n,"ltr");for(var r=!1,o=0;o<e.length;++o){var s=e[o];(s.from<n&&s.to>t||t==n&&s.to==t)&&(i(Math.max(s.from,t),Math.min(s.to,n),1==s.level?"rtl":"ltr"),r=!0)}r||i(t,n,"ltr")}function be(e){return e.level%2?e.to:e.from}function ye(e){return e.level%2?e.from:e.to}function _e(e){var t=Me(e);return t?be(t[0]):0}function xe(e){var t=Me(e);return t?ye(m(t)):e.text.length}function we(e,t,n){var i=e[0].level;return t==i||n!=i&&t<n}function ke(e,t){var n;Ls=null;for(var i=0;i<e.length;++i){var r=e[i];if(r.from<t&&r.to>t)return i;if(r.from==t||r.to==t){if(null!=n)return we(e,r.level,e[n].level)?(r.from!=r.to&&(Ls=n),i):(r.from!=r.to&&(Ls=i),n);n=i}}return n}function Ce(e,t,n,i){if(!i)return t+n;do t+=n;while(t>0&&k(e.text.charAt(t)));return t}function Se(e,t,n,i){var r=Me(e);if(!r)return Te(e,t,n,i);for(var o=ke(r,t),s=r[o],a=Ce(e,t,s.level%2?-n:n,i);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return ke(r,a)==o?a:(s=r[o+=n],n>0==s.level%2?s.to:s.from);if(s=r[o+=n],!s)return null;a=n>0==s.level%2?Ce(e,s.to,-1,i):Ce(e,s.from,1,i)}}function Te(e,t,n,i){var r=t+n;if(i)for(;r>0&&k(e.text.charAt(r));)r+=n;return r<0||r>e.text.length?null:r}function Me(e){var t=e.order;return null==t&&(t=e.order=Ns(e.text)),t}function De(e,t){return e._handlers&&e._handlers[t]||Is}function Ae(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var i=e._handlers,r=i&&i[t];if(r){var o=h(r,n);o>-1&&(i[t]=r.slice(0,o).concat(r.slice(o+1)))}}}function Ee(e,t){var n=De(e,t);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)}function Oe(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Ee(e,n||t.type,e,t),ze(t)||t.codemirrorIgnore}function je(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)h(n,t[i])==-1&&n.push(t[i])}function Le(e,t){return De(e,t).length>0}function Ne(e){e.prototype.on=function(e,t){Ps(this,e,t)},e.prototype.off=function(e,t){Ae(this,e,t)}}function Ie(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Pe(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function ze(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Fe(e){Ie(e),Pe(e)}function He(e){return e.target||e.srcElement}function We(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),hs&&e.ctrlKey&&1==t&&(t=3),t}function Re(e){if(null==xs){var t=i("span","â€‹");n(e,i("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(xs=t.offsetWidth<=1&&t.offsetHeight>2&&!(ts&&ns<8))}var r=xs?i("span","â€‹"):i("span","Â ",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function qe(e){if(null!=ws)return ws;var i=n(e,document.createTextNode("AØ®A")),r=gs(i,0,1).getBoundingClientRect(),o=gs(i,1,2).getBoundingClientRect();return t(e),!(!r||r.left==r.right)&&(ws=o.right-r.right<3)}function Be(e){if(null!=Rs)return Rs;var t=n(e,i("span","x")),r=t.getBoundingClientRect(),o=gs(t,0,1).getBoundingClientRect();return Rs=Math.abs(r.left-o.left)>1}function Ue(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),qs[e]=t}function $e(e,t){Bs[e]=t}function Ye(e){if("string"==typeof e&&Bs.hasOwnProperty(e))e=Bs[e];else if(e&&"string"==typeof e.name&&Bs.hasOwnProperty(e.name)){var t=Bs[e.name];"string"==typeof t&&(t={name:t}),e=y(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ye("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ye("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Je(e,t){t=Ye(t);var n=qs[t.name];if(!n)return Je(e,"text/plain");var i=n(e,t);if(Us.hasOwnProperty(t.name)){var r=Us[t.name];for(var o in r)r.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&(i["_"+o]=i[o]),i[o]=r[o])}if(i.name=t.name,t.helperType&&(i.helperType=t.helperType),t.modeProps)for(var s in t.modeProps)i[s]=t.modeProps[s];return i}function Ve(e,t){var n=Us.hasOwnProperty(e)?Us[e]:Us[e]={};c(t,n)}function Ge(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var r=t[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n}function Ke(e,t){for(var n;e.innerMode&&(n=e.innerMode(t),n&&n.mode!=e);)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Xe(e,t,n){return!e.startState||e.startState(t,n)}function Qe(e,t,n,i){var r=[e.state.modeGen],o={};st(e,t.text,e.doc.mode,n,function(e,t){return r.push(e,t)},o,i);for(var s=function(n){var i=e.state.overlays[n],s=1,a=0;st(e,t.text,i.mode,!0,function(e,t){for(var n=s;a<e;){var o=r[s];o>e&&r.splice(s,1,e,r[s+1],o),s+=2,a=Math.min(e,o)}if(t)if(i.opaque)r.splice(n,s-n,e,"overlay "+t),s=n+2;else for(;n<s;n+=2){var l=r[n+1];r[n+1]=(l?l+" ":"")+"overlay "+t}},o)},a=0;a<e.state.overlays.length;++a)s(a);return{styles:r,classes:o.bgClass||o.textClass?o:null}}function Ze(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=et(e,A(t)),r=Qe(e,t,t.text.length>e.options.maxHighlightLength?Ge(e.doc.mode,i):i);t.stateAfter=i,t.styles=r.styles,r.classes?t.styleClasses=r.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function et(e,t,n){var i=e.doc,r=e.display;if(!i.mode.startState)return!0;var o=at(e,t,n),s=o>i.first&&S(i,o-1).stateAfter;return s=s?Ge(i.mode,s):Xe(i.mode),i.iter(o,t,function(n){tt(e,n.text,s);var a=o==t-1||o%5==0||o>=r.viewFrom&&o<r.viewTo;n.stateAfter=a?Ge(i.mode,s):null,++o}),n&&(i.frontier=o),s}function tt(e,t,n,i){var r=e.doc.mode,o=new $s(t,e.options.tabSize);for(o.start=o.pos=i||0,""==t&&nt(r,n);!o.eol();)it(r,o,n),o.start=o.pos}function nt(e,t){if(e.blankLine)return e.blankLine(t);
if(e.innerMode){var n=Ke(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function it(e,t,n,i){for(var r=0;r<10;r++){i&&(i[0]=Ke(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function rt(e,t,n,i){var r,o=function(e){return{start:d.start,end:d.pos,string:d.current(),type:r||null,state:e?Ge(s.mode,u):u}},s=e.doc,a=s.mode;t=H(s,t);var l,c=S(s,t.line),u=et(e,t.line,n),d=new $s(c.text,e.options.tabSize);for(i&&(l=[]);(i||d.pos<t.ch)&&!d.eol();)d.start=d.pos,r=it(a,d,u),i&&l.push(o(!0));return i?l:o()}function ot(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==t[i]?t[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[i])||(t[i]+=" "+n[2])}return e}function st(e,t,n,i,r,o,s){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,u=null,d=new $s(t,e.options.tabSize),h=e.options.addModeClass&&[null];for(""==t&&ot(nt(n,i),o);!d.eol();){if(d.pos>e.options.maxHighlightLength?(a=!1,s&&tt(e,t,i,d.pos),d.pos=t.length,l=null):l=ot(it(n,d,i,h),o),h){var p=h[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!a||u!=l){for(;c<d.start;)c=Math.min(d.start,c+5e3),r(c,u);u=l}d.start=d.pos}for(;c<d.pos;){var f=Math.min(d.pos,c+5e3);r(f,u),c=f}}function at(e,t,n){for(var i,r,o=e.doc,s=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var l=S(o,a-1);if(l.stateAfter&&(!n||a<=o.frontier))return a;var c=u(l.text,null,e.options.tabSize);(null==r||i>c)&&(r=a-1,i=c)}return r}function lt(e,t,n){this.text=e,ee(this,t),this.height=n?n(this):1}function ct(e,t,n,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Z(e),ee(e,n);var r=i?i(e):1;r!=e.height&&D(e,r)}function ut(e){e.parent=null,Z(e)}function dt(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Vs:Js;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function ht(e,t){var n=i("span",null,null,is?"padding-right: .1px":null),r={pre:i("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(ts||is)&&e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var s=o?t.rest[o-1]:t.line,l=void 0;r.pos=0,r.addToken=ft,qe(e.display.measure)&&(l=Me(s))&&(r.addToken=gt(r.addToken,l)),r.map=[];var c=t!=e.display.externalMeasured&&A(s);bt(s,r,Ze(e,s,c)),s.styleClasses&&(s.styleClasses.bgClass&&(r.bgClass=a(s.styleClasses.bgClass,r.bgClass||"")),s.styleClasses.textClass&&(r.textClass=a(s.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Re(e.display.measure))),0==o?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(is){var u=r.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return Ee(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=a(r.pre.className,r.textClass||"")),r}function pt(e){var t=i("span","â€¢","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ft(e,t,n,r,o,s,a){if(t){var l,c=e.splitSpaces?mt(t,e.trailingSpace):t,u=e.cm.state.specialChars,d=!1;if(u.test(t)){l=document.createDocumentFragment();for(var h=0;;){u.lastIndex=h;var p=u.exec(t),m=p?p.index-h:t.length-h;if(m){var g=document.createTextNode(c.slice(h,h+m));ts&&ns<9?l.appendChild(i("span",[g])):l.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!p)break;h+=m+1;var v=void 0;if("\t"==p[0]){var b=e.cm.options.tabSize,y=b-e.col%b;v=l.appendChild(i("span",f(y),"cm-tab")),v.setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=y}else"\r"==p[0]||"\n"==p[0]?(v=l.appendChild(i("span","\r"==p[0]?"â":"â¤","cm-invalidchar")),v.setAttribute("cm-text",p[0]),e.col+=1):(v=e.cm.options.specialCharPlaceholder(p[0]),v.setAttribute("cm-text",p[0]),ts&&ns<9?l.appendChild(i("span",[v])):l.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,l=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,l),ts&&ns<9&&(d=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),n||r||o||d||a){var _=n||"";r&&(_+=r),o&&(_+=o);var x=i("span",[l],_,a);return s&&(x.title=s),e.content.appendChild(x)}e.content.appendChild(l)}}function mt(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,i="",r=0;r<e.length;r++){var o=e.charAt(r);" "!=o||!n||r!=e.length-1&&32!=e.charCodeAt(r+1)||(o="Â "),i+=o,n=" "==o}return i}function gt(e,t){return function(n,i,r,o,s,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+i.length;;){for(var d=void 0,h=0;h<t.length&&(d=t[h],!(d.to>c&&d.from<=c));h++);if(d.to>=u)return e(n,i,r,o,s,a,l);e(n,i.slice(0,d.to-c),r,o,null,a,l),o=null,i=i.slice(d.to-c),c=d.to}}}function vt(e,t,n,i){var r=!i&&n.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!i&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t,e.trailingSpace=!1}function bt(e,t,n){var i=e.markedSpans,r=e.text,o=0;if(i)for(var s,a,l,c,u,d,h,p=r.length,f=0,m=1,g="",v=0;;){if(v==f){l=c=u=d=a="",h=null,v=1/0;for(var b=[],y=void 0,_=0;_<i.length;++_){var x=i[_],w=x.marker;"bookmark"==w.type&&x.from==f&&w.widgetNode?b.push(w):x.from<=f&&(null==x.to||x.to>f||w.collapsed&&x.to==f&&x.from==f)?(null!=x.to&&x.to!=f&&v>x.to&&(v=x.to,c=""),w.className&&(l+=" "+w.className),w.css&&(a=(a?a+";":"")+w.css),w.startStyle&&x.from==f&&(u+=" "+w.startStyle),w.endStyle&&x.to==v&&(y||(y=[])).push(w.endStyle,x.to),w.title&&!d&&(d=w.title),w.collapsed&&(!h||ie(h.marker,w)<0)&&(h=x)):x.from>f&&v>x.from&&(v=x.from)}if(y)for(var k=0;k<y.length;k+=2)y[k+1]==v&&(c+=" "+y[k]);if(!h||h.from==f)for(var C=0;C<b.length;++C)vt(t,0,b[C]);if(h&&(h.from||0)==f){if(vt(t,(null==h.to?p+1:h.to)-f,h.marker,null==h.from),null==h.to)return;h.to==f&&(h=!1)}}if(f>=p)break;for(var S=Math.min(p,v);;){if(g){var T=f+g.length;if(!h){var M=T>S?g.slice(0,S-f):g;t.addToken(t,M,s?s+l:l,u,f+M.length==v?c:"",d,a)}if(T>=S){g=g.slice(S-f),f=S;break}f=T,u=""}g=r.slice(o,o=n[m++]),s=dt(n[m++],t.cm.options)}}else for(var D=1;D<n.length;D+=2)t.addToken(t,r.slice(o,o=n[D]),dt(n[D+1],t.cm.options))}function yt(e,t,n){this.line=t,this.rest=ce(t),this.size=this.rest?A(m(this.rest))-n+1:1,this.node=this.text=null,this.hidden=he(e,t)}function _t(e,t,n){for(var i,r=[],o=t;o<n;o=i){var s=new yt(e.doc,S(e.doc,o),o);i=o+s.size,r.push(s)}return r}function xt(e){Gs?Gs.ops.push(e):e.ownsGroup=Gs={ops:[e],delayedCallbacks:[]}}function wt(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var i=0;i<e.ops.length;i++){var r=e.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<t.length)}function kt(e,t){var n=e.ownsGroup;if(n)try{wt(n)}finally{Gs=null,t(n)}}function Ct(e,t){var n=De(e,t);if(n.length){var i,r=Array.prototype.slice.call(arguments,2);Gs?i=Gs.delayedCallbacks:Ks?i=Ks:(i=Ks=[],setTimeout(St,0));for(var o=function(e){i.push(function(){return n[e].apply(null,r)})},s=0;s<n.length;++s)o(s)}}function St(){var e=Ks;Ks=null;for(var t=0;t<e.length;++t)e[t]()}function Tt(e,t,n,i){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?Et(e,t):"gutter"==o?jt(e,t,n,i):"class"==o?Ot(t):"widget"==o&&Lt(e,t,i)}t.changes=null}function Mt(e){return e.node==e.text&&(e.node=i("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),ts&&ns<8&&(e.node.style.zIndex=2)),e.node}function Dt(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=Mt(e);e.background=n.insertBefore(i("div",null,t),n.firstChild)}}function At(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):ht(e,t)}function Et(e,t){var n=t.text.className,i=At(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,Ot(t)):n&&(t.text.className=n)}function Ot(e){Dt(e),e.line.wrapClass?Mt(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function jt(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=Mt(t);t.gutterBackground=i("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),o.insertBefore(t.gutterBackground,t.text)}var s=t.line.gutterMarkers;if(e.options.lineNumbers||s){var a=Mt(t),l=t.gutter=i("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(l),a.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=" "+t.line.gutterClass),!e.options.lineNumbers||s&&s["CodeMirror-linenumbers"]||(t.lineNumber=l.appendChild(i("div",j(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),s)for(var c=0;c<e.options.gutters.length;++c){var u=e.options.gutters[c],d=s.hasOwnProperty(u)&&s[u];d&&l.appendChild(i("div",[d],"CodeMirror-gutter-elt","left: "+r.gutterLeft[u]+"px; width: "+r.gutterWidth[u]+"px"))}}}function Lt(e,t,n){t.alignable&&(t.alignable=null);for(var i=t.node.firstChild,r=void 0;i;i=r)r=i.nextSibling,"CodeMirror-linewidget"==i.className&&t.node.removeChild(i);It(e,t,n)}function Nt(e,t,n,i){var r=At(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),Ot(t),jt(e,t,n,i),It(e,t,i),t.node}function It(e,t,n){if(Pt(e,t.line,t,n,!0),t.rest)for(var i=0;i<t.rest.length;i++)Pt(e,t.rest[i],t,n,!1)}function Pt(e,t,n,r,o){if(t.widgets)for(var s=Mt(n),a=0,l=t.widgets;a<l.length;++a){var c=l[a],u=i("div",[c.node],"CodeMirror-linewidget");c.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),zt(c,u,n,r),e.display.input.setUneditable(u),o&&c.above?s.insertBefore(u,n.gutter||n.text):s.appendChild(u),Ct(c,"redraw")}}function zt(e,t,n,i){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(r-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}function Ft(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!r(document.body,e.node)){var o="position: relative;";e.coverGutter&&(o+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(o+="width: "+t.display.wrapper.clientWidth+"px;"),n(t.display.measure,i("div",[e.node],null,o))}return e.height=e.node.parentNode.offsetHeight}function Ht(e,t){for(var n=He(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Wt(e){return e.lineSpace.offsetTop}function Rt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function qt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=n(e.measure,i("pre","x")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(e.cachedPaddingH=o),o}function Bt(e){return ks-e.display.nativeBarWidth}function Ut(e){return e.display.scroller.clientWidth-Bt(e)-e.display.barWidth}function $t(e){return e.display.scroller.clientHeight-Bt(e)-e.display.barHeight}function Yt(e,t,n){var i=e.options.lineWrapping,r=i&&Ut(e);if(!t.measure.heights||i&&t.measure.width!=r){var o=t.measure.heights=[];if(i){t.measure.width=r;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Jt(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var r=0;r<e.rest.length;r++)if(A(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Vt(e,t){t=le(t);var i=A(t),r=e.display.externalMeasured=new yt(e.doc,t,i);r.lineN=i;var o=r.built=ht(e,r);return r.text=o.pre,n(e.display.lineMeasure,o.pre),r}function Gt(e,t,n,i){return Qt(e,Xt(e,t),n,i)}function Kt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[kn(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Xt(e,t){var n=A(t),i=Kt(e,n);i&&!i.text?i=null:i&&i.changes&&(Tt(e,i,n,bn(e)),e.curOp.forceUpdate=!0),i||(i=Vt(e,t));var r=Jt(i,t,n);return{line:t,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Qt(e,t,n,i,r){t.before&&(n=-1);var o,s=n+(i||"");return t.cache.hasOwnProperty(s)?o=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Yt(e,t.view,t.rect),t.hasHeights=!0),o=en(e,t,n,i),o.bogus||(t.cache[s]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}function Zt(e,t,n){for(var i,r,o,s,a,l,c=0;c<e.length;c+=3)if(a=e[c],l=e[c+1],t<a?(r=0,o=1,s="left"):t<l?(r=t-a,o=r+1):(c==e.length-3||t==l&&e[c+3]>t)&&(o=l-a,r=o-1,t>=l&&(s="right")),null!=r){if(i=e[c+2],a==l&&n==(i.insertLeft?"left":"right")&&(s=n),"left"==n&&0==r)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)i=e[(c-=3)+2],s="left";if("right"==n&&r==l-a)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)i=e[(c+=3)+2],s="right";break}return{node:i,start:r,end:o,collapse:s,coverStart:a,coverEnd:l}}function en(e,t,n,i){var r,o=Zt(t.map,n,i),s=o.node,a=o.start,l=o.end,c=o.collapse;if(3==s.nodeType){for(var u=0;u<4;u++){for(;a&&k(t.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+l<o.coverEnd&&k(t.line.text.charAt(o.coverStart+l));)++l;if(ts&&ns<9&&0==a&&l==o.coverEnd-o.coverStart)r=s.parentNode.getBoundingClientRect();else if(ts&&e.options.lineWrapping){var d=gs(s,a,l).getClientRects();r=d.length?d["right"==i?d.length-1:0]:Xs}else r=gs(s,a,l).getBoundingClientRect()||Xs;if(r.left||r.right||0==a)break;l=a,a-=1,c="right"}ts&&ns<11&&(r=tn(e.display.measure,r))}else{a>0&&(c=i="right");var d;r=e.options.lineWrapping&&(d=s.getClientRects()).length>1?d["right"==i?d.length-1:0]:s.getBoundingClientRect()}if(ts&&ns<9&&!a&&(!r||!r.left&&!r.right)){var h=s.parentNode.getClientRects()[0];r=h?{left:h.left,right:h.left+vn(e.display),top:h.top,bottom:h.bottom}:Xs}for(var p=r.top-t.rect.top,f=r.bottom-t.rect.top,m=(p+f)/2,g=t.view.measure.heights,v=0;v<g.length-1&&!(m<g[v]);v++);var b=v?g[v-1]:0,y=g[v],_={left:("right"==c?r.right:r.left)-t.rect.left,right:("left"==c?r.left:r.right)-t.rect.left,top:b,bottom:y};return r.left||r.right||(_.bogus=!0),e.options.singleCursorHeightPerLine||(_.rtop=p,_.rbottom=f),_}function tn(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Be(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*i,bottom:t.bottom*i}}function nn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function rn(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var n=0;n<e.display.view.length;n++)nn(e.display.view[n])}function on(e){rn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function sn(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function an(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ln(e,t,n,i,r){if(!r&&t.widgets)for(var o=0;o<t.widgets.length;++o)if(t.widgets[o].above){var s=Ft(t.widgets[o]);n.top+=s,n.bottom+=s}if("line"==i)return n;i||(i="local");var a=fe(t);if("local"==i?a+=Wt(e.display):a-=e.display.viewOffset,"page"==i||"window"==i){var l=e.display.lineSpace.getBoundingClientRect();a+=l.top+("window"==i?0:an());var c=l.left+("window"==i?0:sn());n.left+=c,n.right+=c}return n.top+=a,n.bottom+=a,n}function cn(e,t,n){if("div"==n)return t;var i=t.left,r=t.top;if("page"==n)i-=sn(),r-=an();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:r-s.top}}function un(e,t,n,i,r){return i||(i=S(e.doc,t.line)),ln(e,i,Gt(e,i,t.ch,r),n)}function dn(e,t,n,i,r,o){function s(t,s){var a=Qt(e,r,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,ln(e,i,a,n)}function a(e,t){var n=l[t],i=n.level%2;return e==be(n)&&t&&n.level<l[t-1].level?(n=l[--t],e=ye(n)-(n.level%2?0:1),i=!0):e==ye(n)&&t<l.length-1&&n.level<l[t+1].level&&(n=l[++t],e=be(n)-n.level%2,i=!1),i&&e==n.to&&e>n.from?s(e-1):s(e,i)}i=i||S(e.doc,t.line),r||(r=Xt(e,i));var l=Me(i),c=t.ch;if(!l)return s(c);var u=ke(l,c),d=a(c,u);return null!=Ls&&(d.other=a(c,Ls)),d}function hn(e,t){var n=0;t=H(e.doc,t),e.options.lineWrapping||(n=vn(e.display)*t.ch);var i=S(e.doc,t.line),r=fe(i)+Wt(e.display);return{left:n,right:n,top:r,bottom:r+i.height}}function pn(e,t,n,i){var r=L(e,t);return r.xRel=i,n&&(r.outside=!0),r}function fn(e,t,n){var i=e.doc;if(n+=e.display.viewOffset,n<0)return pn(i.first,0,!0,-1);var r=E(i,n),o=i.first+i.size-1;if(r>o)return pn(i.first+i.size-1,S(i,o).text.length,!0,1);t<0&&(t=0);for(var s=S(i,r);;){var a=mn(e,s,r,t,n),l=se(s),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;r=A(s=c.to.line)}}function mn(e,t,n,i,r){function o(i){var r=dn(e,L(n,i),"line",t,c);return a=!0,s>r.bottom?r.left-l:s<r.top?r.left+l:(a=!1,r.left)}var s=r-fe(t),a=!1,l=2*e.display.wrapper.clientWidth,c=Xt(e,t),u=Me(t),d=t.text.length,h=_e(t),p=xe(t),f=o(h),m=a,g=o(p),v=a;if(i>g)return pn(n,p,v,1);for(;;){if(u?p==h||p==Se(t,h,1):p-h<=1){var b=i<f||i-f<=g-i?h:p,y=b==h?m:v,_=i-(b==h?f:g);if(v&&!u&&!/\s/.test(t.text.charAt(b))&&_>0&&b<t.text.length&&c.view.measure.heights.length>1){var x=Qt(e,c,b,"right");s<=x.bottom&&s>=x.top&&Math.abs(i-x.right)<_&&(y=!1,b++,_=i-x.right)}for(;k(t.text.charAt(b));)++b;var w=pn(n,b,y,_<-1?-1:_>1?1:0);return w}var C=Math.ceil(d/2),S=h+C;if(u){S=h;for(var T=0;T<C;++T)S=Se(t,S,1)}var M=o(S);M>i?(p=S,g=M,(v=a)&&(g+=1e3),d=C):(h=S,f=M,m=a,d-=C)}}function gn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ys){Ys=i("pre");for(var r=0;r<49;++r)Ys.appendChild(document.createTextNode("x")),Ys.appendChild(i("br"));Ys.appendChild(document.createTextNode("x"))}n(e.measure,Ys);var o=Ys.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),t(e.measure),o||1}function vn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=i("span","xxxxxxxxxx"),r=i("pre",[t]);n(e.measure,r);var o=t.getBoundingClientRect(),s=(o.right-o.left)/10;return s>2&&(e.cachedCharWidth=s),s||10}function bn(e){for(var t=e.display,n={},i={},r=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s)n[e.options.gutters[s]]=o.offsetLeft+o.clientLeft+r,i[e.options.gutters[s]]=o.clientWidth;return{fixedPos:yn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function yn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function _n(e){var t=gn(e.display),n=e.options.lineWrapping,i=n&&Math.max(5,e.display.scroller.clientWidth/vn(e.display)-3);return function(r){if(he(e.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return n?o+(Math.ceil(r.text.length/i)||1)*t:o+t}}function xn(e){var t=e.doc,n=_n(e);t.iter(function(e){var t=n(e);t!=e.height&&D(e,t)})}function wn(e,t,n,i){var r=e.display;if(!n&&"true"==He(t).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(e){return null}var l,c=fn(e,o,s);if(i&&1==c.xRel&&(l=S(e.doc,c.line).text).length==c.ch){var d=u(l,l.length,e.options.tabSize)-l.length;c=L(c.line,Math.max(0,Math.round((o-qt(e.display).left)/vn(e.display))-d))}return c}function kn(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var n=e.display.view,i=0;i<n.length;i++)if(t-=n[i].size,t<0)return i}function Cn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Sn(e,t){for(var n=e.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(t!==!1||s!=n.sel.primIndex){var a=n.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var l=a.empty();(l||e.options.showCursorWhenSelecting)&&Tn(e,a.head,r),l||Mn(e,a,o)}}return i}function Tn(e,t,n){var r=dn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(i("div","Â ","CodeMirror-cursor"));if(o.style.left=r.left+"px",o.style.top=r.top+"px",o.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var s=n.appendChild(i("div","Â ","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=r.other.left+"px",s.style.top=r.other.top+"px",s.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Mn(e,t,n){function r(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),l.appendChild(i("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?d-e:n)+"px;\n                             height: "+(r-t)+"px"))}function o(t,n,i){function o(n,i){return un(e,L(t,n),"div",c,i)}var s,l,c=S(a,t),h=c.text.length;return ve(Me(c),n||0,null==i?h:i,function(e,t,a){var c,p,f,m=o(e,"left");if(e==t)c=m,p=f=m.left;else{if(c=o(t-1,"right"),"rtl"==a){var g=m;m=c,c=g}p=m.left,f=c.right}null==n&&0==e&&(p=u),c.top-m.top>3&&(r(p,m.top,null,m.bottom),p=u,m.bottom<c.top&&r(p,m.bottom,null,c.top)),null==i&&t==h&&(f=d),(!s||m.top<s.top||m.top==s.top&&m.left<s.left)&&(s=m),(!l||c.bottom>l.bottom||c.bottom==l.bottom&&c.right>l.right)&&(l=c),p<u+1&&(p=u),r(p,c.top,f-p,c.bottom)}),{start:s,end:l}}var s=e.display,a=e.doc,l=document.createDocumentFragment(),c=qt(e.display),u=c.left,d=Math.max(s.sizerWidth,Ut(e)-s.sizer.offsetLeft)-c.right,h=t.from(),p=t.to();if(h.line==p.line)o(h.line,h.ch,p.ch);else{var f=S(a,h.line),m=S(a,p.line),g=le(f)==le(m),v=o(h.line,h.ch,g?f.text.length+1:null).end,b=o(p.line,g?0:null,p.ch).start;g&&(v.top<b.top-2?(r(v.right,v.top,null,v.bottom),r(u,b.top,b.left,b.bottom)):r(v.right,v.top,b.left-v.right,v.bottom)),v.bottom<b.top&&r(u,v.bottom,null,b.top)}n.appendChild(l)}function Dn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function An(e){e.state.focused||(e.display.input.focus(),On(e))}function En(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,jn(e))},100)}function On(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Ee(e,"focus",e,t),e.state.focused=!0,s(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),is&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Dn(e))}function jn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Ee(e,"blur",e,t),e.state.focused=!1,ys(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Ln(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=yn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=i+"px",s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&(n[s].gutter&&(n[s].gutter.style.left=o),n[s].gutterBackground&&(n[s].gutterBackground.style.left=o));var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=i+r+"px")}}function Nn(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=j(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var o=r.measure.appendChild(i("div",[i("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),s=o.firstChild.offsetWidth,a=o.offsetWidth-s;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(s,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Si(e),!0}return!1}function In(e){for(var t=e.display,n=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var r=t.view[i],o=void 0;if(!r.hidden){if(ts&&ns<8){var s=r.node.offsetTop+r.node.offsetHeight;o=s-n,n=s}else{var a=r.node.getBoundingClientRect();o=a.bottom-a.top}var l=r.line.height-o;if(o<2&&(o=gn(t)),(l>.001||l<-.001)&&(D(r.line,o),Pn(r.line),r.rest))for(var c=0;c<r.rest.length;c++)Pn(r.rest[c])}}}function Pn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function zn(e,t,n){var i=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;i=Math.floor(i-Wt(e));var r=n&&null!=n.bottom?n.bottom:i+e.wrapper.clientHeight,o=E(t,i),s=E(t,r);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;a<o?(o=a,s=E(t,fe(S(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=s&&(o=E(t,fe(S(t,l))-e.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function Fn(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,Qo||ki(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),Qo&&ki(e),bi(e,100))}function Hn(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,Ln(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Wn(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function Rn(e){var t=Wn(e);return t.x*=Zs,t.y*=Zs,t}function qn(e,t){var n=Wn(t),i=n.x,r=n.y,o=e.display,s=o.scroller,a=s.scrollWidth>s.clientWidth,l=s.scrollHeight>s.clientHeight;if(i&&a||r&&l){if(r&&hs&&is)e:for(var c=t.target,u=o.view;c!=s;c=c.parentNode)for(var d=0;d<u.length;d++)if(u[d].node==c){e.display.currentWheelTarget=c;break e}if(i&&!Qo&&!ss&&null!=Zs)return r&&l&&Fn(e,Math.max(0,Math.min(s.scrollTop+r*Zs,s.scrollHeight-s.clientHeight))),Hn(e,Math.max(0,Math.min(s.scrollLeft+i*Zs,s.scrollWidth-s.clientWidth))),(!r||r&&l)&&Ie(t),void(o.wheelStartX=null);if(r&&null!=Zs){var h=r*Zs,p=e.doc.scrollTop,f=p+o.wrapper.clientHeight;h<0?p=Math.max(0,p+h-50):f=Math.min(e.doc.height,f+h+50),ki(e,{top:p,bottom:f})}Qs<20&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=i,o.wheelDY=r,setTimeout(function(){if(null!=o.wheelStartX){var e=s.scrollLeft-o.wheelStartX,t=s.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Zs=(Zs*Qs+n)/(Qs+1),++Qs)}},200)):(o.wheelDX+=i,o.wheelDY+=r))}}function Bn(e){var t=e.display,n=t.gutters.offsetWidth,i=Math.round(e.doc.height+Rt(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+Bt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function Un(e,t){t||(t=Bn(e));var n=e.display.barWidth,i=e.display.barHeight;$n(e,t);for(var r=0;r<4&&n!=e.display.barWidth||i!=e.display.barHeight;r++)n!=e.display.barWidth&&e.options.lineWrapping&&In(e),$n(e,Bn(e)),n=e.display.barWidth,i=e.display.barHeight}function $n(e,t){var n=e.display,i=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function Yn(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&ys(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new na[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Ps(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?Hn(e,t):Fn(e,t)},e),e.display.scrollbars.addClass&&s(e.display.wrapper,e.display.scrollbars.addClass)}function Jn(e,t){if(!Oe(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),o=null;if(t.top+r.top<0?o=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!cs){var s=i("div","â€‹",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Wt(e.display))+"px;\n                         height: "+(t.bottom-t.top+Bt(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(s),s.scrollIntoView(o),e.display.lineSpace.removeChild(s)}}}function Vn(e,t,n,i){null==i&&(i=0);for(var r,o=0;o<5;o++){var s=!1;r=dn(e,t);var a=n&&n!=t?dn(e,n):r,l=Kn(e,Math.min(r.left,a.left),Math.min(r.top,a.top)-i,Math.max(r.left,a.left),Math.max(r.bottom,a.bottom)+i),c=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=l.scrollTop&&(Fn(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(s=!0)),null!=l.scrollLeft&&(Hn(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-u)>1&&(s=!0)),!s)break}return r}function Gn(e,t,n,i,r){var o=Kn(e,t,n,i,r);null!=o.scrollTop&&Fn(e,o.scrollTop),null!=o.scrollLeft&&Hn(e,o.scrollLeft)}function Kn(e,t,n,i,r){var o=e.display,s=gn(e.display);n<0&&(n=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,l=$t(e),c={};r-n>l&&(r=n+l);var u=e.doc.height+Rt(o),d=n<s,h=r>u-s;if(n<a)c.scrollTop=d?0:n;else if(r>a+l){var p=Math.min(n,(h?u:r)-l);p!=a&&(c.scrollTop=p)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,m=Ut(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),g=i-t>m;return g&&(i=t+m),t<10?c.scrollLeft=0:t<f?c.scrollLeft=Math.max(0,t-(g?0:10)):i>m+f-3&&(c.scrollLeft=i+(g?0:10)-m),c}function Xn(e,t,n){null==t&&null==n||Zn(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function Qn(e){Zn(e);
var t=e.getCursor(),n=t,i=t;e.options.lineWrapping||(n=t.ch?L(t.line,t.ch-1):t,i=L(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:i,margin:e.options.cursorScrollMargin,isCursor:!0}}function Zn(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=hn(e,t.from),i=hn(e,t.to),r=Kn(e,Math.min(n.left,i.left),Math.min(n.top,i.top)-t.margin,Math.max(n.right,i.right),Math.max(n.bottom,i.bottom)+t.margin);e.scrollTo(r.scrollLeft,r.scrollTop)}}function ei(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++ia},xt(e.curOp)}function ti(e){var t=e.curOp;kt(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;ni(e)})}function ni(e){for(var t=e.ops,n=0;n<t.length;n++)ii(t[n]);for(var i=0;i<t.length;i++)ri(t[i]);for(var r=0;r<t.length;r++)oi(t[r]);for(var o=0;o<t.length;o++)si(t[o]);for(var s=0;s<t.length;s++)ai(t[s])}function ii(e){var t=e.cm,n=t.display;_i(t),e.updateMaxLine&&ge(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ra(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function ri(e){e.updatedDisplay=e.mustUpdate&&xi(e.cm,e.update)}function oi(e){var t=e.cm,n=t.display;e.updatedDisplay&&In(t),e.barMeasure=Bn(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Gt(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Bt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Ut(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection(e.focus))}function si(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Hn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==o()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Un(t,e.barMeasure),e.updatedDisplay&&Ti(t,e.barMeasure),e.selectionChanged&&Dn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&An(e.cm)}function ai(e){var t=e.cm,n=t.display,i=t.doc;if(e.updatedDisplay&&wi(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(i.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(i.scrollTop),n.scroller.scrollTop=i.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(i.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft)),n.scrollbars.setScrollLeft(i.scrollLeft),n.scroller.scrollLeft=i.scrollLeft,Ln(t)),e.scrollToPos){var r=Vn(t,H(i,e.scrollToPos.from),H(i,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Jn(t,r)}var o=e.maybeHiddenMarkers,s=e.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||Ee(o[a],"hide");if(s)for(var l=0;l<s.length;++l)s[l].lines.length&&Ee(s[l],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Ee(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function li(e,t){if(e.curOp)return t();ei(e);try{return t()}finally{ti(e)}}function ci(e,t){return function(){if(e.curOp)return t.apply(e,arguments);ei(e);try{return t.apply(e,arguments)}finally{ti(e)}}}function ui(e){return function(){if(this.curOp)return e.apply(this,arguments);ei(this);try{return e.apply(this,arguments)}finally{ti(this)}}}function di(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);ei(t);try{return e.apply(this,arguments)}finally{ti(t)}}}function hi(e,t,n,i){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),i||(i=0);var r=e.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)js&&ue(e.doc,t)<r.viewTo&&fi(e);else if(n<=r.viewFrom)js&&de(e.doc,n+i)>r.viewFrom?fi(e):(r.viewFrom+=i,r.viewTo+=i);else if(t<=r.viewFrom&&n>=r.viewTo)fi(e);else if(t<=r.viewFrom){var o=mi(e,n,n+i,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):fi(e)}else if(n>=r.viewTo){var s=mi(e,t,t,-1);s?(r.view=r.view.slice(0,s.index),r.viewTo=s.lineN):fi(e)}else{var a=mi(e,t,t,-1),l=mi(e,n,n+i,1);a&&l?(r.view=r.view.slice(0,a.index).concat(_t(e,a.lineN,l.lineN)).concat(r.view.slice(l.index)),r.viewTo+=i):fi(e)}var c=r.externalMeasured;c&&(n<c.lineN?c.lineN+=i:t<c.lineN+c.size&&(r.externalMeasured=null))}function pi(e,t,n){e.curOp.viewChanged=!0;var i=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var o=i.view[kn(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);h(s,n)==-1&&s.push(n)}}}function fi(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function mi(e,t,n,i){var r,o=kn(e,t),s=e.display.view;if(!js||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var a=e.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=t){if(i>0){if(o==s.length-1)return null;r=a+s[o].size-t,o++}else r=a-t;t+=r,n+=r}for(;ue(e.doc,n)!=n;){if(o==(i<0?0:s.length-1))return null;n+=i*s[o-(i<0?1:0)].size,o+=i}return{index:o,lineN:n}}function gi(e,t,n){var i=e.display,r=i.view;0==r.length||t>=i.viewTo||n<=i.viewFrom?(i.view=_t(e,t,n),i.viewFrom=t):(i.viewFrom>t?i.view=_t(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(kn(e,t))),i.viewFrom=t,i.viewTo<n?i.view=i.view.concat(_t(e,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,kn(e,n)))),i.viewTo=n}function vi(e){for(var t=e.display.view,n=0,i=0;i<t.length;i++){var r=t[i];r.hidden||r.node&&!r.changes||++n}return n}function bi(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,l(yi,e))}function yi(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,i=Ge(t.mode,et(e,t.frontier)),r=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var s=o.styles,a=o.text.length>e.options.maxHighlightLength,l=Qe(e,o,a?Ge(t.mode,i):i,!0);o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var d=!s||s.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),h=0;!d&&h<s.length;++h)d=s[h]!=o.styles[h];d&&r.push(t.frontier),o.stateAfter=a?i:Ge(t.mode,i)}else o.text.length<=e.options.maxHighlightLength&&tt(e,o.text,i),o.stateAfter=t.frontier%5==0?Ge(t.mode,i):null;if(++t.frontier,+new Date>n)return bi(e,e.options.workDelay),!0}),r.length&&li(e,function(){for(var t=0;t<r.length;t++)pi(e,r[t],"text")})}}function _i(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Bt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Bt(e)+"px",t.scrollbarsClipped=!0)}function xi(e,n){var i=e.display,r=e.doc;if(n.editorIsHidden)return fi(e),!1;if(!n.force&&n.visible.from>=i.viewFrom&&n.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==vi(e))return!1;Nn(e)&&(fi(e),n.dims=bn(e));var s=r.first+r.size,a=Math.max(n.visible.from-e.options.viewportMargin,r.first),l=Math.min(s,n.visible.to+e.options.viewportMargin);i.viewFrom<a&&a-i.viewFrom<20&&(a=Math.max(r.first,i.viewFrom)),i.viewTo>l&&i.viewTo-l<20&&(l=Math.min(s,i.viewTo)),js&&(a=ue(e.doc,a),l=de(e.doc,l));var c=a!=i.viewFrom||l!=i.viewTo||i.lastWrapHeight!=n.wrapperHeight||i.lastWrapWidth!=n.wrapperWidth;gi(e,a,l),i.viewOffset=fe(S(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px";var u=vi(e);if(!c&&0==u&&!n.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var d=o();return u>4&&(i.lineDiv.style.display="none"),Ci(e,i.updateLineNumbers,n.dims),u>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,d&&o()!=d&&d.offsetHeight&&d.focus(),t(i.cursorDiv),t(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,c&&(i.lastWrapHeight=n.wrapperHeight,i.lastWrapWidth=n.wrapperWidth,bi(e,400)),i.updateLineNumbers=null,!0}function wi(e,t){for(var n=t.viewport,i=!0;(i&&e.options.lineWrapping&&t.oldDisplayWidth!=Ut(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Rt(e.display)-$t(e),n.top)}),t.visible=zn(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&xi(e,t);i=!1){In(e);var r=Bn(e);Cn(e),Un(e,r),Ti(e,r)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function ki(e,t){var n=new ra(e,t);if(xi(e,n)){In(e),wi(e,n);var i=Bn(e);Cn(e),Un(e,i),Ti(e,i),n.finish()}}function Ci(e,n,i){function r(t){var n=t.nextSibling;return is&&hs&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var o=e.display,s=e.options.lineNumbers,a=o.lineDiv,l=a.firstChild,c=o.view,u=o.viewFrom,d=0;d<c.length;d++){var p=c[d];if(p.hidden);else if(p.node&&p.node.parentNode==a){for(;l!=p.node;)l=r(l);var f=s&&null!=n&&n<=u&&p.lineNumber;p.changes&&(h(p.changes,"gutter")>-1&&(f=!1),Tt(e,p,u,i)),f&&(t(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(j(e.options,u)))),l=p.node.nextSibling}else{var m=Nt(e,p,u,i);a.insertBefore(m,l)}u+=p.size}for(;l;)l=r(l)}function Si(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function Ti(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Bt(e)+"px"}function Mi(e){var n=e.display.gutters,r=e.options.gutters;t(n);for(var o=0;o<r.length;++o){var s=r[o],a=n.appendChild(i("div",null,"CodeMirror-gutter "+s));"CodeMirror-linenumbers"==s&&(e.display.lineGutter=a,a.style.width=(e.display.lineNumWidth||1)+"px")}n.style.display=o?"":"none",Si(e)}function Di(e){var t=h(e.gutters,"CodeMirror-linenumbers");t==-1&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function Ai(e,t){this.ranges=e,this.primIndex=t}function Ei(e,t){this.anchor=e,this.head=t}function Oi(e,t){var n=e[t];e.sort(function(e,t){return N(e.from(),t.from())}),t=h(e,n);for(var i=1;i<e.length;i++){var r=e[i],o=e[i-1];if(N(o.to(),r.from())>=0){var s=z(o.from(),r.from()),a=P(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;i<=t&&--t,e.splice(--i,2,new Ei(l?a:s,l?s:a))}}return new Ai(e,t)}function ji(e,t){return new Ai([new Ei(e,t||e)],0)}function Li(e){return e.text?L(e.from.line+e.text.length-1,m(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Ni(e,t){if(N(e,t.from)<0)return e;if(N(e,t.to)<=0)return Li(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=Li(t).ch-t.to.ch),L(n,i)}function Ii(e,t){for(var n=[],i=0;i<e.sel.ranges.length;i++){var r=e.sel.ranges[i];n.push(new Ei(Ni(r.anchor,t),Ni(r.head,t)))}return Oi(n,e.sel.primIndex)}function Pi(e,t,n){return e.line==t.line?L(n.line,e.ch-t.ch+n.ch):L(n.line+(e.line-t.line),e.ch)}function zi(e,t,n){for(var i=[],r=L(e.first,0),o=r,s=0;s<t.length;s++){var a=t[s],l=Pi(a.from,r,o),c=Pi(Li(a),r,o);if(r=a.to,o=c,"around"==n){var u=e.sel.ranges[s],d=N(u.head,u.anchor)<0;i[s]=new Ei(d?c:l,d?l:c)}else i[s]=new Ei(l,l)}return new Ai(i,e.sel.primIndex)}function Fi(e){e.doc.mode=Je(e.options,e.doc.modeOption),Hi(e)}function Hi(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,bi(e,100),e.state.modeGen++,e.curOp&&hi(e)}function Wi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==m(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ri(e,t,n,i){function r(e){return n?n[e]:null}function o(e,n,r){ct(e,n,r,i),Ct(e,"change",e,t)}function s(e,t){for(var n=[],o=e;o<t;++o)n.push(new lt(c[o],r(o),i));return n}var a=t.from,l=t.to,c=t.text,u=S(e,a.line),d=S(e,l.line),h=m(c),p=r(c.length-1),f=l.line-a.line;if(t.full)e.insert(0,s(0,c.length)),e.remove(c.length,e.size-c.length);else if(Wi(e,t)){var g=s(0,c.length-1);o(d,d.text,p),f&&e.remove(a.line,f),g.length&&e.insert(a.line,g)}else if(u==d)if(1==c.length)o(u,u.text.slice(0,a.ch)+h+u.text.slice(l.ch),p);else{var v=s(1,c.length-1);v.push(new lt(h+u.text.slice(l.ch),p,i)),o(u,u.text.slice(0,a.ch)+c[0],r(0)),e.insert(a.line+1,v)}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+d.text.slice(l.ch),r(0)),e.remove(a.line+1,f);else{o(u,u.text.slice(0,a.ch)+c[0],r(0)),o(d,h+d.text.slice(l.ch),p);var b=s(1,c.length-1);f>1&&e.remove(a.line+1,f-1),e.insert(a.line+1,b)}Ct(e,"change",e,t)}function qi(e,t,n){function i(e,r,o){if(e.linked)for(var s=0;s<e.linked.length;++s){var a=e.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;n&&!l||(t(a.doc,l),i(a.doc,e,l))}}}i(e,null,!0)}function Bi(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,xn(e),Fi(e),e.options.lineWrapping||ge(e),e.options.mode=t.modeOption,hi(e)}function Ui(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function $i(e,t){var n={from:I(t.from),to:Li(t),text:T(e,t.from,t.to)};return Qi(e,n,t.from.line,t.to.line+1),qi(e,function(e){return Qi(e,n,t.from.line,t.to.line+1)},!0),n}function Yi(e){for(;e.length;){var t=m(e);if(!t.ranges)break;e.pop()}}function Ji(e,t){return t?(Yi(e.done),m(e.done)):e.done.length&&!m(e.done).ranges?m(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),m(e.done)):void 0}function Vi(e,t,n,i){var r=e.history;r.undone.length=0;var o,s,a=+new Date;if((r.lastOp==i||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&r.lastModTime>a-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=Ji(r,r.lastOp==i)))s=m(o.changes),0==N(t.from,t.to)&&0==N(t.from,s.to)?s.to=Li(t):o.changes.push($i(e,t));else{var l=m(r.done);for(l&&l.ranges||Xi(e.sel,r.done),o={changes:[$i(e,t)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=a,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=t.origin,s||Ee(e,"historyAdded")}function Gi(e,t,n,i){var r=t.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Ki(e,t,n,i){var r=e.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||Gi(e,o,m(r.done),t))?r.done[r.done.length-1]=t:Xi(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,i&&i.clearRedo!==!1&&Yi(r.undone)}function Xi(e,t){var n=m(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Qi(e,t,n,i){var r=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,i),function(n){n.markedSpans&&((r||(r=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function Zi(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function er(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var i=[],r=0;r<t.text.length;++r)i.push(Zi(n[r]));return i}function tr(e,t){var n=er(e,t),i=K(e,t);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],s=i[r];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else s&&(n[r]=s)}return n}function nr(e,t,n){for(var i=[],r=0;r<e.length;++r){var o=e[r];if(o.ranges)i.push(n?Ai.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];i.push({changes:a});for(var l=0;l<s.length;++l){var c=s[l],u=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),t)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&h(t,Number(u[1]))>-1&&(m(a)[d]=c[d],delete c[d])}}}return i}function ir(e,t,n,i){if(e.cm&&e.cm.display.shift||e.extend){var r=t.anchor;if(i){var o=N(n,r)<0;o!=N(i,r)<0?(r=n,n=i):o!=N(n,i)<0&&(n=i)}return new Ei(r,n)}return new Ei(i||n,n)}function rr(e,t,n,i){ur(e,new Ai([ir(e,e.sel.primary(),t,n)],0),i)}function or(e,t,n){for(var i=[],r=0;r<e.sel.ranges.length;r++)i[r]=ir(e,e.sel.ranges[r],t[r],null);var o=Oi(i,e.sel.primIndex);ur(e,o,n)}function sr(e,t,n,i){var r=e.sel.ranges.slice(0);r[t]=n,ur(e,Oi(r,e.sel.primIndex),i)}function ar(e,t,n,i){ur(e,ji(t,n),i)}function lr(e,t,n){var i={ranges:t.ranges,update:function(t){var n=this;this.ranges=[];for(var i=0;i<t.length;i++)n.ranges[i]=new Ei(H(e,t[i].anchor),H(e,t[i].head))},origin:n&&n.origin};return Ee(e,"beforeSelectionChange",e,i),e.cm&&Ee(e.cm,"beforeSelectionChange",e.cm,i),i.ranges!=t.ranges?Oi(i.ranges,i.ranges.length-1):t}function cr(e,t,n){var i=e.history.done,r=m(i);r&&r.ranges?(i[i.length-1]=t,dr(e,t,n)):ur(e,t,n)}function ur(e,t,n){dr(e,t,n),Ki(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function dr(e,t,n){(Le(e,"beforeSelectionChange")||e.cm&&Le(e.cm,"beforeSelectionChange"))&&(t=lr(e,t,n));var i=n&&n.bias||(N(t.primary().head,e.sel.primary().head)<0?-1:1);hr(e,fr(e,t,i,!0)),n&&n.scroll===!1||!e.cm||Qn(e.cm)}function hr(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,je(e.cm)),Ct(e,"cursorActivity",e))}function pr(e){hr(e,fr(e,e.sel,null,!1),Ss)}function fr(e,t,n,i){for(var r,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=gr(e,s.anchor,a&&a.anchor,n,i),c=gr(e,s.head,a&&a.head,n,i);(r||l!=s.anchor||c!=s.head)&&(r||(r=t.ranges.slice(0,o)),r[o]=new Ei(l,c))}return r?Oi(r,t.primIndex):t}function mr(e,t,n,i,r){var o=S(e,t.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(l.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(r&&(Ee(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(n){var c=l.find(i<0?1:-1),u=void 0;if((i<0?l.inclusiveRight:l.inclusiveLeft)&&(c=vr(e,c,-i,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(u=N(c,n))&&(i<0?u<0:u>0))return mr(e,c,t,i,r)}var d=l.find(i<0?-1:1);return(i<0?l.inclusiveLeft:l.inclusiveRight)&&(d=vr(e,d,i,d.line==t.line?o:null)),d?mr(e,d,t,i,r):null}}return t}function gr(e,t,n,i,r){var o=i||1,s=mr(e,t,n,o,r)||!r&&mr(e,t,n,o,!0)||mr(e,t,n,-o,r)||!r&&mr(e,t,n,-o,!0);return s?s:(e.cantEdit=!0,L(e.first,0))}function vr(e,t,n,i){return n<0&&0==t.ch?t.line>e.first?H(e,L(t.line-1)):null:n>0&&t.ch==(i||S(e,t.line)).text.length?t.line<e.first+e.size-1?L(t.line+1,0):null:new L(t.line,t.ch+n)}function br(e){e.setSelection(L(e.firstLine(),0),L(e.lastLine()),Ss)}function yr(e,t,n){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return i.canceled=!0}};return n&&(i.update=function(t,n,r,o){t&&(i.from=H(e,t)),n&&(i.to=H(e,n)),r&&(i.text=r),void 0!==o&&(i.origin=o)}),Ee(e,"beforeChange",e,i),e.cm&&Ee(e.cm,"beforeChange",e.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function _r(e,t,n){if(e.cm){if(!e.cm.curOp)return ci(e.cm,_r)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Le(e,"beforeChange")||e.cm&&Le(e.cm,"beforeChange"))||(t=yr(e,t,!0))){var i=Os&&!n&&Q(e,t.from,t.to);if(i)for(var r=i.length-1;r>=0;--r)xr(e,{from:i[r].from,to:i[r].to,text:r?[""]:t.text});else xr(e,t)}}function xr(e,t){if(1!=t.text.length||""!=t.text[0]||0!=N(t.from,t.to)){var n=Ii(e,t);Vi(e,t,n,e.cm?e.cm.curOp.id:NaN),Cr(e,t,n,K(e,t));var i=[];qi(e,function(e,n){n||h(i,e.history)!=-1||(Ar(e.history,t),i.push(e.history)),Cr(e,t,null,K(e,t))})}}function wr(e,t,n){if(!e.cm||!e.cm.state.suppressEdits||n){for(var i,r=e.history,o=e.sel,s="undo"==t?r.done:r.undone,a="undo"==t?r.undone:r.done,l=0;l<s.length&&(i=s[l],n?!i.ranges||i.equals(e.sel):i.ranges);l++);if(l!=s.length){for(r.lastOrigin=r.lastSelOrigin=null;i=s.pop(),i.ranges;){if(Xi(i,a),n&&!i.equals(e.sel))return void ur(e,i,{clearRedo:!1});o=i}var c=[];Xi(o,a),a.push({changes:c,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;for(var u=Le(e,"beforeChange")||e.cm&&Le(e.cm,"beforeChange"),d=function(n){var r=i.changes[n];if(r.origin=t,u&&!yr(e,r,!1))return s.length=0,{};c.push($i(e,r));var o=n?Ii(e,r):m(s);Cr(e,r,o,tr(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:Li(r)});var a=[];qi(e,function(e,t){t||h(a,e.history)!=-1||(Ar(e.history,r),a.push(e.history)),Cr(e,r,null,tr(e,r))})},p=i.changes.length-1;p>=0;--p){var f=d(p);if(f)return f.v}}}}function kr(e,t){if(0!=t&&(e.first+=t,e.sel=new Ai(g(e.sel.ranges,function(e){return new Ei(L(e.anchor.line+t,e.anchor.ch),L(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){hi(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,i=n.viewFrom;i<n.viewTo;i++)pi(e.cm,i,"gutter")}}function Cr(e,t,n,i){if(e.cm&&!e.cm.curOp)return ci(e.cm,Cr)(e,t,n,i);if(t.to.line<e.first)return void kr(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);kr(e,r),t={from:L(e.first,0),to:L(t.to.line+r,t.to.ch),text:[m(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:L(o,S(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=T(e,t.from,t.to),n||(n=Ii(e,t)),e.cm?Sr(e.cm,t,i):Ri(e,t,i),dr(e,n,Ss)}}function Sr(e,t,n){var i=e.doc,r=e.display,o=t.from,s=t.to,a=!1,l=o.line;e.options.lineWrapping||(l=A(le(S(i,o.line))),i.iter(l,s.line+1,function(e){if(e==r.maxLine)return a=!0,!0})),i.sel.contains(t.from,t.to)>-1&&je(e),Ri(i,t,n,_n(e)),e.options.lineWrapping||(i.iter(l,o.line+t.text.length,function(e){var t=me(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,a=!1)}),a&&(e.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,o.line),bi(e,400);var c=t.text.length-(s.line-o.line)-1;t.full?hi(e):o.line!=s.line||1!=t.text.length||Wi(e.doc,t)?hi(e,o.line,s.line+1,c):pi(e,o.line,"text");var u=Le(e,"changes"),d=Le(e,"change");if(d||u){var h={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};d&&Ct(e,"change",e,h),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function Tr(e,t,n,i,r){if(i||(i=n),N(i,n)<0){var o=i;i=n,n=o}"string"==typeof t&&(t=e.splitLines(t)),_r(e,{from:n,to:i,text:t,origin:r})}function Mr(e,t,n,i){n<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function Dr(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r],s=!0;if(o.ranges){o.copied||(o=e[r]=o.deepCopy(),o.copied=!0);for(var a=0;a<o.ranges.length;a++)Mr(o.ranges[a].anchor,t,n,i),Mr(o.ranges[a].head,t,n,i)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=L(c.from.line+i,c.from.ch),c.to=L(c.to.line+i,c.to.ch);else if(t<=c.to.line){s=!1;break}}s||(e.splice(0,r+1),r=0)}}}function Ar(e,t){var n=t.from.line,i=t.to.line,r=t.text.length-(i-n)-1;Dr(e.done,n,i,r),Dr(e.undone,n,i,r)}function Er(e,t,n,i){var r=t,o=t;return"number"==typeof t?o=S(e,F(e,t)):r=A(t),null==r?null:(i(o,r)&&e.cm&&pi(e.cm,r,n),o)}function Or(e){var t=this;this.lines=e,this.parent=null;for(var n=0,i=0;i<e.length;++i)e[i].parent=t,n+=e[i].height;this.height=n}function jr(e){var t=this;this.children=e;for(var n=0,i=0,r=0;r<e.length;++r){var o=e[r];n+=o.chunkSize(),i+=o.height,o.parent=t}this.size=n,this.height=i,this.parent=null}function Lr(e,t,n){var i=this;if(n)for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r]);this.doc=e,this.node=t}function Nr(e,t,n){fe(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Xn(e,null,n)}function Ir(e,t,n,i){var r=new Lr(e,n,i),o=e.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),Er(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,o&&!he(e,t)){var i=fe(t)<e.scrollTop;D(t,t.height+Ft(r)),i&&Xn(o,null,r.height),o.curOp.forceUpdate=!0}return!0}),r}function Pr(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++oa}function zr(e,t,n,r,o){if(r&&r.shared)return Hr(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return ci(e.cm,zr)(e,t,n,r,o);var s=new Pr(e,o),a=N(t,n);if(r&&c(r,s,!1),a>0||0==a&&s.clearWhenEmpty!==!1)return s;if(s.replacedWith&&(s.collapsed=!0,s.widgetNode=i("span",[s.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||s.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(s.widgetNode.insertLeft=!0)),s.collapsed){if(ae(e,t.line,t,n,s)||t.line!=n.line&&ae(e,n.line,t,n,s))throw new Error("Inserting collapsed marker partially overlapping an existing one");B()}s.addToHistory&&Vi(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var l,u=t.line,d=e.cm;if(e.iter(u,n.line+1,function(e){d&&s.collapsed&&!d.options.lineWrapping&&le(e)==d.display.maxLine&&(l=!0),s.collapsed&&u!=t.line&&D(e,0),J(e,new U(s,u==t.line?t.ch:null,u==n.line?n.ch:null)),++u}),s.collapsed&&e.iter(t.line,n.line+1,function(t){he(e,t)&&D(t,0)}),s.clearOnEnter&&Ps(s,"beforeCursorEnter",function(){return s.clear()}),s.readOnly&&(q(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),s.collapsed&&(s.id=++oa,s.atomic=!0),d){if(l&&(d.curOp.updateMaxLine=!0),s.collapsed)hi(d,t.line,n.line+1);else if(s.className||s.title||s.startStyle||s.endStyle||s.css)for(var h=t.line;h<=n.line;h++)pi(d,h,"text");s.atomic&&pr(d.doc),Ct(d,"markerAdded",d,s)}return s}function Fr(e,t){var n=this;this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=n}function Hr(e,t,n,i,r){i=c(i),i.shared=!1;var o=[zr(e,t,n,i,r)],s=o[0],a=i.widgetNode;return qi(e,function(e){a&&(i.widgetNode=a.cloneNode(!0)),o.push(zr(e,H(e,t),H(e,n),i,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=m(o)}),new Fr(o,s)}function Wr(e){return e.findMarks(L(e.first,0),e.clipPos(L(e.lastLine())),function(e){return e.parent})}function Rr(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.find(),o=e.clipPos(r.from),s=e.clipPos(r.to);if(N(o,s)){var a=zr(e,o,s,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}function qr(e){for(var t=function(t){var n=e[t],i=[n.primary.doc];qi(n.primary.doc,function(e){return i.push(e)});for(var r=0;r<n.markers.length;r++){var o=n.markers[r];h(i,o.doc)==-1&&(o.parent=null,n.markers.splice(r--,1))}},n=0;n<e.length;n++)t(n)}function Br(e){var t=this;if(Yr(t),!Oe(t,e)&&!Ht(t.display,e)){Ie(e),ts&&(la=+new Date);var n=wn(t,e,!0),i=e.dataTransfer.files;if(n&&!t.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),s=0,a=function(e,i){if(!t.options.allowDropFileTypes||h(t.options.allowDropFileTypes,e.type)!=-1){var a=new FileReader;a.onload=ci(t,function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[i]=e,++s==r){n=H(t.doc,n);var l={from:n,to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};_r(t.doc,l),cr(t.doc,ji(n,Li(l)))}}),a.readAsText(e)}},l=0;l<r;++l)a(i[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var c=e.dataTransfer.getData("Text");if(c){var u;if(t.state.draggingText&&!t.state.draggingText.copy&&(u=t.listSelections()),dr(t.doc,ji(n,n)),u)for(var d=0;d<u.length;++d)Tr(t.doc,"",u[d].anchor,u[d].head,"drag");t.replaceSelection(c,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Ur(e,t){if(ts&&(!e.state.draggingText||+new Date-la<100))return void Fe(t);if(!Oe(e,t)&&!Ht(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!as)){var n=i("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ss&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),ss&&n.parentNode.removeChild(n)}}function $r(e,t){var r=wn(e,t);if(r){var o=document.createDocumentFragment();Tn(e,r,o),e.display.dragCursor||(e.display.dragCursor=i("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),n(e.display.dragCursor,o)}}function Yr(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Jr(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&e(i)}}function Vr(){ca||(Gr(),ca=!0)}function Gr(){var e;Ps(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Jr(Kr)},100))}),Ps(window,"blur",function(){return Jr(jn)})}function Kr(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Xr(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var n,i,r,o,s=0;s<t.length-1;s++){var a=t[s];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))n=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);r=!0}}return n&&(e="Alt-"+e),i&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Qr(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete e[n];continue}for(var r=g(n.split(" "),Xr),o=0;o<r.length;o++){var s=void 0,a=void 0;o==r.length-1?(a=r.join(" "),s=i):(a=r.slice(0,o+1).join(" "),s="...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[n]}for(var c in t)e[c]=t[c];return e}function Zr(e,t,n,i){t=no(t);var r=t.call?t.call(e,i):t[e];if(r===!1)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Zr(e,t.fallthrough,n,i);for(var o=0;o<t.fallthrough.length;o++){var s=Zr(e,t.fallthrough[o],n,i);if(s)return s}}}function eo(e){var t="string"==typeof e?e:ua[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function to(e,t){if(ss&&34==e.keyCode&&e.char)return!1;var n=ua[e.keyCode],i=n;return null!=i&&!e.altGraphKey&&(e.altKey&&"Alt"!=n&&(i="Alt-"+i),(vs?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(i="Ctrl-"+i),(vs?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(i="Cmd-"+i),!t&&e.shiftKey&&"Shift"!=n&&(i="Shift-"+i),i)}function no(e){return"string"==typeof e?fa[e]:e}function io(e,t){for(var n=e.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=t(n[r]);i.length&&N(o.from,m(i).to)<=0;){var s=i.pop();if(N(s.from,o.from)<0){o.from=s.from;break}}i.push(o)}li(e,function(){for(var t=i.length-1;t>=0;t--)Tr(e.doc,"",i[t].from,i[t].to,"+delete");Qn(e)})}function ro(e,t){var n=S(e.doc,t),i=le(n);i!=n&&(t=A(i));var r=Me(i),o=r?r[0].level%2?xe(i):_e(i):0;return L(t,o)}function oo(e,t){for(var n,i=S(e.doc,t);n=se(i);)i=n.find(1,!0).line,t=null;var r=Me(i),o=r?r[0].level%2?_e(i):xe(i):i.text.length;return L(null==t?A(i):t,o)}function so(e,t){var n=ro(e,t.line),i=S(e.doc,n.line),r=Me(i);if(!r||0==r[0].level){var o=Math.max(0,i.text.search(/\S/)),s=t.line==n.line&&t.ch<=o&&t.ch;return L(n.line,s?0:o)}return n}function ao(e,t,n){
if("string"==typeof t&&(t=va[t],!t))return!1;e.display.input.ensurePolled();var i=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),r=t(e)!=Cs}finally{e.display.shift=i,e.state.suppressEdits=!1}return r}function lo(e,t,n){for(var i=0;i<e.state.keyMaps.length;i++){var r=Zr(t,e.state.keyMaps[i],n,e);if(r)return r}return e.options.extraKeys&&Zr(t,e.options.extraKeys,n,e)||Zr(t,e.options.keyMap,n,e)}function co(e,t,n,i){var r=e.state.keySeq;if(r){if(eo(t))return"handled";ba.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),t=r+" "+t}var o=lo(e,t,i);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&Ct(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(Ie(n),Dn(e)),r&&!o&&/\'$/.test(t)?(Ie(n),!0):!!o}function uo(e,t){var n=to(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?co(e,"Shift-"+n,t,function(t){return ao(e,t,!0)})||co(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ao(e,t)}):co(e,n,t,function(t){return ao(e,t)}))}function ho(e,t,n){return co(e,"'"+n+"'",t,function(t){return ao(e,t,!0)})}function po(e){var t=this;if(t.curOp.focus=o(),!Oe(t,e)){ts&&ns<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=uo(t,e);ss&&(ya=i?n:null,!i&&88==n&&!Ws&&(hs?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||fo(t)}}function fo(e){function t(e){18!=e.keyCode&&e.altKey||(ys(n,"CodeMirror-crosshair"),Ae(document,"keyup",t),Ae(document,"mouseover",t))}var n=e.display.lineDiv;s(n,"CodeMirror-crosshair"),Ps(document,"keyup",t),Ps(document,"mouseover",t)}function mo(e){16==e.keyCode&&(this.doc.sel.shift=!1),Oe(this,e)}function go(e){var t=this;if(!(Ht(t.display,e)||Oe(t,e)||e.ctrlKey&&!e.altKey||hs&&e.metaKey)){var n=e.keyCode,i=e.charCode;if(ss&&n==ya)return ya=null,void Ie(e);if(!ss||e.which&&!(e.which<10)||!uo(t,e)){var r=String.fromCharCode(null==i?n:i);"\b"!=r&&(ho(t,e,r)||t.display.input.onKeyPress(e))}}}function vo(e){var t=this,n=t.display;if(!(Oe(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=e.shiftKey,Ht(n,e))return void(is||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100)));if(!wo(t,e)){var i=wn(t,e);switch(window.focus(),We(e)){case 1:t.state.selectingText?t.state.selectingText(e):i?bo(t,e,i):He(e)==n.scroller&&Ie(e);break;case 2:is&&(t.state.lastMiddleDown=+new Date),i&&rr(t.doc,i),setTimeout(function(){return n.input.focus()},20),Ie(e);break;case 3:bs?ko(t,e):En(t)}}}}function bo(e,t,n){ts?setTimeout(l(An,e),0):e.curOp.focus=o();var i,r=+new Date;ga&&ga.time>r-400&&0==N(ga.pos,n)?i="triple":ma&&ma.time>r-400&&0==N(ma.pos,n)?(i="double",ga={time:r,pos:n}):(i="single",ma={time:r,pos:n});var s,a=e.doc.sel,c=hs?t.metaKey:t.ctrlKey;e.options.dragDrop&&zs&&!e.isReadOnly()&&"single"==i&&(s=a.contains(n))>-1&&(N((s=a.ranges[s]).from(),n)<0||n.xRel>0)&&(N(s.to(),n)>0||n.xRel<0)?yo(e,t,n,c):_o(e,t,n,i,c)}function yo(e,t,n,i){var r=e.display,o=+new Date,s=ci(e,function(a){is&&(r.scroller.draggable=!1),e.state.draggingText=!1,Ae(document,"mouseup",s),Ae(r.scroller,"drop",s),Math.abs(t.clientX-a.clientX)+Math.abs(t.clientY-a.clientY)<10&&(Ie(a),!i&&+new Date-200<o&&rr(e.doc,n),is||ts&&9==ns?setTimeout(function(){document.body.focus(),r.input.focus()},20):r.input.focus())});is&&(r.scroller.draggable=!0),e.state.draggingText=s,s.copy=hs?t.altKey:t.ctrlKey,r.scroller.dragDrop&&r.scroller.dragDrop(),Ps(document,"mouseup",s),Ps(r.scroller,"drop",s)}function _o(e,t,n,i,r){function s(t){if(0!=N(y,t))if(y=t,"rect"==i){for(var r=[],o=e.options.tabSize,s=u(S(d,n.line).text,n.ch,o),a=u(S(d,t.line).text,t.ch,o),l=Math.min(s,a),c=Math.max(s,a),g=Math.min(n.line,t.line),v=Math.min(e.lastLine(),Math.max(n.line,t.line));g<=v;g++){var b=S(d,g).text,_=p(b,l,o);l==c?r.push(new Ei(L(g,_),L(g,_))):b.length>_&&r.push(new Ei(L(g,_),L(g,p(b,c,o))))}r.length||r.push(new Ei(n,n)),ur(d,Oi(m.ranges.slice(0,f).concat(r),f),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var x=h,w=x.anchor,k=t;if("single"!=i){var C;C="double"==i?e.findWordAt(t):new Ei(L(t.line,0),H(d,L(t.line+1,0))),N(C.anchor,w)>0?(k=C.head,w=z(x.from(),C.anchor)):(k=C.anchor,w=P(x.to(),C.head))}var T=m.ranges.slice(0);T[f]=new Ei(H(d,w),k),ur(d,Oi(T,f),Ts)}}function a(t){var n=++x,r=wn(e,t,!0,"rect"==i);if(r)if(0!=N(r,y)){e.curOp.focus=o(),s(r);var l=zn(c,d);(r.line>=l.to||r.line<l.from)&&setTimeout(ci(e,function(){x==n&&a(t)}),150)}else{var u=t.clientY<_.top?-20:t.clientY>_.bottom?20:0;u&&setTimeout(ci(e,function(){x==n&&(c.scroller.scrollTop+=u,a(t))}),50)}}function l(t){e.state.selectingText=!1,x=1/0,Ie(t),c.input.focus(),Ae(document,"mousemove",w),Ae(document,"mouseup",k),d.history.lastSelOrigin=null}var c=e.display,d=e.doc;Ie(t);var h,f,m=d.sel,g=m.ranges;if(r&&!t.shiftKey?(f=d.sel.contains(n),h=f>-1?g[f]:new Ei(n,n)):(h=d.sel.primary(),f=d.sel.primIndex),ps?t.shiftKey&&t.metaKey:t.altKey)i="rect",r||(h=new Ei(n,n)),n=wn(e,t,!0,!0),f=-1;else if("double"==i){var v=e.findWordAt(n);h=e.display.shift||d.extend?ir(d,h,v.anchor,v.head):v}else if("triple"==i){var b=new Ei(L(n.line,0),H(d,L(n.line+1,0)));h=e.display.shift||d.extend?ir(d,h,b.anchor,b.head):b}else h=ir(d,h,n);r?f==-1?(f=g.length,ur(d,Oi(g.concat([h]),f),{scroll:!1,origin:"*mouse"})):g.length>1&&g[f].empty()&&"single"==i&&!t.shiftKey?(ur(d,Oi(g.slice(0,f).concat(g.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),m=d.sel):sr(d,f,h,Ts):(f=0,ur(d,new Ai([h],0),Ts),m=d.sel);var y=n,_=c.wrapper.getBoundingClientRect(),x=0,w=ci(e,function(e){We(e)?a(e):l(e)}),k=ci(e,l);e.state.selectingText=k,Ps(document,"mousemove",w),Ps(document,"mouseup",k)}function xo(e,t,n,i){var r,o;try{r=t.clientX,o=t.clientY}catch(e){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&Ie(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!Le(e,n))return ze(t);o-=a.top-s.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r){var u=E(e.doc,o),d=e.options.gutters[l];return Ee(e,n,e,u,d,t),ze(t)}}}function wo(e,t){return xo(e,t,"gutterClick",!0)}function ko(e,t){Ht(e.display,t)||Co(e,t)||Oe(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function Co(e,t){return!!Le(e,"gutterContextMenu")&&xo(e,t,"gutterContextMenu",!1)}function So(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),on(e)}function To(e){function t(t,i,r,o){e.defaults[t]=i,r&&(n[t]=o?function(e,t,n){n!=_a&&r(e,t,n)}:r)}var n=e.optionHandlers;e.defineOption=t,e.Init=_a,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,Fi(e)},!0),t("indentUnit",2,Fi,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){Hi(e),on(e),hi(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],i=e.doc.first;e.doc.iter(function(e){for(var r=0;;){var o=e.text.indexOf(t,r);if(o==-1)break;r=o+t.length,n.push(L(i,o))}i++});for(var r=n.length-1;r>=0;r--)Tr(e.doc,t,n[r],L(n[r].line,n[r].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=_a&&e.refresh()}),t("specialCharPlaceholder",pt,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",ds?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("rtlMoveVisually",!fs),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){So(e),Mo(e)},!0),t("keyMap","default",function(e,t,n){var i=no(t),r=n!=_a&&no(n);r&&r.detach&&r.detach(e,i),i.attach&&i.attach(e,r||null)}),t("extraKeys",null),t("lineWrapping",!1,Ao,!0),t("gutters",[],function(e){Di(e.options),Mo(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?yn(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return Un(e)},!0),t("scrollbarStyle","native",function(e){Yn(e),Un(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e){Di(e.options),Mo(e)},!0),t("firstLineNumber",1,Mo,!0),t("lineNumberFormatter",function(e){return e},Mo,!0),t("showCursorWhenSelecting",!1,Cn,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("readOnly",!1,function(e,t){"nocursor"==t?(jn(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,Do),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,Cn,!0),t("singleCursorHeightPerLine",!0,Cn,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,Hi,!0),t("addModeClass",!1,Hi,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,Hi,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null)}function Mo(e){Mi(e),hi(e),Ln(e)}function Do(e,t,n){var i=n&&n!=_a;if(!t!=!i){var r=e.display.dragFunctions,o=t?Ps:Ae;o(e.display.scroller,"dragstart",r.start),o(e.display.scroller,"dragenter",r.enter),o(e.display.scroller,"dragover",r.over),o(e.display.scroller,"dragleave",r.leave),o(e.display.scroller,"drop",r.drop)}}function Ao(e){e.options.lineWrapping?(s(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(ys(e.display.wrapper,"CodeMirror-wrap"),ge(e)),xn(e),hi(e),on(e),setTimeout(function(){return Un(e)},100)}function Eo(e,t){var n=this;if(!(this instanceof Eo))return new Eo(e,t);this.options=t=t?c(t):{},c(xa,t,!1),Di(t);var i=t.value;"string"==typeof i&&(i=new aa(i,t.mode,null,t.lineSeparator)),this.doc=i;var r=new Eo.inputStyles[t.inputStyle](this),o=this.display=new C(e,i,r);o.wrapper.CodeMirror=this,Mi(this),So(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Yn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new d,keySeq:null,specialChars:null},t.autofocus&&!ds&&o.input.focus(),ts&&ns<11&&setTimeout(function(){return n.display.input.reset(!0)},20),Oo(this),Vr(),ei(this),this.curOp.forceUpdate=!0,Bi(this,i),t.autofocus&&!ds||this.hasFocus()?setTimeout(l(On,this),20):jn(this);for(var s in wa)wa.hasOwnProperty(s)&&wa[s](n,t[s],_a);Nn(this),t.finishInit&&t.finishInit(this);for(var a=0;a<ka.length;++a)ka[a](n);ti(this),is&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Oo(e){function t(){r.activeTouch&&(o=setTimeout(function(){return r.activeTouch=null},1e3),s=r.activeTouch,s.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function i(e,t){if(null==t.left)return!0;var n=t.left-e.left,i=t.top-e.top;return n*n+i*i>400}var r=e.display;Ps(r.scroller,"mousedown",ci(e,vo)),ts&&ns<11?Ps(r.scroller,"dblclick",ci(e,function(t){if(!Oe(e,t)){var n=wn(e,t);if(n&&!wo(e,t)&&!Ht(e.display,t)){Ie(t);var i=e.findWordAt(n);rr(e.doc,i.anchor,i.head)}}})):Ps(r.scroller,"dblclick",function(t){return Oe(e,t)||Ie(t)}),bs||Ps(r.scroller,"contextmenu",function(t){return ko(e,t)});var o,s={end:0};Ps(r.scroller,"touchstart",function(t){if(!Oe(e,t)&&!n(t)){r.input.ensurePolled(),clearTimeout(o);var i=+new Date;r.activeTouch={start:i,moved:!1,prev:i-s.end<=300?s:null},1==t.touches.length&&(r.activeTouch.left=t.touches[0].pageX,r.activeTouch.top=t.touches[0].pageY)}}),Ps(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),Ps(r.scroller,"touchend",function(n){var o=r.activeTouch;if(o&&!Ht(r,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var s,a=e.coordsChar(r.activeTouch,"page");s=!o.prev||i(o,o.prev)?new Ei(a,a):!o.prev.prev||i(o,o.prev.prev)?e.findWordAt(a):new Ei(L(a.line,0),H(e.doc,L(a.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),Ie(n)}t()}),Ps(r.scroller,"touchcancel",t),Ps(r.scroller,"scroll",function(){r.scroller.clientHeight&&(Fn(e,r.scroller.scrollTop),Hn(e,r.scroller.scrollLeft,!0),Ee(e,"scroll",e))}),Ps(r.scroller,"mousewheel",function(t){return qn(e,t)}),Ps(r.scroller,"DOMMouseScroll",function(t){return qn(e,t)}),Ps(r.wrapper,"scroll",function(){return r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(t){Oe(e,t)||Fe(t)},over:function(t){Oe(e,t)||($r(e,t),Fe(t))},start:function(t){return Ur(e,t)},drop:ci(e,Br),leave:function(t){Oe(e,t)||Yr(e)}};var a=r.input.getField();Ps(a,"keyup",function(t){return mo.call(e,t)}),Ps(a,"keydown",ci(e,po)),Ps(a,"keypress",ci(e,go)),Ps(a,"focus",function(t){return On(e,t)}),Ps(a,"blur",function(t){return jn(e,t)})}function jo(e,t,n,i){var r,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=et(e,t):n="prev");var s=e.options.tabSize,a=S(o,t),l=u(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,d=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&(c=o.mode.indent(r,a.text.slice(d.length),a.text),c==Cs||c>150)){if(!i)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?u(S(o,t-1).text,null,s):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var h="",p=0;if(e.options.indentWithTabs)for(var m=Math.floor(c/s);m;--m)p+=s,h+="\t";if(p<c&&(h+=f(c-p)),h!=d)return Tr(o,h,L(t,0),L(t,d.length),"+input"),a.stateAfter=null,!0;for(var g=0;g<o.sel.ranges.length;g++){var v=o.sel.ranges[g];if(v.head.line==t&&v.head.ch<d.length){var b=L(t,d.length);sr(o,g,new Ei(b,b));break}}}function Lo(e){Ca=e}function No(e,t,n,i,r){var o=e.doc;e.display.shift=!1,i||(i=o.sel);var s=e.state.pasteIncoming||"paste"==r,a=Fs(t),l=null;if(s&&i.ranges.length>1)if(Ca&&Ca.text.join("\n")==t){if(i.ranges.length%Ca.text.length==0){l=[];for(var c=0;c<Ca.text.length;c++)l.push(o.splitLines(Ca.text[c]))}}else a.length==i.ranges.length&&(l=g(a,function(e){return[e]}));for(var u,d=i.ranges.length-1;d>=0;d--){var h=i.ranges[d],p=h.from(),f=h.to();h.empty()&&(n&&n>0?p=L(p.line,p.ch-n):e.state.overwrite&&!s?f=L(f.line,Math.min(S(o,f.line).text.length,f.ch+m(a).length)):Ca&&Ca.lineWise&&Ca.text.join("\n")==t&&(p=f=L(p.line,0))),u=e.curOp.updateInput;var v={from:p,to:f,text:l?l[d%l.length]:a,origin:r||(s?"paste":e.state.cutIncoming?"cut":"+input")};_r(e.doc,v),Ct(e,"inputRead",e,v)}t&&!s&&Po(e,t),Qn(e),e.curOp.updateInput=u,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Io(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||li(t,function(){return No(t,n,0,null,"paste")}),!0}function Po(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var o=e.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){s=jo(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(S(e.doc,r.head.line).text.slice(0,r.head.ch))&&(s=jo(e,r.head.line,"smart"));s&&Ct(e,"electricInput",e,r.head.line)}}}function zo(e){for(var t=[],n=[],i=0;i<e.doc.sel.ranges.length;i++){var r=e.doc.sel.ranges[i].head.line,o={anchor:L(r,0),head:L(r+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Fo(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function Ho(){var e=i("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=i("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return is?e.style.width="1000px":e.setAttribute("wrap","off"),us&&(e.style.border="1px solid black"),Fo(e),t}function Wo(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var i=this.options,r=i[e];i[e]==n&&"mode"!=e||(i[e]=n,t.hasOwnProperty(e)&&ci(this,t[e])(this,n,r),Ee(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](no(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:ui(function(t,n){var i=t.token?t:e.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");v(this.state.overlays,{mode:i,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,hi(this)}),removeOverlay:ui(function(e){for(var t=this,n=this.state.overlays,i=0;i<n.length;++i){var r=n[i].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return n.splice(i,1),t.state.modeGen++,void hi(t)}}),indentLine:ui(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),O(this.doc,e)&&jo(this,e,t,n)}),indentSelection:ui(function(e){for(var t=this,n=this.doc.sel.ranges,i=-1,r=0;r<n.length;r++){var o=n[r];if(o.empty())o.head.line>i&&(jo(t,o.head.line,e,!0),i=o.head.line,r==t.doc.sel.primIndex&&Qn(t));else{var s=o.from(),a=o.to(),l=Math.max(i,s.line);i=Math.min(t.lastLine(),a.line-(a.ch?0:1))+1;for(var c=l;c<i;++c)jo(t,c,e);var u=t.doc.sel.ranges;0==s.ch&&n.length==u.length&&u[r].from().ch>0&&sr(t.doc,r,new Ei(s,u[r].to()),Ss)}}}),getTokenAt:function(e,t){return rt(this,e,t)},getLineTokens:function(e,t){return rt(this,L(e),t,!0)},getTokenTypeAt:function(e){e=H(this.doc,e);var t,n=Ze(this,S(this.doc,e.line)),i=0,r=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var s=i+r>>1;if((s?n[2*s-1]:0)>=o)r=s;else{if(!(n[2*s+1]<o)){t=n[2*s+2];break}i=s+1}}var a=t?t.indexOf("overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var i=this,r=[];if(!n.hasOwnProperty(t))return r;var o=n[t],s=this.getModeAt(e);if("string"==typeof s[t])o[s[t]]&&r.push(o[s[t]]);else if(s[t])for(var a=0;a<s[t].length;a++){var l=o[s[t][a]];l&&r.push(l)}else s.helperType&&o[s.helperType]?r.push(o[s.helperType]):o[s.name]&&r.push(o[s.name]);for(var c=0;c<o._global.length;c++){var u=o._global[c];u.pred(s,i)&&h(r,u.val)==-1&&r.push(u.val)}return r},getStateAfter:function(e,t){var n=this.doc;return e=F(n,null==e?n.first+n.size-1:e),et(this,e+1,t)},cursorCoords:function(e,t){var n,i=this.doc.sel.primary();return n=null==e?i.head:"object"==typeof e?H(this.doc,e):e?i.from():i.to(),dn(this,n,t||"page")},charCoords:function(e,t){return un(this,H(this.doc,e),t||"page")},coordsChar:function(e,t){return e=cn(this,e,t||"page"),fn(this,e.left,e.top)},lineAtHeight:function(e,t){return e=cn(this,{top:e,left:0},t||"page").top,E(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var i,r=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,r=!0),i=S(this.doc,e)}else i=e;return ln(this,i,{top:0,left:0},t||"page",n).top+(r?this.doc.height-fe(i):0)},defaultTextHeight:function(){return gn(this.display)},defaultCharWidth:function(){return vn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,i,r){var o=this.display;e=dn(this,H(this.doc,e));var s=e.bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==i)s=e.top;else if("above"==i||"near"==i){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==i||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(s=e.bottom),a+t.offsetWidth>c&&(a=c-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==r?(a=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&Gn(this,a,s,a+t.offsetWidth,s+t.offsetHeight)},triggerOnKeyDown:ui(po),triggerOnKeyPress:ui(go),triggerOnKeyUp:mo,execCommand:function(e){if(va.hasOwnProperty(e))return va[e].call(null,this)},triggerElectric:ui(function(e){Po(this,e)}),findPosH:function(e,t,n,i){var r=this,o=1;t<0&&(o=-1,t=-t);for(var s=H(this.doc,e),a=0;a<t&&(s=Ro(r.doc,s,o,n,i),!s.hitSide);++a);return s},moveH:ui(function(e,t){var n=this;this.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?Ro(n.doc,i.head,e,t,n.options.rtlMoveVisually):e<0?i.from():i.to()},Ms)}),deleteH:ui(function(e,t){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):io(this,function(n){var r=Ro(i,n.head,e,t,!1);return e<0?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(e,t,n,i){var r=this,o=1,s=i;t<0&&(o=-1,t=-t);for(var a=H(this.doc,e),l=0;l<t;++l){var c=dn(r,a,"div");if(null==s?s=c.left:c.left=s,a=qo(r,c,o,n),a.hitSide)break}return a},moveV:ui(function(e,t){var n=this,i=this.doc,r=[],o=!this.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(s){if(o)return e<0?s.from():s.to();var a=dn(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=qo(n,a,e,t);return"page"==t&&s==i.sel.primary()&&Xn(n,null,un(n,l,"div").top-a.top),l},Ms),r.length)for(var s=0;s<i.sel.ranges.length;s++)i.sel.ranges[s].goalColumn=r[s]}),findWordAt:function(e){var t=this.doc,n=S(t,e.line).text,i=e.ch,r=e.ch;if(n){var o=this.getHelper(e,"wordChars");(e.xRel<0||r==n.length)&&i?--i:++r;for(var s=n.charAt(i),a=x(s,o)?function(e){return x(e,o)}:/\s/.test(s)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!x(e)};i>0&&a(n.charAt(i-1));)--i;for(;r<n.length&&a(n.charAt(r));)++r}return new Ei(L(e.line,i),L(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?s(this.display.cursorDiv,"CodeMirror-overwrite"):ys(this.display.cursorDiv,"CodeMirror-overwrite"),Ee(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==o()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ui(function(e,t){null==e&&null==t||Zn(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Bt(this)-this.display.barHeight,width:e.scrollWidth-Bt(this)-this.display.barWidth,clientHeight:$t(this),clientWidth:Ut(this)}},scrollIntoView:ui(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:L(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Zn(this),this.curOp.scrollToPos=e;else{var n=Kn(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:ui(function(e,t){var n=this,i=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=i(e)),null!=t&&(this.display.wrapper.style.height=i(t)),this.options.lineWrapping&&rn(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){pi(n,r,"widget");break}++r}),this.curOp.forceUpdate=!0,Ee(this,"refresh",this)}),operation:function(e){return li(this,e)},refresh:ui(function(){var e=this.display.cachedTextHeight;hi(this),this.curOp.forceUpdate=!0,on(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),Si(this),(null==e||Math.abs(e-gn(this.display))>.5)&&xn(this),Ee(this,"refresh",this)}),swapDoc:ui(function(e){var t=this.doc;return t.cm=null,Bi(this,e),on(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Ct(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ne(e),e.registerHelper=function(t,i,r){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][i]=r},e.registerGlobalHelper=function(t,i,r,o){e.registerHelper(t,i,o),n[t]._global.push({pred:r,val:o})}}function Ro(e,t,n,i,r){function o(){var t=a+n;return!(t<e.first||t>=e.first+e.size)&&(a=t,u=S(e,t))}function s(e){var t=(r?Se:Te)(u,l,n,!0);if(null==t){if(e||!o())return!1;l=r?(n<0?xe:_e)(u):n<0?u.text.length:0}else l=t;return!0}var a=t.line,l=t.ch,c=n,u=S(e,a);if("char"==i)s();else if("column"==i)s(!0);else if("word"==i||"group"==i)for(var d=null,h="group"==i,p=e.cm&&e.cm.getHelper(t,"wordChars"),f=!0;!(n<0)||s(!f);f=!1){var m=u.text.charAt(l)||"\n",g=x(m,p)?"w":h&&"\n"==m?"n":!h||/\s/.test(m)?null:"p";if(!h||f||g||(g="s"),d&&d!=g){n<0&&(n=1,s());break}if(g&&(d=g),n>0&&!s(!f))break}var v=gr(e,L(a,l),t,c,!0);return N(t,v)||(v.hitSide=!0),v}function qo(e,t,n,i){var r,o=e.doc,s=t.left;if("page"==i){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(a-.5*gn(e.display),3);r=(n>0?t.bottom:t.top)+n*l}else"line"==i&&(r=n>0?t.bottom+3:t.top-3);for(var c;c=fn(e,s,r),c.outside;){if(n<0?r<=0:r>=o.height){c.hitSide=!0;break}r+=5*n}return c}function Bo(e,t){var n=Kt(e,t.line);if(!n||n.hidden)return null;var i=S(e.doc,t.line),r=Jt(n,i,t.line),o=Me(i),s="left";if(o){var a=ke(o,t.ch);s=a%2?"right":"left"}var l=Zt(r.map,t.ch,s);return l.offset="right"==l.collapse?l.end:l.start,l}function Uo(e,t){return t&&(e.bad=!0),e}function $o(e,t,n,i,r){function o(e){return function(t){return t.id==e}}function s(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return void(a+=""==n?t.textContent.replace(/\u200b/g,""):n);var u,d=t.getAttribute("cm-marker");if(d){var h=e.findMarks(L(i,0),L(r+1,0),o(+d));return void(h.length&&(u=h[0].find())&&(a+=T(e.doc,u.from,u.to).join(c)))}if("false"==t.getAttribute("contenteditable"))return;for(var p=0;p<t.childNodes.length;p++)s(t.childNodes[p]);/^(pre|div|p)$/i.test(t.nodeName)&&(l=!0)}else if(3==t.nodeType){var f=t.nodeValue;if(!f)return;l&&(a+=c,l=!1),a+=f}}for(var a="",l=!1,c=e.doc.lineSeparator();s(t),t!=n;)t=t.nextSibling;return a}function Yo(e,t,n){var i;if(t==e.display.lineDiv){if(i=e.display.lineDiv.childNodes[n],!i)return Uo(e.clipPos(L(e.display.viewTo-1)),!0);t=null,n=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==i)return Jo(o,t,n)}}function Jo(e,t,n){function i(t,n,i){for(var r=-1;r<(d?d.length:0);r++)for(var o=r<0?u.map:d[r],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==n){var l=A(r<0?e.line:e.rest[r]),c=o[s]+i;return(i<0||a!=t)&&(c=o[s+(i?1:0)]),L(l,c)}}}var o=e.text.firstChild,s=!1;if(!t||!r(o,t))return Uo(L(A(e.line),0),!0);if(t==o&&(s=!0,t=o.childNodes[n],n=0,!t)){var a=e.rest?m(e.rest):e.line;return Uo(L(A(a),a.text.length),s)}var l=3==t.nodeType?t:null,c=t;for(l||1!=t.childNodes.length||3!=t.firstChild.nodeType||(l=t.firstChild,n&&(n=l.nodeValue.length));c.parentNode!=o;)c=c.parentNode;var u=e.measure,d=u.maps,h=i(l,c,n);if(h)return Uo(h,s);for(var p=c.nextSibling,f=l?l.nodeValue.length-n:0;p;p=p.nextSibling){if(h=i(p,p.firstChild,0))return Uo(L(h.line,h.ch-f),s);f+=p.textContent.length}for(var g=c.previousSibling,v=n;g;g=g.previousSibling){if(h=i(g,g.firstChild,-1))return Uo(L(h.line,h.ch+v),s);v+=g.textContent.length}}function Vo(e,t){function n(){e.value=l.getValue()}if(t=t?c(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var i=o();t.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}var r;if(e.form&&(Ps(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var s=e.form;r=s.submit;try{var a=s.submit=function(){n(),s.submit=r,s.submit(),s.submit=a}}catch(e){}}t.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Ae(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=r))}},e.style.display="none";var l=Eo(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return l}function Go(e){e.off=Ae,e.on=Ps,e.wheelEventPixels=Rn,e.Doc=aa,e.splitLines=Fs,e.countColumn=u,e.findColumn=p,e.isWordChar=_,e.Pass=Cs,e.signal=Ee,e.Line=lt,e.changeEnd=Li,e.scrollbarModel=na,e.Pos=L,e.cmpPos=N,e.modes=qs,e.mimeModes=Bs,e.resolveMode=Ye,e.getMode=Je,e.modeExtensions=Us,e.extendMode=Ve,e.copyState=Ge,e.startState=Xe,e.innerMode=Ke,e.commands=va,e.keyMap=fa,e.keyName=to,e.isModifierKey=eo,e.lookupKey=Zr,e.normalizeKeyMap=Qr,e.StringStream=$s,e.SharedTextMarker=Fr,e.TextMarker=Pr,e.LineWidget=Lr,e.e_preventDefault=Ie,e.e_stopPropagation=Pe,e.e_stop=Fe,e.addClass=s,e.contains=r,e.rmClass=ys,e.keyNames=ua}var Ko=navigator.userAgent,Xo=navigator.platform,Qo=/gecko\/\d/i.test(Ko),Zo=/MSIE \d/.test(Ko),es=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ko),ts=Zo||es,ns=ts&&(Zo?document.documentMode||6:es[1]),is=/WebKit\//.test(Ko),rs=is&&/Qt\/\d+\.\d+/.test(Ko),os=/Chrome\//.test(Ko),ss=/Opera\//.test(Ko),as=/Apple Computer/.test(navigator.vendor),ls=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Ko),cs=/PhantomJS/.test(Ko),us=/AppleWebKit/.test(Ko)&&/Mobile\/\w+/.test(Ko),ds=us||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Ko),hs=us||/Mac/.test(Xo),ps=/\bCrOS\b/.test(Ko),fs=/win/i.test(Xo),ms=ss&&Ko.match(/Version\/(\d*\.\d*)/);ms&&(ms=Number(ms[1])),ms&&ms>=15&&(ss=!1,is=!0);var gs,vs=hs&&(rs||ss&&(null==ms||ms<12.11)),bs=Qo||ts&&ns>=9,ys=function(t,n){var i=t.className,r=e(n).exec(i);if(r){var o=i.slice(r.index+r[0].length);t.className=i.slice(0,r.index)+(o?r[1]+o:"")}};gs=document.createRange?function(e,t,n,i){var r=document.createRange();return r.setEnd(i||e,n),r.setStart(e,t),r}:function(e,t,n){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(e){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i};var _s=function(e){e.select()};us?_s=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:ts&&(_s=function(e){try{e.select()}catch(e){}}),d.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var xs,ws,ks=30,Cs={toString:function(){return"CodeMirror.Pass"}},Ss={scroll:!1},Ts={origin:"*mouse"},Ms={origin:"+move"},Ds=[""],As=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Es=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Os=!1,js=!1,Ls=null,Ns=function(){
function e(e){return e<=247?n.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?i.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,c="L";return function(n){if(!r.test(n))return!1;for(var i=n.length,u=[],d=0;d<i;++d)u.push(e(n.charCodeAt(d)));for(var h=0,p=c;h<i;++h){var f=u[h];"m"==f?u[h]=p:p=f}for(var g=0,v=c;g<i;++g){var b=u[g];"1"==b&&"r"==v?u[g]="n":s.test(b)&&(v=b,"r"==b&&(u[g]="R"))}for(var y=1,_=u[0];y<i-1;++y){var x=u[y];"+"==x&&"1"==_&&"1"==u[y+1]?u[y]="1":","!=x||_!=u[y+1]||"1"!=_&&"n"!=_||(u[y]=_),_=x}for(var w=0;w<i;++w){var k=u[w];if(","==k)u[w]="N";else if("%"==k){var C=void 0;for(C=w+1;C<i&&"%"==u[C];++C);for(var S=w&&"!"==u[w-1]||C<i&&"1"==u[C]?"1":"N",T=w;T<C;++T)u[T]=S;w=C-1}}for(var M=0,D=c;M<i;++M){var A=u[M];"L"==D&&"1"==A?u[M]="L":s.test(A)&&(D=A)}for(var E=0;E<i;++E)if(o.test(u[E])){var O=void 0;for(O=E+1;O<i&&o.test(u[O]);++O);for(var j="L"==(E?u[E-1]:c),L="L"==(O<i?u[O]:c),N=j||L?"L":"R",I=E;I<O;++I)u[I]=N;E=O-1}for(var P,z=[],F=0;F<i;)if(a.test(u[F])){var H=F;for(++F;F<i&&a.test(u[F]);++F);z.push(new t(0,H,F))}else{var W=F,R=z.length;for(++F;F<i&&"L"!=u[F];++F);for(var q=W;q<F;)if(l.test(u[q])){W<q&&z.splice(R,0,new t(1,W,q));var B=q;for(++q;q<F&&l.test(u[q]);++q);z.splice(R,0,new t(2,B,q)),W=q}else++q;W<F&&z.splice(R,0,new t(1,W,F))}return 1==z[0].level&&(P=n.match(/^\s+/))&&(z[0].from=P[0].length,z.unshift(new t(0,0,P[0].length))),1==m(z).level&&(P=n.match(/\s+$/))&&(m(z).to-=P[0].length,z.push(new t(0,i-P[0].length,i))),2==z[0].level&&z.unshift(new t(1,z[0].to,z[0].to)),z[0].level!=m(z).level&&z.push(new t(z[0].level,i,i)),z}}(),Is=[],Ps=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var i=e._handlers||(e._handlers={});i[t]=(i[t]||Is).concat(n)}},zs=function(){if(ts&&ns<9)return!1;var e=i("div");return"draggable"in e||"dragDrop"in e}(),Fs=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],i=e.length;t<=i;){var r=e.indexOf("\n",t);r==-1&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),s=o.indexOf("\r");s!=-1?(n.push(o.slice(0,s)),t+=s+1):(n.push(o),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Hs=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ws=function(){var e=i("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Rs=null,qs={},Bs={},Us={},$s=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};$s.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t,n=this.string.charAt(this.pos);if(t="string"==typeof e?n==e:n&&(e.test?e.test(n):e(n)))return++this.pos,n},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=u(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?u(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return u(this.string,null,this.tabSize)-(this.lineStart?u(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&t!==!1&&(this.pos+=i[0].length),i)}var r=function(e){return n?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);if(r(o)==r(e))return t!==!1&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}},Ne(lt),lt.prototype.lineNo=function(){return A(this)};var Ys,Js={},Vs={},Gs=null,Ks=null,Xs={left:0,right:0,top:0,bottom:0},Qs=0,Zs=null;ts?Zs=-.53:Qo?Zs=15:os?Zs=-.7:as&&(Zs=-1/3);var ea=function(e,t,n){this.cm=n;var r=this.vert=i("div",[i("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=i("div",[i("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(r),e(o),Ps(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),Ps(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ts&&ns<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ea.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0";var r=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?i:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:t?i:0}},ea.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},ea.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},ea.prototype.zeroWidthHack=function(){var e=hs&&!ls?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new d,this.disableVert=new d},ea.prototype.enableZeroWidthBar=function(e,t){function n(){var i=e.getBoundingClientRect(),r=document.elementFromPoint(i.left+1,i.bottom-1);r!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},ea.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var ta=function(){};ta.prototype.update=function(){return{bottom:0,right:0}},ta.prototype.setScrollLeft=function(){},ta.prototype.setScrollTop=function(){},ta.prototype.clear=function(){};var na={native:ea,null:ta},ia=0,ra=function(e,t,n){var i=e.display;this.viewport=t,this.visible=zn(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Ut(e),this.force=n,this.dims=bn(e),this.events=[]};ra.prototype.signal=function(e,t){Le(e,t)&&this.events.push(arguments)},ra.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)Ee.apply(null,e.events[t])},Ai.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var i=t.ranges[n],r=e.ranges[n];if(0!=N(i.anchor,r.anchor)||0!=N(i.head,r.head))return!1}return!0},deepCopy:function(){for(var e=this,t=[],n=0;n<this.ranges.length;n++)t[n]=new Ei(I(e.ranges[n].anchor),I(e.ranges[n].head));return new Ai(t,this.primIndex)},somethingSelected:function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},contains:function(e,t){var n=this;t||(t=e);for(var i=0;i<this.ranges.length;i++){var r=n.ranges[i];if(N(t,r.from())>=0&&N(e,r.to())<=0)return i}return-1}},Ei.prototype={from:function(){return z(this.anchor,this.head)},to:function(){return P(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}},Or.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=this,i=e,r=e+t;i<r;++i){var o=n.lines[i];n.height-=o.height,ut(o),Ct(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){var i=this;this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=i},iterN:function(e,t,n){for(var i=this,r=e+t;e<r;++e)if(n(i.lines[e]))return!0}},jr.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var n=this;this.size-=t;for(var i=0;i<this.children.length;++i){var r=n.children[i],o=r.chunkSize();if(e<o){var s=Math.min(t,o-e),a=r.height;if(r.removeInner(e,s),n.height-=a-r.height,o==s&&(n.children.splice(i--,1),r.parent=null),0==(t-=s))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Or))){var l=[];this.collapse(l),this.children=[new Or(l)],this.children[0].parent=this}},collapse:function(e){for(var t=this,n=0;n<this.children.length;++n)t.children[n].collapse(e)},insertInner:function(e,t,n){var i=this;this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var o=i.children[r],s=o.chunkSize();if(e<=s){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var a=o.lines.length%25+25,l=a;l<o.lines.length;){var c=new Or(o.lines.slice(l,l+=25));o.height-=c.height,i.children.splice(++r,0,c),c.parent=i}o.lines=o.lines.slice(0,a),i.maybeSpill()}break}e-=s}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new jr(t);if(e.parent){e.size-=n.size,e.height-=n.height;var i=h(e.parent.children,e);e.parent.children.splice(i+1,0,n)}else{var r=new jr(e.children);r.parent=e,e.children=[r,n],e=r}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var i=this,r=0;r<this.children.length;++r){var o=i.children[r],s=o.chunkSize();if(e<s){var a=Math.min(t,s-e);if(o.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=s}}},Ne(Lr),Lr.prototype.clear=function(){var e=this,t=this.doc.cm,n=this.line.widgets,i=this.line,r=A(i);if(null!=r&&n){for(var o=0;o<n.length;++o)n[o]==e&&n.splice(o--,1);n.length||(i.widgets=null);var s=Ft(this);D(i,Math.max(0,i.height-s)),t&&li(t,function(){Nr(t,i,-s),pi(t,r,"widget")})}},Lr.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var i=Ft(this)-e;i&&(D(n,n.height+i),t&&li(t,function(){t.curOp.forceUpdate=!0,Nr(t,n,i)}))};var oa=0;Ne(Pr),Pr.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,n=t&&!t.curOp;if(n&&ei(t),Le(this,"clear")){var i=this.find();i&&Ct(this,"clear",i.from,i.to)}for(var r=null,o=null,s=0;s<this.lines.length;++s){var a=e.lines[s],l=$(a.markedSpans,e);t&&!e.collapsed?pi(t,A(a),"text"):t&&(null!=l.to&&(o=A(a)),null!=l.from&&(r=A(a))),a.markedSpans=Y(a.markedSpans,l),null==l.from&&e.collapsed&&!he(e.doc,a)&&t&&D(a,gn(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var c=0;c<this.lines.length;++c){var u=le(e.lines[c]),d=me(u);d>t.display.maxLineLength&&(t.display.maxLine=u,t.display.maxLineLength=d,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&hi(t,r,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&pr(t.doc)),t&&Ct(t,"markerCleared",t,this),n&&ti(t),this.parent&&this.parent.clear()}},Pr.prototype.find=function(e,t){var n=this;null==e&&"bookmark"==this.type&&(e=1);for(var i,r,o=0;o<this.lines.length;++o){var s=n.lines[o],a=$(s.markedSpans,n);if(null!=a.from&&(i=L(t?s:A(s),a.from),e==-1))return i;if(null!=a.to&&(r=L(t?s:A(s),a.to),1==e))return r}return i&&{from:i,to:r}},Pr.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&li(n,function(){var i=e.line,r=A(e.line),o=Kt(n,r);if(o&&(nn(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!he(t.doc,i)&&null!=t.height){var s=t.height;t.height=null;var a=Ft(t)-s;a&&D(i,i.height+a)}})},Pr.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&h(t.maybeHiddenMarkers,this)!=-1||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Pr.prototype.detachLine=function(e){if(this.lines.splice(h(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Ne(Fr),Fr.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();Ct(this,"clear")}},Fr.prototype.find=function(e,t){return this.primary.find(e,t)};var sa=0,aa=function(e,t,n,i){if(!(this instanceof aa))return new aa(e,t,n,i);null==n&&(n=0),jr.call(this,[new Or([new lt("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=L(n,0);this.sel=ji(r),this.history=new Ui(null),this.id=++sa,this.modeOption=t,this.lineSep=i,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Ri(this,{from:r,to:r,text:e}),ur(this,ji(r),Ss)};aa.prototype=y(jr.prototype,{constructor:aa,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,i=0;i<t.length;++i)n+=t[i].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=M(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:di(function(e){var t=L(this.first,0),n=this.first+this.size-1;_r(this,{from:t,to:L(n,S(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),ur(this,ji(t))}),replaceRange:function(e,t,n,i){t=H(this,t),n=n?H(this,n):t,Tr(this,e,t,n,i)},getRange:function(e,t,n){var i=T(this,H(this,e),H(this,t));return n===!1?i:i.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(O(this,e))return S(this,e)},getLineNumber:function(e){return A(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=S(this,e)),le(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return H(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:di(function(e,t,n){ar(this,H(this,"number"==typeof e?L(e,t||0):e),null,n)}),setSelection:di(function(e,t,n){ar(this,H(this,e),H(this,t||e),n)}),extendSelection:di(function(e,t,n){rr(this,H(this,e),t&&H(this,t),n)}),extendSelections:di(function(e,t){or(this,R(this,e),t)}),extendSelectionsBy:di(function(e,t){var n=g(this.sel.ranges,e);or(this,R(this,n),t)}),setSelections:di(function(e,t,n){var i=this;if(e.length){for(var r=[],o=0;o<e.length;o++)r[o]=new Ei(H(i,e[o].anchor),H(i,e[o].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),ur(this,Oi(r,t),n)}}),addSelection:di(function(e,t,n){var i=this.sel.ranges.slice(0);i.push(new Ei(H(this,e),H(this,t||e))),ur(this,Oi(i,i.length-1),n)}),getSelection:function(e){for(var t,n=this,i=this.sel.ranges,r=0;r<i.length;r++){var o=T(n,i[r].from(),i[r].to());t=t?t.concat(o):o}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,n=[],i=this.sel.ranges,r=0;r<i.length;r++){var o=T(t,i[r].from(),i[r].to());e!==!1&&(o=o.join(e||t.lineSeparator())),n[r]=o}return n},replaceSelection:function(e,t,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=e;this.replaceSelections(i,t,n||"+input")},replaceSelections:di(function(e,t,n){for(var i=this,r=[],o=this.sel,s=0;s<o.ranges.length;s++){var a=o.ranges[s];r[s]={from:a.from(),to:a.to(),text:i.splitLines(e[s]),origin:n}}for(var l=t&&"end"!=t&&zi(this,r,t),c=r.length-1;c>=0;c--)_r(i,r[c]);l?cr(this,l):this.cm&&Qn(this.cm)}),undo:di(function(){wr(this,"undo")}),redo:di(function(){wr(this,"redo")}),undoSelection:di(function(){wr(this,"undo",!0)}),redoSelection:di(function(){wr(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new Ui(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:nr(this.history.done),undone:nr(this.history.undone)}},setHistory:function(e){var t=this.history=new Ui(this.history.maxGeneration);t.done=nr(e.done.slice(0),null,!0),t.undone=nr(e.undone.slice(0),null,!0)},setGutterMarker:di(function(e,t,n){return Er(this,e,"gutter",function(e){var i=e.gutterMarkers||(e.gutterMarkers={});return i[t]=n,!n&&w(i)&&(e.gutterMarkers=null),!0})}),clearGutter:di(function(e){var t=this,n=this.first;this.iter(function(i){i.gutterMarkers&&i.gutterMarkers[e]&&Er(t,i,"gutter",function(){return i.gutterMarkers[e]=null,w(i.gutterMarkers)&&(i.gutterMarkers=null),!0}),++n})}),lineInfo:function(e){var t;if("number"==typeof e){if(!O(this,e))return null;if(t=e,e=S(this,e),!e)return null}else if(t=A(e),null==t)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:di(function(t,n,i){return Er(this,t,"gutter"==n?"gutter":"class",function(t){var r="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(t[r]){if(e(i).test(t[r]))return!1;t[r]+=" "+i}else t[r]=i;return!0})}),removeLineClass:di(function(t,n,i){return Er(this,t,"gutter"==n?"gutter":"class",function(t){var r="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass",o=t[r];if(!o)return!1;if(null==i)t[r]=null;else{var s=o.match(e(i));if(!s)return!1;var a=s.index+s[0].length;t[r]=o.slice(0,s.index)+(s.index&&a!=o.length?" ":"")+o.slice(a)||null}return!0})}),addLineWidget:di(function(e,t,n){return Ir(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return zr(this,H(this,e),H(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=H(this,e),zr(this,e,e,n,"bookmark")},findMarksAt:function(e){e=H(this,e);var t=[],n=S(this,e.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,n){e=H(this,e),t=H(this,t);var i=[],r=e.line;return this.iter(e.line,t.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&r==e.line&&e.ch>=l.to||null==l.from&&r!=e.line||null!=l.from&&r==t.line&&l.from>=t.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r}),i},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&e.push(n[i].marker)}),e},posFromIndex:function(e){var t,n=this.first,i=this.lineSeparator().length;return this.iter(function(r){var o=r.text.length+i;return o>e?(t=e,!0):(e-=o,void++n)}),H(this,L(n,t))},indexFromPos:function(e){e=H(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new aa(M(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var i=new aa(M(this,t,n),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Rr(i,Wr(this)),i},unlinkDoc:function(e){var t=this;if(e instanceof Eo&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var i=t.linked[n];if(i.doc==e){t.linked.splice(n,1),e.unlinkDoc(t),qr(Wr(t));break}}if(e.history==this.history){var r=[e.id];qi(e,function(e){return r.push(e.id)},!0),e.history=new Ui(null),e.history.done=nr(this.history.done,r),e.history.undone=nr(this.history.undone,r)}},iterLinkedDocs:function(e){qi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Fs(e)},lineSeparator:function(){return this.lineSep||"\n"}}),aa.prototype.eachLine=aa.prototype.iter;for(var la=0,ca=!1,ua={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},da=0;da<10;da++)ua[da+48]=ua[da+96]=String(da);for(var ha=65;ha<=90;ha++)ua[ha]=String.fromCharCode(ha);for(var pa=1;pa<=12;pa++)ua[pa+111]=ua[pa+63235]="F"+pa;var fa={};fa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},fa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},fa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},fa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},fa.default=hs?fa.macDefault:fa.pcDefault;var ma,ga,va={selectAll:br,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ss)},killLine:function(e){return io(e,function(t){if(t.empty()){var n=S(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:L(t.head.line+1,0)}:{from:t.head,to:L(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return io(e,function(t){return{from:L(t.from().line,0),to:H(e.doc,L(t.to().line+1,0))}})},delLineLeft:function(e){return io(e,function(e){return{from:L(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return io(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return{from:i,to:t.from()}})},delWrappedLineRight:function(e){return io(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:i}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(L(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(L(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return ro(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return so(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return oo(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Ms)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Ms)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return i.ch<e.getLine(i.line).search(/\S/)?so(e,t.head):i},Ms)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),i=e.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),s=u(e.getLine(o.line),o.ch,i);t.push(f(i-s%i))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return li(e,function(){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++)if(t[i].empty()){var r=t[i].head,o=S(e.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new L(r.line,r.ch-1)),r.ch>0)r=new L(r.line,r.ch+1),e.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),L(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var s=S(e.doc,r.line-1).text;s&&(r=new L(r.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),L(r.line-1,s.length-1),r,"+transpose"))}n.push(new Ei(r,r))}e.setSelections(n)})},newlineAndIndent:function(e){return li(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var i=0;i<t.length;i++)e.indentLine(t[i].from().line,null,!0);Qn(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},ba=new d,ya=null,_a={toString:function(){return"CodeMirror.Init"}},xa={},wa={};Eo.defaults=xa,Eo.optionHandlers=wa;var ka=[];Eo.defineInitHook=function(e){return ka.push(e)};var Ca=null,Sa=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new d,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Sa.prototype.init=function(e){function t(e){if(!Oe(r,e)){if(r.somethingSelected())Lo({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=zo(r);Lo({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,Ss),r.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var n=Ca.text.join("\n");if(e.clipboardData.setData("Text",n),e.clipboardData.getData("Text")==n)return void e.preventDefault()}var s=Ho(),a=s.firstChild;r.display.lineSpace.insertBefore(s,r.display.lineSpace.firstChild),a.value=Ca.text.join("\n");var l=document.activeElement;_s(a),setTimeout(function(){r.display.lineSpace.removeChild(s),l.focus(),l==o&&i.showPrimarySelection()},50)}}var n=this,i=this,r=i.cm,o=i.div=e.lineDiv;Fo(o,r.options.spellcheck),Ps(o,"paste",function(e){Oe(r,e)||Io(e,r)||ns<=11&&setTimeout(ci(r,function(){i.pollContent()||hi(r)}),20)}),Ps(o,"compositionstart",function(e){n.composing={data:e.data,done:!1}}),Ps(o,"compositionupdate",function(e){n.composing||(n.composing={data:e.data,done:!1})}),Ps(o,"compositionend",function(e){n.composing&&(e.data!=n.composing.data&&n.readFromDOMSoon(),n.composing.done=!0)}),Ps(o,"touchstart",function(){return i.forceCompositionEnd()}),Ps(o,"input",function(){n.composing||n.readFromDOMSoon()}),Ps(o,"copy",t),Ps(o,"cut",t)},Sa.prototype.prepareSelection=function(){var e=Sn(this.cm,!1);return e.focus=this.cm.state.focused,e},Sa.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Sa.prototype.showPrimarySelection=function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=Yo(this.cm,e.anchorNode,e.anchorOffset),i=Yo(this.cm,e.focusNode,e.focusOffset);if(!n||n.bad||!i||i.bad||0!=N(z(n,i),t.from())||0!=N(P(n,i),t.to())){
var r=Bo(this.cm,t.from()),o=Bo(this.cm,t.to());if(r||o){var s=this.cm.display.view,a=e.rangeCount&&e.getRangeAt(0);if(r){if(!o){var l=s[s.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;o={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else r={node:s[0].measure.map[2],offset:0};var u;try{u=gs(r.node,r.offset,o.offset,o.node)}catch(e){}u&&(!Qo&&this.cm.state.focused?(e.collapse(r.node,r.offset),u.collapsed||(e.removeAllRanges(),e.addRange(u))):(e.removeAllRanges(),e.addRange(u)),a&&null==e.anchorNode?e.addRange(a):Qo&&this.startGracePeriod()),this.rememberSelection()}}},Sa.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Sa.prototype.showMultipleSelections=function(e){n(this.cm.display.cursorDiv,e.cursors),n(this.cm.display.selectionDiv,e.selection)},Sa.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Sa.prototype.selectionInEditor=function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return r(this.div,t)},Sa.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Sa.prototype.blur=function(){this.div.blur()},Sa.prototype.getField=function(){return this.div},Sa.prototype.supportsTouch=function(){return!0},Sa.prototype.receivedFocus=function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():li(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},Sa.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Sa.prototype.pollSelection=function(){if(!this.composing&&null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=Yo(t,e.anchorNode,e.anchorOffset),i=Yo(t,e.focusNode,e.focusOffset);n&&i&&li(t,function(){ur(t.doc,ji(n,i),Ss),(n.bad||i.bad)&&(t.curOp.selectionChanged=!0)})}},Sa.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),i=n.from(),r=n.to();if(0==i.ch&&i.line>e.firstLine()&&(i=L(i.line-1,S(e.doc,i.line-1).length)),r.ch==S(e.doc,r.line).text.length&&r.line<e.lastLine()&&(r=L(r.line+1,0)),i.line<t.viewFrom||r.line>t.viewTo-1)return!1;var o,s,a;i.line==t.viewFrom||0==(o=kn(e,i.line))?(s=A(t.view[0].line),a=t.view[0].node):(s=A(t.view[o].line),a=t.view[o-1].node.nextSibling);var l,c,u=kn(e,r.line);if(u==t.view.length-1?(l=t.viewTo-1,c=t.lineDiv.lastChild):(l=A(t.view[u+1].line)-1,c=t.view[u+1].node.previousSibling),!a)return!1;for(var d=e.doc.splitLines($o(e,a,c,s,l)),h=T(e.doc,L(s,0),L(l,S(e.doc,l).text.length));d.length>1&&h.length>1;)if(m(d)==m(h))d.pop(),h.pop(),l--;else{if(d[0]!=h[0])break;d.shift(),h.shift(),s++}for(var p=0,f=0,g=d[0],v=h[0],b=Math.min(g.length,v.length);p<b&&g.charCodeAt(p)==v.charCodeAt(p);)++p;for(var y=m(d),_=m(h),x=Math.min(y.length-(1==d.length?p:0),_.length-(1==h.length?p:0));f<x&&y.charCodeAt(y.length-f-1)==_.charCodeAt(_.length-f-1);)++f;d[d.length-1]=y.slice(0,y.length-f).replace(/^\u200b+/,""),d[0]=d[0].slice(p).replace(/\u200b+$/,"");var w=L(s,p),k=L(l,h.length?m(h).length-f:0);return d.length>1||d[0]||N(w,k)?(Tr(e.doc,d,w,k,"+input"),!0):void 0},Sa.prototype.ensurePolled=function(){this.forceCompositionEnd()},Sa.prototype.reset=function(){this.forceCompositionEnd()},Sa.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.pollContent()||hi(this.cm),this.div.blur(),this.div.focus())},Sa.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}!e.cm.isReadOnly()&&e.pollContent()||li(e.cm,function(){return hi(e.cm)})},80))},Sa.prototype.setUneditable=function(e){e.contentEditable="false"},Sa.prototype.onKeyPress=function(e){e.preventDefault(),this.cm.isReadOnly()||ci(this.cm,No)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},Sa.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Sa.prototype.onContextMenu=function(){},Sa.prototype.resetPosition=function(){},Sa.prototype.needsContentAttribute=!0;var Ta=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new d,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null};Ta.prototype.init=function(e){function t(e){if(!Oe(r,e)){if(r.somethingSelected())Lo({lineWise:!1,text:r.getSelections()}),i.inaccurateSelection&&(i.prevInput="",i.inaccurateSelection=!1,s.value=Ca.text.join("\n"),_s(s));else{if(!r.options.lineWiseCopyCut)return;var t=zo(r);Lo({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,Ss):(i.prevInput="",s.value=t.text.join("\n"),_s(s))}"cut"==e.type&&(r.state.cutIncoming=!0)}}var n=this,i=this,r=this.cm,o=this.wrapper=Ho(),s=this.textarea=o.firstChild;e.wrapper.insertBefore(o,e.wrapper.firstChild),us&&(s.style.width="0px"),Ps(s,"input",function(){ts&&ns>=9&&n.hasSelection&&(n.hasSelection=null),i.poll()}),Ps(s,"paste",function(e){Oe(r,e)||Io(e,r)||(r.state.pasteIncoming=!0,i.fastPoll())}),Ps(s,"cut",t),Ps(s,"copy",t),Ps(e.scroller,"paste",function(t){Ht(e,t)||Oe(r,t)||(r.state.pasteIncoming=!0,i.focus())}),Ps(e.lineSpace,"selectstart",function(t){Ht(e,t)||Ie(t)}),Ps(s,"compositionstart",function(){var e=r.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),Ps(s,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},Ta.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,i=Sn(e);if(e.options.moveInputWithCursor){var r=dn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+s.top-o.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+s.left-o.left))}return i},Ta.prototype.showSelection=function(e){var t=this.cm,i=t.display;n(i.cursorDiv,e.cursors),n(i.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Ta.prototype.reset=function(e){if(!this.contextMenuPending){var t,n,i=this.cm,r=i.doc;if(i.somethingSelected()){this.prevInput="";var o=r.sel.primary();t=Ws&&(o.to().line-o.from().line>100||(n=i.getSelection()).length>1e3);var s=t?"-":n||i.getSelection();this.textarea.value=s,i.state.focused&&_s(this.textarea),ts&&ns>=9&&(this.hasSelection=s)}else e||(this.prevInput=this.textarea.value="",ts&&ns>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},Ta.prototype.getField=function(){return this.textarea},Ta.prototype.supportsTouch=function(){return!1},Ta.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!ds||o()!=this.textarea))try{this.textarea.focus()}catch(e){}},Ta.prototype.blur=function(){this.textarea.blur()},Ta.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ta.prototype.receivedFocus=function(){this.slowPoll()},Ta.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Ta.prototype.fastPoll=function(){function e(){var i=n.poll();i||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},Ta.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,i=this.prevInput;if(this.contextMenuPending||!t.state.focused||Hs(n)&&!i&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var r=n.value;if(r==i&&!t.somethingSelected())return!1;if(ts&&ns>=9&&this.hasSelection===r||hs&&/[\uf700-\uf7ff]/.test(r))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||i||(i="â€‹"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var s=0,a=Math.min(i.length,r.length);s<a&&i.charCodeAt(s)==r.charCodeAt(s);)++s;return li(t,function(){No(t,r.slice(s),i.length-s,null,e.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=r,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ta.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ta.prototype.onKeyPress=function(){ts&&ns>=9&&(this.hasSelection=null),this.fastPoll()},Ta.prototype.onContextMenu=function(e){function t(){if(null!=s.selectionStart){var e=r.somethingSelected(),t="â€‹"+(e?s.value:"");s.value="â‡š",s.value=t,i.prevInput=e?"":"â€‹",s.selectionStart=1,s.selectionEnd=t.length,o.selForContextMenu=r.doc.sel}}function n(){if(i.contextMenuPending=!1,i.wrapper.style.cssText=d,s.style.cssText=u,ts&&ns<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=s.selectionStart){(!ts||ts&&ns<9)&&t();var e=0,n=function(){o.selForContextMenu==r.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&"â€‹"==i.prevInput?ci(r,br)(r):e++<10?o.detectingSelectAll=setTimeout(n,500):o.input.reset()};o.detectingSelectAll=setTimeout(n,200)}}var i=this,r=i.cm,o=r.display,s=i.textarea,a=wn(r,e),l=o.scroller.scrollTop;if(a&&!ss){var c=r.options.resetSelectionOnContextMenu;c&&r.doc.sel.contains(a)==-1&&ci(r,ur)(r.doc,ji(a),Ss);var u=s.style.cssText,d=i.wrapper.style.cssText;i.wrapper.style.cssText="position: absolute";var h=i.wrapper.getBoundingClientRect();s.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(ts?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var p;if(is&&(p=window.scrollY),o.input.focus(),is&&window.scrollTo(null,p),o.input.reset(),r.somethingSelected()||(s.value=i.prevInput=" "),i.contextMenuPending=!0,o.selForContextMenu=r.doc.sel,clearTimeout(o.detectingSelectAll),ts&&ns>=9&&t(),bs){Fe(e);var f=function(){Ae(window,"mouseup",f),setTimeout(n,20)};Ps(window,"mouseup",f)}else setTimeout(n,50)}},Ta.prototype.readOnlyChanged=function(e){e||this.reset()},Ta.prototype.setUneditable=function(){},Ta.prototype.needsContentAttribute=!1,To(Eo),Wo(Eo);var Ma="iter insert remove copy getEditor constructor".split(" ");for(var Da in aa.prototype)aa.prototype.hasOwnProperty(Da)&&h(Ma,Da)<0&&(Eo.prototype[Da]=function(e){return function(){return e.apply(this.doc,arguments)}}(aa.prototype[Da]));return Ne(aa),Eo.inputStyles={textarea:Ta,contenteditable:Sa},Eo.defineMode=function(e){Eo.defaults.mode||"null"==e||(Eo.defaults.mode=e),Ue.apply(this,arguments)},Eo.defineMIME=$e,Eo.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Eo.defineMIME("text/plain","null"),Eo.defineExtension=function(e,t){Eo.prototype[e]=t},Eo.defineDocExtension=function(e,t){aa.prototype[e]=t},Eo.fromTextArea=Vo,Go(Eo),Eo.version="5.22.2",Eo}),define("codemirror",["codemirror/lib/codemirror"],function(e){return e}),function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(e,t){return Se.call(e,t)}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function r(e){ye.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function o(e,t){var n=!0;return h(function(){return n&&(r(e),n=!1),t.apply(this,arguments)},t)}function s(e,t){gt[e]||(r(t),gt[e]=!0)}function a(e,t){return function(n){return m(e.call(this,n),t)}}function l(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function c(){}function u(e,t){t!==!1&&O(e),p(this,e),this._d=new Date(+e._d)}function d(e){var t=C(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,s=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*a,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=ye.localeData(),this._bubble()}function h(e,t){for(var i in t)n(t,i)&&(e[i]=t[i]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t){var n,i,r;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Ne.length>0)for(n in Ne)i=Ne[n],r=t[i],"undefined"!=typeof r&&(e[i]=r);return e}function f(e){return 0>e?Math.ceil(e):Math.floor(e)}function m(e,t,n){for(var i=""+Math.abs(e),r=e>=0;i.length<t;)i="0"+i;return(r?n?"+":"":"-")+i}function g(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function v(e,t){var n;return t=P(t,e),e.isBefore(t)?n=g(e,t):(n=g(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function b(e,t){return function(n,i){var r,o;return null===i||isNaN(+i)||(s(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=ye.duration(n,i),y(this,r,e),this}}function y(e,t,n,i){var r=t._milliseconds,o=t._days,s=t._months;i=null==i||i,r&&e._d.setTime(+e._d+r*n),o&&pe(e,"Date",he(e,"Date")+o*n),s&&de(e,he(e,"Month")+s*n),i&&ye.updateOffset(e,o||s)}function _(e){return"[object Array]"===Object.prototype.toString.call(e)}function x(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function w(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&T(e[i])!==T(t[i]))&&s++;return s+o}function k(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=ct[e]||ut[t]||t}return e}function C(e){var t,i,r={};for(i in e)n(e,i)&&(t=k(i),t&&(r[t]=e[i]));return r}function S(t){var n,i;if(0===t.indexOf("week"))n=7,i="day";else{if(0!==t.indexOf("month"))return;n=12,i="month"}ye[t]=function(r,o){var s,a,l=ye._locale[t],c=[];if("number"==typeof r&&(o=r,r=e),a=function(e){var t=ye().utc().set(i,e);return l.call(ye._locale,t,r||"")},null!=o)return a(o);for(s=0;n>s;s++)c.push(a(s));return c}}function T(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function M(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function D(e,t,n){return ae(ye([e,11,31+t-n]),t,n).week}function A(e){return E(e)?366:365}function E(e){return e%4===0&&e%100!==0||e%400===0}function O(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[Me]<0||e._a[Me]>11?Me:e._a[De]<1||e._a[De]>M(e._a[Te],e._a[Me])?De:e._a[Ae]<0||e._a[Ae]>24||24===e._a[Ae]&&(0!==e._a[Ee]||0!==e._a[Oe]||0!==e._a[je])?Ae:e._a[Ee]<0||e._a[Ee]>59?Ee:e._a[Oe]<0||e._a[Oe]>59?Oe:e._a[je]<0||e._a[je]>999?je:-1,e._pf._overflowDayOfYear&&(Te>t||t>De)&&(t=De),e._pf.overflow=t)}function j(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===e)),t._isValid}function L(e){return e?e.toLowerCase().replace("_","-"):e}function N(e){for(var t,n,i,r,o=0;o<e.length;){for(r=L(e[o]).split("-"),t=r.length,n=L(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=I(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&w(r,n,!0)>=t-1)break;t--}o++}return null}function I(e){var t=null;if(!Le[e]&&Ie)try{t=ye.locale(),require("./locale/"+e),ye.locale(t)}catch(e){}return Le[e]}function P(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(ye.isMoment(e)||x(e)?+e:+ye(e))-+n,n._d.setTime(+n._d+i),ye.updateOffset(n,!1),n):ye(e).local()}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function F(e){var t,n,i=e.match(He);for(t=0,n=i.length;n>t;t++)i[t]=mt[i[t]]?mt[i[t]]:z(i[t]);return function(r){var o="";for(t=0;n>t;t++)o+=i[t]instanceof Function?i[t].call(r,e):i[t];return o}}function H(e,t){return e.isValid()?(t=W(t,e.localeData()),dt[t]||(dt[t]=F(t)),dt[t](e)):e.localeData().invalidDate()}function W(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(We.lastIndex=0;i>=0&&We.test(e);)e=e.replace(We,n),We.lastIndex=0,i-=1;return e}function R(e,t){var n,i=t._strict;switch(e){case"Q":return Xe;case"DDDD":return Ze;case"YYYY":case"GGGG":case"gggg":return i?et:Be;case"Y":case"G":case"g":return nt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?tt:Ue;case"S":if(i)return Xe;case"SS":if(i)return Qe;case"SSS":if(i)return Ze;case"DDD":return qe;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ye;case"a":case"A":return t._locale._meridiemParse;case"x":return Ge;case"X":return Ke;case"Z":case"ZZ":return Je;case"T":return Ve;case"SSSS":return $e;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?Qe:Re;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Re;case"Do":return i?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return n=new RegExp(K(G(e.replace("\\","")),"i"))}}function q(e){e=e||"";var t=e.match(Je)||[],n=t[t.length-1]||[],i=(n+"").match(at)||["-",0,0],r=+(60*i[1])+T(i[2]);return"+"===i[0]?-r:r}function B(e,t,n){var i,r=n._a;switch(e){case"Q":null!=t&&(r[Me]=3*(T(t)-1));break;case"M":case"MM":null!=t&&(r[Me]=T(t)-1);break;case"MMM":case"MMMM":i=n._locale.monthsParse(t,e,n._strict),null!=i?r[Me]=i:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(r[De]=T(t));break;case"Do":null!=t&&(r[De]=T(parseInt(t.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=T(t));break;case"YY":r[Te]=ye.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":r[Te]=T(t);break;case"a":case"A":n._isPm=n._locale.isPM(t);break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":r[Ae]=T(t);break;case"m":case"mm":r[Ee]=T(t);break;case"s":case"ss":r[Oe]=T(t);break;case"S":case"SS":case"SSS":case"SSSS":r[je]=T(1e3*("0."+t));break;case"x":n._d=new Date(T(t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=q(t);break;case"dd":case"ddd":case"dddd":i=n._locale.weekdaysParse(t),null!=i?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=T(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=ye.parseTwoDigitYear(t)}}function U(e){var n,i,r,o,s,a,l;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(s=1,a=4,i=t(n.GG,e._a[Te],ae(ye(),1,4).year),r=t(n.W,1),o=t(n.E,1)):(s=e._locale._week.dow,a=e._locale._week.doy,i=t(n.gg,e._a[Te],ae(ye(),s,a).year),r=t(n.w,1),null!=n.d?(o=n.d,s>o&&++r):o=null!=n.e?n.e+s:s),l=le(i,r,o,a,s),e._a[Te]=l.year,e._dayOfYear=l.dayOfYear}function $(e){var n,i,r,o,s=[];if(!e._d){for(r=J(e),e._w&&null==e._a[De]&&null==e._a[Me]&&U(e),e._dayOfYear&&(o=t(e._a[Te],r[Te]),e._dayOfYear>A(o)&&(e._pf._overflowDayOfYear=!0),i=ie(o,0,e._dayOfYear),e._a[Me]=i.getUTCMonth(),e._a[De]=i.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=s[n]=r[n];for(;7>n;n++)e._a[n]=s[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[Ae]&&0===e._a[Ee]&&0===e._a[Oe]&&0===e._a[je]&&(e._nextDay=!0,e._a[Ae]=0),e._d=(e._useUTC?ie:ne).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm),e._nextDay&&(e._a[Ae]=24)}}function Y(e){var t;e._d||(t=C(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],$(e))}function J(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function V(t){if(t._f===ye.ISO_8601)return void Q(t);t._a=[],t._pf.empty=!0;var n,i,r,o,s,a=""+t._i,l=a.length,c=0;for(r=W(t._f,t._locale).match(He)||[],n=0;n<r.length;n++)o=r[n],i=(a.match(R(o,t))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&t._pf.unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),c+=i.length),mt[o]?(i?t._pf.empty=!1:t._pf.unusedTokens.push(o),B(o,i,t)):t._strict&&!i&&t._pf.unusedTokens.push(o);t._pf.charsLeftOver=l-c,a.length>0&&t._pf.unusedInput.push(a),t._pf.bigHour===!0&&t._a[Ae]<=12&&(t._pf.bigHour=e),t._isPm&&t._a[Ae]<12&&(t._a[Ae]+=12),t._isPm===!1&&12===t._a[Ae]&&(t._a[Ae]=0),$(t),O(t)}function G(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})}function K(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function X(e){var t,n,r,o,s;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)s=0,t=p({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=i(),t._f=e._f[o],V(t),j(t)&&(s+=t._pf.charsLeftOver,s+=10*t._pf.unusedTokens.length,t._pf.score=s,(null==r||r>s)&&(r=s,n=t));h(e,n||t)}function Q(e){var t,n,i=e._i,r=it.exec(i);if(r){for(e._pf.iso=!0,t=0,n=ot.length;n>t;t++)if(ot[t][1].exec(i)){e._f=ot[t][0]+(r[6]||" ");break}for(t=0,n=st.length;n>t;t++)if(st[t][1].exec(i)){e._f+=st[t][0];break}i.match(Je)&&(e._f+="Z"),V(e)}else e._isValid=!1}function Z(e){Q(e),e._isValid===!1&&(delete e._isValid,ye.createFromInputFallback(e))}function ee(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function te(t){var n,i=t._i;i===e?t._d=new Date:x(i)?t._d=new Date(+i):null!==(n=Pe.exec(i))?t._d=new Date(+n[1]):"string"==typeof i?Z(t):_(i)?(t._a=ee(i.slice(0),function(e){return parseInt(e,10)}),$(t)):"object"==typeof i?Y(t):"number"==typeof i?t._d=new Date(i):ye.createFromInputFallback(t)}function ne(e,t,n,i,r,o,s){var a=new Date(e,t,n,i,r,o,s);return 1970>e&&a.setFullYear(e),a}function ie(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function re(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function oe(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function se(e,t,n){var i=ye.duration(e).abs(),r=Ce(i.as("s")),o=Ce(i.as("m")),s=Ce(i.as("h")),a=Ce(i.as("d")),l=Ce(i.as("M")),c=Ce(i.as("y")),u=r<ht.s&&["s",r]||1===o&&["m"]||o<ht.m&&["mm",o]||1===s&&["h"]||s<ht.h&&["hh",s]||1===a&&["d"]||a<ht.d&&["dd",a]||1===l&&["M"]||l<ht.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,oe.apply({},u)}function ae(e,t,n){var i,r=n-t,o=n-e.day();return o>r&&(o-=7),r-7>o&&(o+=7),i=ye(e).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function le(e,t,n,i,r){var o,s,a=ie(e,0,1).getUTCDay();return a=0===a?7:a,n=null!=n?n:r,o=r-a+(a>i?7:0)-(r>a?7:0),s=7*(t-1)+(n-r)+o+1,{year:s>0?e:e-1,dayOfYear:s>0?s:A(e-1)+s}}function ce(t){var n,i=t._i,r=t._f;return t._locale=t._locale||ye.localeData(t._l),null===i||r===e&&""===i?ye.invalid({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),ye.isMoment(i)?new u(i,!0):(r?_(r)?X(t):V(t):te(t),n=new u(t),n._nextDay&&(n.add(1,"d"),n._nextDay=e),n))}function ue(e,t){var n,i;if(1===t.length&&_(t[0])&&(t=t[0]),!t.length)return ye();for(n=t[0],i=1;i<t.length;++i)t[i][e](n)&&(n=t[i]);return n}function de(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),M(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function he(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function pe(e,t,n){return"Month"===t?de(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function fe(e,t){return function(n){return null!=n?(pe(this,e,n),ye.updateOffset(this,t),this):he(this,e)}}function me(e){return 400*e/146097}function ge(e){return 146097*e/400}function ve(e){ye.duration.fn[e]=function(){return this._data[e]}}function be(e){"undefined"==typeof ender&&(_e=ke.moment,ke.moment=e?o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",ye):ye)}for(var ye,_e,xe,we="2.8.4",ke="undefined"!=typeof global?global:this,Ce=Math.round,Se=Object.prototype.hasOwnProperty,Te=0,Me=1,De=2,Ae=3,Ee=4,Oe=5,je=6,Le={},Ne=[],Ie="undefined"!=typeof module&&module&&module.exports,Pe=/^\/?Date\((\-?\d+)/i,ze=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Fe=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,He=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,We=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Re=/\d\d?/,qe=/\d{1,3}/,Be=/\d{1,4}/,Ue=/[+\-]?\d{1,6}/,$e=/\d+/,Ye=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Je=/Z|[\+\-]\d\d:?\d\d/gi,Ve=/T/i,Ge=/[\+\-]?\d+/,Ke=/[\+\-]?\d+(\.\d{1,3})?/,Xe=/\d/,Qe=/\d\d/,Ze=/\d{3}/,et=/\d{4}/,tt=/[+-]?\d{6}/,nt=/[+-]?\d+/,it=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,rt="YYYY-MM-DDTHH:mm:ssZ",ot=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],st=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],at=/([\+\-]|\d\d)/gi,lt=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ct={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},ut={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},dt={},ht={s:45,m:45,h:22,d:26,M:11},pt="DDD w W M D d".split(" "),ft="M D H h m s w W".split(" "),mt={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return m(this.year()%100,2)},YYYY:function(){return m(this.year(),4)},YYYYY:function(){return m(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+m(Math.abs(e),6)},gg:function(){return m(this.weekYear()%100,2)},gggg:function(){return m(this.weekYear(),4)},ggggg:function(){return m(this.weekYear(),5)},GG:function(){return m(this.isoWeekYear()%100,2)},GGGG:function(){return m(this.isoWeekYear(),4)},GGGGG:function(){return m(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return T(this.milliseconds()/100)},SS:function(){return m(T(this.milliseconds()/10),2)},SSS:function(){return m(this.milliseconds(),3)},SSSS:function(){return m(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+m(T(e/60),2)+":"+m(T(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+m(T(e/60),2)+m(T(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},gt={},vt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];pt.length;)xe=pt.pop(),mt[xe+"o"]=l(mt[xe],xe);for(;ft.length;)xe=ft.pop(),mt[xe+xe]=a(mt[xe],2);mt.DDDD=a(mt.DDD,3),h(c.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,t,n){var i,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=ye.utc([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=ye([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.apply(t,[n]):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){
var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return ae(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),ye=function(t,n,r,o){var s;return"boolean"==typeof r&&(o=r,r=e),s={},s._isAMomentObject=!0,s._i=t,s._f=n,s._l=r,s._strict=o,s._isUTC=!1,s._pf=i(),ce(s)},ye.suppressDeprecationWarnings=!1,ye.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),ye.min=function(){var e=[].slice.call(arguments,0);return ue("isBefore",e)},ye.max=function(){var e=[].slice.call(arguments,0);return ue("isAfter",e)},ye.utc=function(t,n,r,o){var s;return"boolean"==typeof r&&(o=r,r=e),s={},s._isAMomentObject=!0,s._useUTC=!0,s._isUTC=!0,s._l=r,s._i=t,s._f=n,s._strict=o,s._pf=i(),ce(s).utc()},ye.unix=function(e){return ye(1e3*e)},ye.duration=function(e,t){var i,r,o,s,a=e,l=null;return ye.isDuration(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(l=ze.exec(e))?(i="-"===l[1]?-1:1,a={y:0,d:T(l[De])*i,h:T(l[Ae])*i,m:T(l[Ee])*i,s:T(l[Oe])*i,ms:T(l[je])*i}):(l=Fe.exec(e))?(i="-"===l[1]?-1:1,o=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*i},a={y:o(l[2]),M:o(l[3]),d:o(l[4]),h:o(l[5]),m:o(l[6]),s:o(l[7]),w:o(l[8])}):"object"==typeof a&&("from"in a||"to"in a)&&(s=v(ye(a.from),ye(a.to)),a={},a.ms=s.milliseconds,a.M=s.months),r=new d(a),ye.isDuration(e)&&n(e,"_locale")&&(r._locale=e._locale),r},ye.version=we,ye.defaultFormat=rt,ye.ISO_8601=function(){},ye.momentProperties=Ne,ye.updateOffset=function(){},ye.relativeTimeThreshold=function(t,n){return ht[t]!==e&&(n===e?ht[t]:(ht[t]=n,!0))},ye.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return ye.locale(e,t)}),ye.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?ye.defineLocale(e,t):ye.localeData(e),n&&(ye.duration._locale=ye._locale=n)),ye._locale._abbr},ye.defineLocale=function(e,t){return null!==t?(t.abbr=e,Le[e]||(Le[e]=new c),Le[e].set(t),ye.locale(e),Le[e]):(delete Le[e],null)},ye.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(e){return ye.localeData(e)}),ye.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ye._locale;if(!_(e)){if(t=I(e))return t;e=[e]}return N(e)},ye.isMoment=function(e){return e instanceof u||null!=e&&n(e,"_isAMomentObject")},ye.isDuration=function(e){return e instanceof d};for(xe=vt.length-1;xe>=0;--xe)S(vt[xe]);ye.normalizeUnits=function(e){return k(e)},ye.invalid=function(e){var t=ye.utc(NaN);return null!=e?h(t._pf,e):t._pf.userInvalidated=!0,t},ye.parseZone=function(){return ye.apply(null,arguments).parseZone()},ye.parseTwoDigitYear=function(e){return T(e)+(T(e)>68?1900:2e3)},h(ye.fn=u.prototype,{clone:function(){return ye(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=ye(this).utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():H(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):H(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return j(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&w(this._a,(this._isUTC?ye.utc(this._a):ye(this._a)).toArray())>0)},parsingFlags:function(){return h({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){return this._isUTC&&(this.zone(0,e),this._isUTC=!1,e&&this.add(this._dateTzOffset(),"m")),this},format:function(e){var t=H(this,e||ye.defaultFormat);return this.localeData().postformat(t)},add:b(1,"add"),subtract:b(-1,"subtract"),diff:function(e,t,n){var i,r,o,s=P(e,this),a=6e4*(this.zone()-s.zone());return t=k(t),"year"===t||"month"===t?(i=432e5*(this.daysInMonth()+s.daysInMonth()),r=12*(this.year()-s.year())+(this.month()-s.month()),o=this-ye(this).startOf("month")-(s-ye(s).startOf("month")),o-=6e4*(this.zone()-ye(this).startOf("month").zone()-(s.zone()-ye(s).startOf("month").zone())),r+=o/i,"year"===t&&(r/=12)):(i=this-s,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-a)/864e5:"week"===t?(i-a)/6048e5:i),n?r:f(r)},from:function(e,t){return ye.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(ye(),e)},calendar:function(e){var t=e||ye(),n=P(t,this).startOf("day"),i=this.diff(n,"days",!0),r=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(r,this,ye(t)))},isLeapYear:function(){return E(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=re(e,this.localeData()),this.add(e-t,"d")):t},month:fe("Month",!0),startOf:function(e){switch(e=k(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=k(t),t===e||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(e,t){var n;return t=k("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=ye.isMoment(e)?e:ye(e),+this>+e):(n=ye.isMoment(e)?+e:+ye(e),n<+this.clone().startOf(t))},isBefore:function(e,t){var n;return t=k("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=ye.isMoment(e)?e:ye(e),+e>+this):(n=ye.isMoment(e)?+e:+ye(e),+this.clone().endOf(t)<n)},isSame:function(e,t){var n;return t=k(t||"millisecond"),"millisecond"===t?(e=ye.isMoment(e)?e:ye(e),+this===+e):(n=+ye(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=ye.apply(null,arguments),this>e?this:e}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=ye.apply(null,arguments),e>this?this:e}),zone:function(e,t){var n,i=this._offset||0;return null==e?this._isUTC?i:this._dateTzOffset():("string"==typeof e&&(e=q(e)),Math.abs(e)<16&&(e*=60),!this._isUTC&&t&&(n=this._dateTzOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.subtract(n,"m"),i!==e&&(!t||this._changeInProgress?y(this,ye.duration(i-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ye.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?ye(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return M(this.year(),this.month())},dayOfYear:function(e){var t=Ce((ye(this).startOf("day")-ye(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=ae(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=ae(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=ae(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return D(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return D(this.year(),e.dow,e.doy)},get:function(e){return e=k(e),this[e]()},set:function(e,t){return e=k(e),"function"==typeof this[e]&&this[e](t),this},locale:function(t){var n;return t===e?this._locale._abbr:(n=ye.localeData(t),null!=n&&(this._locale=n),this)},lang:o("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),ye.fn.millisecond=ye.fn.milliseconds=fe("Milliseconds",!1),ye.fn.second=ye.fn.seconds=fe("Seconds",!1),ye.fn.minute=ye.fn.minutes=fe("Minutes",!1),ye.fn.hour=ye.fn.hours=fe("Hours",!0),ye.fn.date=fe("Date",!0),ye.fn.dates=o("dates accessor is deprecated. Use date instead.",fe("Date",!0)),ye.fn.year=fe("FullYear",!0),ye.fn.years=o("years accessor is deprecated. Use year instead.",fe("FullYear",!0)),ye.fn.days=ye.fn.day,ye.fn.months=ye.fn.month,ye.fn.weeks=ye.fn.week,ye.fn.isoWeeks=ye.fn.isoWeek,ye.fn.quarters=ye.fn.quarter,ye.fn.toJSON=ye.fn.toISOString,h(ye.duration.fn=d.prototype,{_bubble:function(){var e,t,n,i=this._milliseconds,r=this._days,o=this._months,s=this._data,a=0;s.milliseconds=i%1e3,e=f(i/1e3),s.seconds=e%60,t=f(e/60),s.minutes=t%60,n=f(t/60),s.hours=n%24,r+=f(n/24),a=f(me(r)),r-=f(ge(a)),o+=f(r/30),r%=30,a+=f(o/12),o%=12,s.days=r,s.months=o,s.years=a},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return f(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*T(this._months/12)},humanize:function(e){var t=se(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=ye.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=ye.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=k(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=k(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*me(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ge(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:ye.fn.lang,locale:ye.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),r=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||r||o?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale}}),ye.duration.fn.toString=ye.duration.fn.toISOString;for(xe in lt)n(lt,xe)&&ve(xe.toLowerCase());ye.duration.fn.asMilliseconds=function(){return this.as("ms")},ye.duration.fn.asSeconds=function(){return this.as("s")},ye.duration.fn.asMinutes=function(){return this.as("m")},ye.duration.fn.asHours=function(){return this.as("h")},ye.duration.fn.asDays=function(){return this.as("d")},ye.duration.fn.asWeeks=function(){return this.as("weeks")},ye.duration.fn.asMonths=function(){return this.as("M")},ye.duration.fn.asYears=function(){return this.as("y")},ye.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===T(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),Ie?module.exports=ye:"function"==typeof define&&define.amd?(define("moment",["require","exports","module"],function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(ke.moment=_e),ye}),be(!0)):be()}.call(this),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/mode/meta",["../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["pgp"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mime:"text/n-triples",mode:"ntriples",ext:["nt"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.mime==t)return i;if(i.mimes)for(var r=0;r<i.mimes.length;r++)if(i.mimes[r]==t)return i}},e.findModeByExtension=function(t){for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.ext)for(var r=0;r<i.ext.length;r++)if(i.ext[r]==t)return i}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.file&&i.file.test(t))return i}var r=t.lastIndexOf("."),o=r>-1&&t.substring(r+1,t.length);if(o)return e.findModeByExtension(o)},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.name.toLowerCase()==t)return i;if(i.alias)for(var r=0;r<i.alias.length;r++)if(i.alias[r].toLowerCase()==t)return i}}}),define("base/js/utils",["jquery","codemirror/lib/codemirror","moment","codemirror/mode/meta"],function(e,t,n){"use strict";function i(e){var t=[];return Object.keys(e).forEach(function(n){e[n]&&t.push(n)}),t}function r(e){return e.loaded.then(function(){if(e.data.load_extensions){var t=i(e.data.load_extensions);return f.apply(this,t)}}).catch(X.reject("Could not load nbextensions from "+e.section_name+" config file"))}function o(e){return e.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&apos;").replace(/\"/g,"&quot;").replace(/`/g,"&#96;")}function s(e,t){var n=t.shift();if(v[n])e.class?e.class+=" "+v[n]:e.class=v[n];else if("38"==n||"48"==n){if(t.length<2)return void console.log("Not enough fields for VT100 color",t);var i,r,o,s=t.shift();if("5"==s){var a=parseInt(t.shift(),10);if(a<16){a%=8;var l=v[n[0]+(a%8).toString()];return void(e.class?e.class+=" "+l:e.class=l)}a<232?(a-=16,o=a%6,r=Math.floor(a/6)%6,i=Math.floor(a/36)%6,i*=51,r*=51,o*=51):(a-=231,i=r=o=Math.floor(256*a/26))}else{if("2"!=s)return void console.log("unrecognized control",t);if(t.length>3)return void console.log("Not enough fields for RGB",t);i=t.shift(),r=t.shift(),o=t.shift()}if(void 0!==i){var c;c="38"==n?"color: ":"background-color: ",c=c+"rgb("+i+","+r+","+o+");",e.style?e.style+=" "+c:e.style=c}}}function a(e){var t=!1;return e.replace(/\033\[(0?[01]|22|39)?([;\d]+)?m/g,function(e,n,i){if(i&&"39"!==n){t=!0;for(var r=i.match(/\d+/g),o={};r.length>0;)s(o,r);var a="<span ";return Object.keys(o).map(function(e){a=a+" "+e+'="'+o[e]+'"'}),a+">"}return t?(t=!1,"</span>"):""})}function l(e){e=o(e);var t=/(?=(\033\[[?\d;=]*[a-ln-zA-Z]{1}))\1(?!m)/g;return e=e.replace(t,""),e=a(e)}function c(e){for(e=e.replace(/\r+\n/gm,"\n");e.search(/\r[^$]/g)>-1;){var t=e.match(/^(.*)\r+/m)[1],n=e.match(/\r+(.*)$/m)[1];n+=t.slice(n.length,t.length),e=e.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,n)}return e}function u(e){return e.replace(/(^|\s)(https?|ftp)(:[^'"<>\s]+)/gi,'$1<a target="_blank" href="$2$3">$2$3</a>')}var d=[],h=function(e){var t="nbextensions/"+e;return d.indexOf(t)>=0},p=function(e){return new Promise(function(t,n){var i="nbextensions/"+e;requirejs([i],function(r){h(e)?(console.log("Loaded extension already: "+e),t(r)):(console.log("Loading extension: "+e),r.load_ipython_extension&&Promise.resolve(r.load_ipython_extension()).then(function(){t(r)}).catch(n),d.push(i))},function(e){n(e)})})},f=function(){return console.log("load_extensions",arguments),Promise.all(Array.prototype.map.call(arguments,p)).catch(function(e){console.error("Failed to load extension"+(e.requireModules.length>1?"s":"")+":",e.requireModules,e)})},m=function(e,t,n){var i,r,o,s,a=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),c=0;t=new RegExp(t.source,l+"g");var u="undefined"==typeof/()??/.exec("")[1];for(u||(i=new RegExp("^"+t.source+"$(?!\\s)",l)),n="undefined"==typeof n?-1>>>0:n>>>0,r=t.exec(e);r&&(o=r.index+r[0].length,!(o>c&&(a.push(e.slice(c,r.index)),!u&&r.length>1&&r[0].replace(i,function(){for(var e=1;e<arguments.length-2;e++)"undefined"==typeof arguments[e]&&(r[e]=void 0)}),r.length>1&&r.index<e.length&&Array.prototype.push.apply(a,r.slice(1)),s=r[0].length,c=o,a.length>=n)));r=t.exec(e))t.lastIndex===r.index&&t.lastIndex++;return c===e.length?!s&&t.test("")||a.push(""):a.push(e.slice(c)),a.length>n?a.slice(0,n):a},g=function(){for(var e=[],t="0123456789ABCDEF",n=0;n<32;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);e[12]="4",e[16]=t.substr(3&e[16]|8,1);var i=e.join("");return i},v={"01":"ansibold",30:"ansiblack",31:"ansired",32:"ansigreen",33:"ansiyellow",34:"ansiblue",35:"ansipurple",36:"ansicyan",37:"ansigray",40:"ansibgblack",41:"ansibgred",42:"ansibggreen",43:"ansibgyellow",44:"ansibgblue",45:"ansibgpurple",46:"ansibgcyan",47:"ansibggray"},b=function(t){var n=e('<div style="display: none; width: 10000pt; padding:0; border:0;"></div>');e("body").append(n);var i=n.width()/1e4;return n.remove(),Math.floor(t*i)},y=function(e){return function(){var t=Object.create(e.prototype);return e.apply(t,arguments),t}},_=function(){for(var e="",t=0;t<arguments.length;t++)""!==arguments[t]&&(e.length>0&&"/"!=e[e.length-1]?e=e+"/"+arguments[t]:e+=arguments[t]);return e=e.replace(/\/\/+/,"/")},x=function(e){var t=e.lastIndexOf("/");return t===-1?["",e]:[e.slice(0,t),e.slice(t+1)]},w=function(e){var t=document.createElement("a");return t.href=e,t},k=function(e){return e.split("/").map(encodeURIComponent).join("/")},C=function(){return k(_.apply(null,arguments))},S=function(e){var t=e.lastIndexOf(".");return t>0?[e.slice(0,t),e.slice(t)]:[e,""]},T=function(t){return e("<div/>").text(t).html()},M=function(t){var n=e("body").data(t);return n?decodeURIComponent(n):n},D=function(e,t){return console.warn("`utils.to_absolute_cursor_pos(cm, pos)` is deprecated. Use `cm.indexFromPos(cursor)`"),e.indexFromPos(t)},A=function(e,t){return console.warn("`utils.from_absolute_cursor_pos(cm, pos)` is deprecated. Use `cm.posFromIndex(index)`"),e.posFromIndex(t)},E=function(){if("undefined"==typeof navigator)return"None";var e,t=navigator.appName,n=navigator.userAgent,i=n.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return i&&null!==(e=n.match(/version\/([\.\d]+)/i))&&(i[2]=e[1]),i=i?[i[1],i[2]]:[t,navigator.appVersion,"-?"]}(),O=function(){if("undefined"==typeof navigator)return"None";var e="None";return navigator.appVersion.indexOf("Win")!=-1&&(e="Windows"),navigator.appVersion.indexOf("Mac")!=-1&&(e="MacOS"),navigator.appVersion.indexOf("X11")!=-1&&(e="UNIX"),navigator.appVersion.indexOf("Linux")!=-1&&(e="Linux"),e}(),j=function(e){var t=new RegExp("[?&]"+e+"=([^&]*)").exec(window.location.search);if(t)return decodeURIComponent(t[1]||"")},L=function(e,t){return 0!==e.has(t).length||e.is(t)},N=function(t){t=e(t);var n=e(document.activeElement);return n.length>0&&!!L(t,n)},I=function(t,n,i){return n=n||{},i=i||{},e.extend(!0,{},t.options_default,n,i)},P=function(e){return e.responseJSON&&e.responseJSON.traceback?e.responseJSON.traceback:e.responseJSON&&e.responseJSON.message?e.responseJSON.message:e.statusText},z=function(e,t,n){var i="API request failed ("+e.status+"): ";console.log(e),i+=P(e),console.log(i)},F=function(e,n,i){var r="string"==typeof e?e:e.mode||e.name;if(t.modes.hasOwnProperty(r))return void n(e.name?e:r);var o=e&&e.mode&&e.mime&&e||t.findModeByName(r)||t.findModeByExtension(r.split(".").slice(-1))||t.findModeByMIME(r)||{mode:r,mime:r};require([["codemirror/mode",o.mode,o.mode].join("/")],function(){n(e.name?e:o.mime)},i)},H="XhrError",W=function(e,t,n){var i=new Error(P(e));return i.name=H,i.xhr=e,i.xhr_status=t,
i.xhr_error=n,i},R=function(t,n){return n=B(n),e.ajax(t,n)},q=function(e){var t=document.cookie.match("\\b"+e+"=([^;]*)\\b");return t?t[1]:void 0},B=function(e){if(e=e||{},e.headers||(e.headers={}),!e.headers.Authorization){var t=q("_xsrf");t&&(e.headers["X-XSRFToken"]=t)}return e},U=function(e,t){return t=t||{},new Promise(function(n,i){t.success=function(e,t,i){n(e)},t.error=function(e,t,n){z(e,t,n),i(W(e,t,n))},R(e,t)})},$=function(e,t){for(var n=Error.apply(this,[e]),i=Object.getOwnPropertyNames(n),r=0;r<i.length;r++)this[i[r]]=n[i[r]];return t instanceof $?this.error_stack=t.error_stack:this.error_stack=[t],this.error_stack.push(n),this};$.prototype=Object.create(Error.prototype,{});var Y=function(e,t,n){return new Promise(function(i,r){t?require([t],function(n){void 0===n[e]?r(new Error("Class "+e+" not found in module "+t)):i(n[e])},r):n&&n[e]?i(n[e]):r(new Error("Class "+e+" not found in registry "))})},J=function(e){var t=Object.keys(e),n=[];return t.forEach(function(t){n.push(e[t])}),Promise.all(n).then(function(n){e={};for(var i=0;i<t.length;i++)e[t[i]]=n[i];return e})},V=function(e,t){return function(n){var i=new $(e,n);return t&&console.error(e," -- ",n),Promise.reject(i)}},G=function(t,n){var i=t.jquery?t:e(t);if(arguments.length>1&&i.text(n),window.MathJax)return i.map(function(){return MathJax.Hub.Queue(["Typeset",MathJax.Hub,this])})},K={};K.milliseconds={},K.milliseconds.s=1e3,K.milliseconds.m=60*K.milliseconds.s,K.milliseconds.h=60*K.milliseconds.m,K.milliseconds.d=24*K.milliseconds.h,K.thresholds={s:n.relativeTimeThreshold("s")*K.milliseconds.s,m:n.relativeTimeThreshold("m")*K.milliseconds.m,h:n.relativeTimeThreshold("h")*K.milliseconds.h,d:n.relativeTimeThreshold("d")*K.milliseconds.d},K.timeout_from_dt=function(e){return e<K.thresholds.s?10*K.milliseconds.s:e<K.thresholds.m?K.milliseconds.m:K.milliseconds.h};var X={is_loaded:h,load_extension:p,load_extensions:f,filter_extensions:i,load_extensions_from_config:r,regex_split:m,uuid:g,fixConsole:l,fixCarriageReturn:c,autoLinkUrls:u,points_to_pixels:b,get_body_data:M,parse_url:w,url_path_split:x,url_path_join:_,url_join_encode:C,encode_uri_components:k,splitext:S,escape_html:T,always_new:y,to_absolute_cursor_pos:D,from_absolute_cursor_pos:A,browser:E,platform:O,get_url_param:j,is_or_has:L,is_focused:N,mergeopt:I,requireCodeMirrorMode:F,XHR_ERROR:H,ajax:R,ajax_error_msg:P,log_ajax_error:z,wrap_ajax_error:W,promising_ajax:U,WrappedError:$,load_class:Y,resolve_promises_dict:J,reject:V,typeset:G,time:K,_ansispan:a};return X}),define("utils",["jquery","base/js/utils"],function(e,t){"use strict";function n(e){function t(){var t="";if(arguments.length>0){var n=arguments[0].match(s);t=n[1],arguments[0]=n[6]}return t+e.apply(null,arguments)}return e._strip_hostname_applied?e:(t._strip_hostname_applied=!0,t)}function i(){return p=p||t.uuid()}function r(n,i,r,s,a){n=n.toUpperCase();var l=new XMLHttpRequest,c=o;if("GET"===n&&(r.rand=Math.random().toString()),"POST"===n&&localStorage.accepted_tos&&(r.accepted_tos="true"),window.FormData&&"GET"!==n){c=new FormData;for(var u in r)r.hasOwnProperty(u)&&c.append(u,r[u])}else{c="";for(var u in r)r.hasOwnProperty(u)&&(c+="&"+encodeURIComponent(u)+"="+encodeURIComponent(r[u]));c=c.substr(1),c.length>0&&"GET"===n&&(i+="?"+c,c=o)}if(window.FormData||!f)l.open(n,i,!0),l.withCredentials=!0,l.onreadystatechange=function(){4===l.readyState&&s&&s(l.responseText)},"string"==typeof c&&l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),l.send(c);else if("GET"===n)i+=(i.indexOf("?")===-1?"?":"&")+"callback=?",e.getJSON(i,s);else{var d=document.createElement("iframe");d.name=t.uuid();var h=ce("form",{method:"POST",action:i,target:d.name});r===o&&(r={}),r.method=n;for(var u in r)r.hasOwnProperty(u)&&h.appendChild(ce("input",{name:u,value:r[u]}));h.appendChild(ce("input",{name:"frame",value:"on"})),h.style.display=d.style.display="none",document.body.appendChild(d),document.body.appendChild(h);var p=function(e){e.source===d.contentWindow&&e.origin+"/"===t.URLs.root&&(window.removeEventListener?removeEventListener("message",p):detachEvent("onmessage",p),s(e.data),document.body.removeChild(d))};window.addEventListener?window.addEventListener("message",p):window.attachEvent("onmessage",p),h.submit(),document.body.removeChild(h)}}var o,s=new RegExp("^((([^:/?#]+):)?(//([^/?#]*))?)?(.*)");t.url_join_encode=n(t.url_join_encode),t.url_path_join=n(t.url_path_join);var a,l;if(sagecell.root)a=sagecell.root;else if((l=e("link[property=sagecell-root]")).length>0)a=l.last().attr("href");else{for(var c=(document.documentElement||document).getElementsByTagName("script"),u=/^.*?(?=(?:static\/)?embedded_sagecell.js)/,d=c.length-1;d>=0;d--){var h=(c[d].src||"").match(u);if(h){a=h[0];break}}""!==a&&"/"!==a||(a=window.location.protocol+"//"+window.location.host+"/")}"/"!==a.slice(-1)&&(a+="/");var p,f=a!==window.location.protocol+"//"+window.location.host+"/";return{always_new:t.always_new,cellSessionID:i,createElement:function(e,t,n){var i=document.createElement(e);for(var r in t)t.hasOwnProperty(r)&&i.setAttribute(r,t[r]);if(n)for(var o=0;o<n.length;o++)"string"==typeof n[o]?i.appendChild(document.createTextNode(n[o])):i.appendChild(n[o]);return i},fixConsole:t.fixConsole,proxy:function(t){var n={_callbacks:[]};return e.each(t,function(e,t){n[t]=function(){n._callbacks.push([t,arguments]),console.log("stored proxy for "+t)}}),n._run_callbacks=function(t){e.each(n._callbacks,function(e,n){t[n[0]].apply(t,n[1])})},n},sendRequest:r,simpleTimer:function(){var e=(new Date).getTime();return console.debug("starting timer from "+e),function(t){var n=e,i=(new Date).getTime();return t&&(e=i),i-n+" ms"}},throttle:function(e,t){var n,i,r,o,s=0,a=function(){s=new Date,r=null,o=e.apply(n,i)};return function(){var l=new Date,c=t-(l-s);return n=this,i=arguments,c<=0?(clearTimeout(r),r=null,s=l,o=e.apply(n,i)):r||(r=setTimeout(a,c)),o}},URLs:{cell:a+"sagecell.html",completion:a+"complete",help:a+"help.html",kernel:a+"kernel",permalink:a+"permalink",root:a,sockjs:a+"sockjs",spinner:a+"static/spinner.gif",terms:a+"tos.html"},uuid:t.uuid}}),define("multisockjs",["sockjs","utils"],function(e,t){"use strict";function n(i,r){console.debug("Starting sockjs connection to "+i+" with prefix "+r),n.sockjs&&n.sockjs.readyState!==e.CLOSING&&n.sockjs.readyState!==e.CLOSED||(n.channels={},n.to_init=[],console.debug("Initializing MultiSockJS to "+t.URLs.sockjs),n.sockjs=new e(t.URLs.sockjs+"?CellSessionID="+t.cellSessionID()),n.sockjs.onopen=function(e){for(;n.to_init.length>0;)n.to_init.shift().init_socket(e)},n.sockjs.onmessage=function(e){var t=e.data.indexOf(","),i=e.data.substring(0,t);console.debug("MultiSockJS.sockjs.onmessage prefix: "+i),e.data=e.data.substring(t+1),console.debug("other data: "+e.data),n.channels[i]&&n.channels[i].onmessage&&n.channels[i].onmessage(e)},n.sockjs.onclose=function(e){var t=n.sockjs.readyState;for(var i in n.channels)n.channels[i].readyState=t,n.channels[i].onclose&&n.channels[i].onclose(e)}),this.prefix=i?i.match(/^\w+:\/\/.*?\/kernel\/(.*\/channels).*$/)[1]:r,console.debug("this.prefix: "+this.prefix),this.readyState=n.sockjs.readyState,n.channels[this.prefix]=this,this.init_socket()}return n.prototype.init_socket=function(e){if(n.sockjs.readyState){var t=this;setTimeout(function(){t.readyState=n.sockjs.readyState,t.onopen&&t.onopen(e)},0)}else n.to_init.push(this)},n.prototype.send=function(e){n.sockjs.send(this.prefix+","+e)},n.prototype.close=function(){delete n.channels[this.prefix]},n}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/addon/display/autorefresh",["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(t,i){function r(){t.display.wrapper.offsetHeight?(n(t,i),t.display.lastWrapHeight!=t.display.wrapper.clientHeight&&t.refresh()):i.timeout=setTimeout(r,i.delay)}i.timeout=setTimeout(r,i.delay),i.hurry=function(){clearTimeout(i.timeout),i.timeout=setTimeout(r,50)},e.on(window,"mouseup",i.hurry),e.on(window,"keyup",i.hurry)}function n(t,n){clearTimeout(n.timeout),e.off(window,"mouseup",n.hurry),e.off(window,"keyup",n.hurry)}e.defineOption("autoRefresh",!1,function(e,i){e.state.autoRefresh&&(n(e,e.state.autoRefresh),e.state.autoRefresh=null),i&&0==e.display.wrapper.offsetHeight&&t(e,e.state.autoRefresh={delay:i.delay||250})})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/addon/display/fullscreen",["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){var t=e.getWrapperElement();e.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:t.style.width,height:t.style.height},t.style.width="",t.style.height="auto",t.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",e.refresh()}function n(e){var t=e.getWrapperElement();t.className=t.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var n=e.state.fullScreenRestore;t.style.width=n.width,t.style.height=n.height,window.scrollTo(n.scrollLeft,n.scrollTop),e.refresh()}e.defineOption("fullScreen",!1,function(i,r,o){o==e.Init&&(o=!1),!o!=!r&&(r?t(i):n(i))})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/addon/edit/matchbrackets",["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t,i,r){var o=e.getLineHandle(t.line),l=t.ch-1,c=l>=0&&a[o.text.charAt(l)]||a[o.text.charAt(++l)];if(!c)return null;var u=">"==c.charAt(1)?1:-1;if(i&&u>0!=(l==t.ch))return null;var d=e.getTokenTypeAt(s(t.line,l+1)),h=n(e,s(t.line,l+(u>0?1:0)),u,d||null,r);return null==h?null:{from:s(t.line,l),to:h&&h.pos,match:h&&h.ch==c.charAt(0),forward:u>0}}function n(e,t,n,i,r){for(var o=r&&r.maxScanLineLength||1e4,l=r&&r.maxScanLines||1e3,c=[],u=r&&r.bracketRegex?r.bracketRegex:/[(){}[\]]/,d=n>0?Math.min(t.line+l,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-l),h=t.line;h!=d;h+=n){var p=e.getLine(h);if(p){var f=n>0?0:p.length-1,m=n>0?p.length:-1;if(!(p.length>o))for(h==t.line&&(f=t.ch-(n<0?1:0));f!=m;f+=n){var g=p.charAt(f);if(u.test(g)&&(void 0===i||e.getTokenTypeAt(s(h,f+1))==i)){var v=a[g];if(">"==v.charAt(1)==n>0)c.push(g);else{if(!c.length)return{pos:s(h,f),ch:g};c.pop()}}}}}return h-n!=(n>0?e.lastLine():e.firstLine())&&null}function i(e,n,i){for(var r=e.state.matchBrackets.maxHighlightLineLength||1e3,a=[],l=e.listSelections(),c=0;c<l.length;c++){var u=l[c].empty()&&t(e,l[c].head,!1,i);if(u&&e.getLine(u.from.line).length<=r){var d=u.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";a.push(e.markText(u.from,s(u.from.line,u.from.ch+1),{className:d})),u.to&&e.getLine(u.to.line).length<=r&&a.push(e.markText(u.to,s(u.to.line,u.to.ch+1),{className:d}))}}if(a.length){o&&e.state.focused&&e.focus();var h=function(){e.operation(function(){for(var e=0;e<a.length;e++)a[e].clear()})};if(!n)return h;setTimeout(h,800)}}function r(e){e.operation(function(){l&&(l(),l=null),l=i(e,!1,e.state.matchBrackets)})}var o=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),s=e.Pos,a={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;e.defineOption("matchBrackets",!1,function(t,n,i){i&&i!=e.Init&&(t.off("cursorActivity",r),l&&(l(),l=null)),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",r))}),e.defineExtension("matchBrackets",function(){i(this,!0)}),e.defineExtension("findMatchingBracket",function(e,n,i){return t(this,e,n,i)}),e.defineExtension("scanForBracket",function(e,t,i,r){return n(this,e,t,i,r)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/addon/fold/foldcode",["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(t,r,o,s){function a(e){var n=l(t,r);if(!n||n.to.line-n.from.line<c)return null;for(var i=t.findMarksAt(n.from),o=0;o<i.length;++o)if(i[o].__isFold&&"fold"!==s){if(!e)return null;n.cleared=!0,i[o].clear()}return n}if(o&&o.call){var l=o;o=null}else var l=i(t,o,"rangeFinder");"number"==typeof r&&(r=e.Pos(r,0));var c=i(t,o,"minFoldSize"),u=a(!0);if(i(t,o,"scanUp"))for(;!u&&r.line>t.firstLine();)r=e.Pos(r.line-1,0),u=a(!1);if(u&&!u.cleared&&"unfold"!==s){var d=n(t,o);e.on(d,"mousedown",function(t){h.clear(),e.e_preventDefault(t)});var h=t.markText(u.from,u.to,{replacedWith:d,clearOnEnter:i(t,o,"clearOnEnter"),__isFold:!0});h.on("clear",function(n,i){e.signal(t,"unfold",t,n,i)}),e.signal(t,"fold",t,u.from,u.to)}}function n(e,t){var n=i(e,t,"widget");if("string"==typeof n){var r=document.createTextNode(n);n=document.createElement("span"),n.appendChild(r),n.className="CodeMirror-foldmarker"}return n}function i(e,t,n){if(t&&void 0!==t[n])return t[n];var i=e.options.foldOptions;return i&&void 0!==i[n]?i[n]:r[n]}e.newFoldFunction=function(e,n){return function(i,r){t(i,r,{rangeFinder:e,widget:n})}},e.defineExtension("foldCode",function(e,n,i){t(this,e,n,i)}),e.defineExtension("isFolded",function(e){for(var t=this.findMarksAt(e),n=0;n<t.length;++n)if(t[n].__isFold)return!0}),e.commands.toggleFold=function(e){e.foldCode(e.getCursor())},e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")},e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")},e.commands.foldAll=function(t){t.operation(function(){for(var n=t.firstLine(),i=t.lastLine();n<=i;n++)t.foldCode(e.Pos(n,0),null,"fold")})},e.commands.unfoldAll=function(t){t.operation(function(){for(var n=t.firstLine(),i=t.lastLine();n<=i;n++)t.foldCode(e.Pos(n,0),null,"unfold")})},e.registerHelper("fold","combine",function(){var e=Array.prototype.slice.call(arguments,0);return function(t,n){for(var i=0;i<e.length;++i){var r=e[i](t,n);if(r)return r}}}),e.registerHelper("fold","auto",function(e,t){for(var n=e.getHelpers(t,"fold"),i=0;i<n.length;i++){var r=n[i](e,t);if(r)return r}});var r={rangeFinder:e.fold.auto,widget:"â†”",minFoldSize:0,scanUp:!1,clearOnEnter:!0};e.defineOption("foldOptions",null),e.defineExtension("foldOption",function(e,t){return i(this,e,t)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("./foldcode")):"function"==typeof define&&define.amd?define("codemirror/addon/fold/foldgutter",["../../lib/codemirror","./foldcode"],e):e(CodeMirror)}(function(e){"use strict";function t(e){this.options=e,this.from=this.to=0}function n(e){return e===!0&&(e={}),null==e.gutter&&(e.gutter="CodeMirror-foldgutter"),null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open"),null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded"),e}function i(e,t){for(var n=e.findMarks(d(t,0),d(t+1,0)),i=0;i<n.length;++i)if(n[i].__isFold&&n[i].find().from.line==t)return n[i]}function r(e){if("string"==typeof e){var t=document.createElement("div");return t.className=e+" CodeMirror-guttermarker-subtle",t}return e.cloneNode(!0)}function o(e,t,n){var o=e.state.foldGutter.options,s=t,a=e.foldOption(o,"minFoldSize"),l=e.foldOption(o,"rangeFinder");e.eachLine(t,n,function(t){var n=null;if(i(e,s))n=r(o.indicatorFolded);else{var c=d(s,0),u=l&&l(e,c);u&&u.to.line-u.from.line>=a&&(n=r(o.indicatorOpen))}e.setGutterMarker(t,o.gutter,n),++s})}function s(e){var t=e.getViewport(),n=e.state.foldGutter;n&&(e.operation(function(){o(e,t.from,t.to)}),n.from=t.from,n.to=t.to)}function a(e,t,n){var r=e.state.foldGutter;if(r){var o=r.options;if(n==o.gutter){var s=i(e,t);s?s.clear():e.foldCode(d(t,0),o.rangeFinder)}}}function l(e){var t=e.state.foldGutter;if(t){var n=t.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){s(e)},n.foldOnChangeTimeSpan||600)}}function c(e){var t=e.state.foldGutter;if(t){var n=t.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){var n=e.getViewport();t.from==t.to||n.from-t.to>20||t.from-n.to>20?s(e):e.operation(function(){n.from<t.from&&(o(e,n.from,t.from),t.from=n.from),n.to>t.to&&(o(e,t.to,n.to),t.to=n.to)})},n.updateViewportTimeSpan||400)}}function u(e,t){var n=e.state.foldGutter;if(n){var i=t.line;i>=n.from&&i<n.to&&o(e,i,i+1)}}e.defineOption("foldGutter",!1,function(i,r,o){o&&o!=e.Init&&(i.clearGutter(i.state.foldGutter.options.gutter),i.state.foldGutter=null,i.off("gutterClick",a),i.off("change",l),i.off("viewportChange",c),i.off("fold",u),i.off("unfold",u),i.off("swapDoc",l)),r&&(i.state.foldGutter=new t(n(r)),s(i),i.on("gutterClick",a),i.on("change",l),i.on("viewportChange",c),i.on("fold",u),i.on("unfold",u),i.on("swapDoc",l))});var d=e.Pos}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/addon/fold/brace-fold",["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerHelper("fold","brace",function(t,n){function i(i){for(var a=n.ch,l=0;;){var c=a<=0?-1:s.lastIndexOf(i,a-1);if(c!=-1){if(1==l&&c<n.ch)break;if(r=t.getTokenTypeAt(e.Pos(o,c+1)),!/^(comment|string)/.test(r))return c+1;a=c-1}else{if(1==l)break;l=1,a=s.length}}}var r,o=n.line,s=t.getLine(o),a="{",l="}",c=i("{");if(null==c&&(a="[",l="]",c=i("[")),null!=c){var u,d,h=1,p=t.lastLine();e:for(var f=o;f<=p;++f)for(var m=t.getLine(f),g=f==o?c:0;;){var v=m.indexOf(a,g),b=m.indexOf(l,g);if(v<0&&(v=m.length),b<0&&(b=m.length),g=Math.min(v,b),g==m.length)break;if(t.getTokenTypeAt(e.Pos(f,g+1))==r)if(g==v)++h;else if(!--h){u=f,d=g;break e}++g}if(null!=u&&(o!=u||d!=c))return{from:e.Pos(o,c),to:e.Pos(u,d)}}}),e.registerHelper("fold","import",function(t,n){function i(n){if(n<t.firstLine()||n>t.lastLine())return null;var i=t.getTokenAt(e.Pos(n,1));if(/\S/.test(i.string)||(i=t.getTokenAt(e.Pos(n,i.end+1))),"keyword"!=i.type||"import"!=i.string)return null;for(var r=n,o=Math.min(t.lastLine(),n+10);r<=o;++r){var s=t.getLine(r),a=s.indexOf(";");if(a!=-1)return{startCh:i.end,end:e.Pos(r,a)}}}var r,o=n.line,s=i(o);if(!s||i(o-1)||(r=i(o-2))&&r.end.line==o-1)return null;for(var a=s.end;;){var l=i(a.line+1);if(null==l)break;a=l.end}return{from:t.clipPos(e.Pos(o,s.startCh+1)),to:a}}),e.registerHelper("fold","include",function(t,n){function i(n){if(n<t.firstLine()||n>t.lastLine())return null;var i=t.getTokenAt(e.Pos(n,1));return/\S/.test(i.string)||(i=t.getTokenAt(e.Pos(n,i.end+1))),"meta"==i.type&&"#include"==i.string.slice(0,8)?i.start+8:void 0}var r=n.line,o=i(r);if(null==o||null!=i(r-1))return null;for(var s=r;;){var a=i(s+1);if(null==a)break;++s}return{from:e.Pos(r,o+1),to:t.clipPos(e.Pos(s))}})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/addon/fold/xml-fold",["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){return e.line-t.line||e.ch-t.ch}function n(e,t,n,i){this.line=t,this.ch=n,this.cm=e,this.text=e.getLine(t),this.min=i?Math.max(i.from,e.firstLine()):e.firstLine(),this.max=i?Math.min(i.to-1,e.lastLine()):e.lastLine()}function i(e,t){var n=e.cm.getTokenTypeAt(h(e.line,t));return n&&/\btag\b/.test(n)}function r(e){if(!(e.line>=e.max))return e.ch=0,e.text=e.cm.getLine(++e.line),!0}function o(e){if(!(e.line<=e.min))return e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0}function s(e){for(;;){var t=e.text.indexOf(">",e.ch);if(t==-1){if(r(e))continue;return}{if(i(e,t+1)){var n=e.text.lastIndexOf("/",t),o=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,o?"selfClose":"regular"}e.ch=t+1}}}function a(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(t==-1){if(o(e))continue;return}if(i(e,t+1)){m.lastIndex=t,e.ch=t;var n=m.exec(e.text);if(n&&n.index==t)return n}else e.ch=t}}function l(e){for(;;){m.lastIndex=e.ch;var t=m.exec(e.text);if(!t){if(r(e))continue;return}{if(i(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1}}}function c(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(t==-1){if(o(e))continue;return}{if(i(e,t+1)){var n=e.text.lastIndexOf("/",t),r=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,r?"selfClose":"regular"}e.ch=t}}}function u(e,t){for(var n=[];;){var i,r=l(e),o=e.line,a=e.ch-(r?r[0].length:0);if(!r||!(i=s(e)))return;if("selfClose"!=i)if(r[1]){for(var c=n.length-1;c>=0;--c)if(n[c]==r[2]){n.length=c;break}if(c<0&&(!t||t==r[2]))return{tag:r[2],from:h(o,a),to:h(e.line,e.ch)}}else n.push(r[2])}}function d(e,t){for(var n=[];;){var i=c(e);if(!i)return;if("selfClose"!=i){var r=e.line,o=e.ch,s=a(e);if(!s)return;if(s[1])n.push(s[2]);else{for(var l=n.length-1;l>=0;--l)if(n[l]==s[2]){n.length=l;break}if(l<0&&(!t||t==s[2]))return{tag:s[2],from:h(e.line,e.ch),to:h(r,o)}}}else a(e)}}var h=e.Pos,p="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",f=p+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",m=new RegExp("<(/?)(["+p+"]["+f+"]*)","g");e.registerHelper("fold","xml",function(e,t){for(var i=new n(e,t.line,0);;){var r,o=l(i);if(!o||i.line!=t.line||!(r=s(i)))return;if(!o[1]&&"selfClose"!=r){var a=h(i.line,i.ch),c=u(i,o[2]);return c&&{from:a,to:c.from}}}}),e.findMatchingTag=function(e,i,r){var o=new n(e,i.line,i.ch,r);if(o.text.indexOf(">")!=-1||o.text.indexOf("<")!=-1){var l=s(o),c=l&&h(o.line,o.ch),p=l&&a(o);if(l&&p&&!(t(o,i)>0)){var f={from:h(o.line,o.ch),to:c,tag:p[2]};return"selfClose"==l?{open:f,close:null,at:"open"}:p[1]?{open:d(o,p[2]),close:f,at:"close"}:(o=new n(e,c.line,c.ch,r),{open:f,close:u(o,p[2]),at:"open"})}}},e.findEnclosingTag=function(e,t,i){for(var r=new n(e,t.line,t.ch,i);;){var o=d(r);if(!o)break;var s=new n(e,t.line,t.ch,i),a=u(s,o.tag);if(a)return{open:o,close:a}}},e.scanForClosingTag=function(e,t,i,r){var o=new n(e,t.line,t.ch,r?{from:0,to:r}:null);return u(o,i)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/addon/fold/comment-fold",["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerGlobalHelper("fold","comment",function(e){return e.blockCommentStart&&e.blockCommentEnd},function(t,n){var i=t.getModeAt(n),r=i.blockCommentStart,o=i.blockCommentEnd;if(r&&o){for(var s,a=n.line,l=t.getLine(a),c=n.ch,u=0;;){var d=c<=0?-1:l.lastIndexOf(r,c-1);if(d!=-1){if(1==u&&d<n.ch)return;if(/comment/.test(t.getTokenTypeAt(e.Pos(a,d+1)))&&(0==d||l.slice(d-o.length,d)==o||!/comment/.test(t.getTokenTypeAt(e.Pos(a,d))))){s=d+r.length;break}c=d-1}else{if(1==u)return;u=1,c=l.length}}var h,p,f=1,m=t.lastLine();e:for(var g=a;g<=m;++g)for(var v=t.getLine(g),b=g==a?s:0;;){var y=v.indexOf(r,b),_=v.indexOf(o,b);if(y<0&&(y=v.length),_<0&&(_=v.length),b=Math.min(y,_),b==v.length)break;if(b==y)++f;else if(!--f){h=g,p=b;break e}++b}if(null!=h&&(a!=h||p!=s))return{from:e.Pos(a,s),to:e.Pos(h,p)}}})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/addon/fold/indent-fold",["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerHelper("fold","indent",function(t,n){var i=t.getOption("tabSize"),r=t.getLine(n.line);if(/\S/.test(r)){for(var o=function(t){return e.countColumn(t,null,i)},s=o(r),a=null,l=n.line+1,c=t.lastLine();l<=c;++l){var u=t.getLine(l),d=o(u);if(d>s)a=l;else if(/\S/.test(u))break}return a?{from:e.Pos(n.line,r.length),to:e.Pos(a,t.getLine(a).length)}:void 0}})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/addon/hint/show-hint",["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var n=this;e.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}function n(t,n){var i=e.cmpPos(n.from,t.from);return i>0&&t.to.ch-t.from.ch!=n.to.ch-n.from.ch}function i(e,t,n){var i=e.options.hintOptions,r={};for(var o in m)r[o]=m[o];if(i)for(var o in i)void 0!==i[o]&&(r[o]=i[o]);if(n)for(var o in n)void 0!==n[o]&&(r[o]=n[o]);return r.hint.resolve&&(r.hint=r.hint.resolve(e,t)),r}function r(e){return"string"==typeof e?e:e.text}function o(e,t){function n(e,n){var r;r="string"!=typeof n?function(e){return n(e,t)}:i.hasOwnProperty(n)?i[n]:n,o[e]=r}var i={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(-t.menuSize()+1,!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close},r=e.options.customKeys,o=r?{}:i;if(r)for(var s in r)r.hasOwnProperty(s)&&n(s,r[s]);var a=e.options.extraKeys;if(a)for(var s in a)a.hasOwnProperty(s)&&n(s,a[s]);return o}function s(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function a(t,n){this.completion=t,this.data=n,this.picked=!1;var i=this,a=t.cm,l=this.hints=document.createElement("ul");l.className="CodeMirror-hints",this.selectedHint=n.selectedHint||0;for(var c=n.list,u=0;u<c.length;++u){var p=l.appendChild(document.createElement("li")),f=c[u],m=d+(u!=this.selectedHint?"":" "+h);null!=f.className&&(m=f.className+" "+m),p.className=m,f.render?f.render(p,n,f):p.appendChild(document.createTextNode(f.displayText||r(f))),p.hintId=u}var g=a.cursorCoords(t.options.alignWithWord?n.from:null),v=g.left,b=g.bottom,y=!0;l.style.left=v+"px",l.style.top=b+"px";var _=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),x=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(t.options.container||document.body).appendChild(l);var w=l.getBoundingClientRect(),k=w.bottom-x,C=l.scrollHeight>l.clientHeight+1,S=a.getScrollInfo();if(k>0){var T=w.bottom-w.top,M=g.top-(g.bottom-w.top);if(M-T>0)l.style.top=(b=g.top-T)+"px",y=!1;else if(T>x){l.style.height=x-5+"px",l.style.top=(b=g.bottom-w.top)+"px";var D=a.getCursor();n.from.ch!=D.ch&&(g=a.cursorCoords(D),l.style.left=(v=g.left)+"px",w=l.getBoundingClientRect())}}var A=w.right-_;if(A>0&&(w.right-w.left>_&&(l.style.width=_-5+"px",A-=w.right-w.left-_),l.style.left=(v=g.left-A)+"px"),C)for(var E=l.firstChild;E;E=E.nextSibling)E.style.paddingRight=a.display.nativeBarWidth+"px";if(a.addKeyMap(this.keyMap=o(t,{moveFocus:function(e,t){i.changeActive(i.selectedHint+e,t)},setFocus:function(e){i.changeActive(e)},menuSize:function(){return i.screenAmount()},length:c.length,close:function(){t.close()},pick:function(){i.pick()},data:n})),t.options.closeOnUnfocus){var O;a.on("blur",this.onBlur=function(){O=setTimeout(function(){t.close()},100)}),a.on("focus",this.onFocus=function(){clearTimeout(O)})}return a.on("scroll",this.onScroll=function(){var e=a.getScrollInfo(),n=a.getWrapperElement().getBoundingClientRect(),i=b+S.top-e.top,r=i-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return y||(r+=l.offsetHeight),r<=n.top||r>=n.bottom?t.close():(l.style.top=i+"px",void(l.style.left=v+S.left-e.left+"px"))}),e.on(l,"dblclick",function(e){var t=s(l,e.target||e.srcElement);t&&null!=t.hintId&&(i.changeActive(t.hintId),i.pick())}),e.on(l,"click",function(e){var n=s(l,e.target||e.srcElement);n&&null!=n.hintId&&(i.changeActive(n.hintId),t.options.completeOnSingleClick&&i.pick())}),e.on(l,"mousedown",function(){setTimeout(function(){a.focus()},20)}),e.signal(n,"select",c[0],l.firstChild),!0}function l(e,t){if(!e.somethingSelected())return t;for(var n=[],i=0;i<t.length;i++)t[i].supportsSelection&&n.push(t[i]);return n}function c(e,t,n,i){if(e.async)e(t,i,n);else{var r=e(t,n);r&&r.then?r.then(i):i(r)}}function u(t,n){var i,r=t.getHelpers(n,"hint");if(r.length){var o=function(e,t,n){function i(r){return r==o.length?t(null):void c(o[r],e,n,function(e){e&&e.list.length>0?t(e):i(r+1)})}var o=l(e,r);i(0)};return o.async=!0,o.supportsSelection=!0,o}return(i=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:i})}:e.hint.anyword?function(t,n){return e.hint.anyword(t,n)}:function(){}}var d="CodeMirror-hint",h="CodeMirror-hint-active";e.showHint=function(e,t,n){if(!t)return e.showHint(n);n&&n.async&&(t.async=!0);var i={hint:t};if(n)for(var r in n)i[r]=n[r];return e.showHint(i)},e.defineExtension("showHint",function(n){n=i(this,this.getCursor("start"),n);var r=this.listSelections();if(!(r.length>1)){if(this.somethingSelected()){if(!n.hint.supportsSelection)return;for(var o=0;o<r.length;o++)if(r[o].head.line!=r[o].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var s=this.state.completionActive=new t(this,n);s.options.hint&&(e.signal(this,"startCompletion",this),s.update(!0))}});var p=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},f=window.cancelAnimationFrame||clearTimeout;t.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,n){var i=t.list[n];i.hint?i.hint(this.cm,t,i):this.cm.replaceRange(r(i),i.from||t.from,i.to||t.to,"complete"),e.signal(t,"pick",i),this.close()},cursorActivity:function(){this.debounce&&(f(this.debounce),this.debounce=0);var e=this.cm.getCursor(),t=this.cm.getLine(e.line);if(e.line!=this.startPos.line||t.length-e.ch!=this.startLen-this.startPos.ch||e.ch<this.startPos.ch||this.cm.somethingSelected()||e.ch&&this.options.closeCharacters.test(t.charAt(e.ch-1)))this.close();else{var n=this;this.debounce=p(function(){n.update()}),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,n=++this.tick;c(this.options.hint,this.cm,this.options,function(i){t.tick==n&&t.finishUpdate(i,e)})}},finishUpdate:function(t,i){this.data&&e.signal(this.data,"update");var r=this.widget&&this.widget.picked||i&&this.options.completeSingle;this.widget&&this.widget.close(),t&&this.data&&n(this.data,t)||(this.data=t,t&&t.list.length&&(r&&1==t.list.length?this.pick(t,0):(this.widget=new a(this,t),e.signal(t,"shown"))))}},a.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,n){if(t>=this.data.list.length?t=n?this.data.list.length-1:0:t<0&&(t=n?0:this.data.list.length-1),this.selectedHint!=t){var i=this.hints.childNodes[this.selectedHint];i.className=i.className.replace(" "+h,""),i=this.hints.childNodes[this.selectedHint=t],i.className+=" "+h,i.offsetTop<this.hints.scrollTop?this.hints.scrollTop=i.offsetTop-3:i.offsetTop+i.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=i.offsetTop+i.offsetHeight-this.hints.clientHeight+3),e.signal(this.data,"select",this.data.list[this.selectedHint],i)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},e.registerHelper("hint","auto",{resolve:u}),e.registerHelper("hint","fromList",function(t,n){var i=t.getCursor(),r=t.getTokenAt(i),o=e.Pos(i.line,r.end);
if(r.string&&/\w/.test(r.string[r.string.length-1]))var s=r.string,a=e.Pos(i.line,r.start);else var s="",a=o;for(var l=[],c=0;c<n.words.length;c++){var u=n.words[c];u.slice(0,s.length)==s&&l.push(u)}if(l.length)return{list:l,from:a,to:o}}),e.commands.autocomplete=e.showHint;var m={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};e.defineOption("hintOptions",null)}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/addon/runmode/runmode",["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.runMode=function(t,n,i,r){var o=e.getMode(e.defaults,n),s=/MSIE \d/.test(navigator.userAgent),a=s&&(null==document.documentMode||document.documentMode<9);if(i.appendChild){var l=r&&r.tabSize||e.defaults.tabSize,c=i,u=0;c.innerHTML="",i=function(e,t){if("\n"==e)return c.appendChild(document.createTextNode(a?"\r":e)),void(u=0);for(var n="",i=0;;){var r=e.indexOf("\t",i);if(r==-1){n+=e.slice(i),u+=e.length-i;break}u+=r-i,n+=e.slice(i,r);var o=l-u%l;u+=o;for(var s=0;s<o;++s)n+=" ";i=r+1}if(t){var d=c.appendChild(document.createElement("span"));d.className="cm-"+t.replace(/ +/g," cm-"),d.appendChild(document.createTextNode(n))}else c.appendChild(document.createTextNode(n))}}for(var d=e.splitLines(t),h=r&&r.state||e.startState(o),p=0,f=d.length;p<f;++p){p&&i("\n");var m=new e.StringStream(d[p]);for(!m.string&&o.blankLine&&o.blankLine(h);!m.eol();){var g=o.token(m,h);i(m.current(),g,p,m.start,h),m.start=m.pos}}}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("./runmode")):"function"==typeof define&&define.amd?define("codemirror/addon/runmode/colorize",["../../lib/codemirror","./runmode"],e):e(CodeMirror)}(function(e){"use strict";function t(e,i){if(3==e.nodeType)return i.push(e.nodeValue);for(var r=e.firstChild;r;r=r.nextSibling)t(r,i),n.test(e.nodeType)&&i.push("\n")}var n=/^(p|li|div|h\\d|pre|blockquote|td)$/;e.colorize=function(n,i){n||(n=document.body.getElementsByTagName("pre"));for(var r=0;r<n.length;++r){var o=n[r],s=o.getAttribute("data-lang")||i;if(s){var a=[];t(o,a),o.innerHTML="",e.runMode(a.join(""),s,o),o.className+=" cm-s-default"}}}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/mode/css/css",["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}function n(e,t){for(var n,i=!1;null!=(n=e.next());){if(i&&"/"==n){t.tokenize=null;break}i="*"==n}return["comment","comment"]}e.defineMode("css",function(t,n){function i(e,t){return f=t,e}function r(e,t){var n=e.next();if(v[n]){var r=v[n](e,t);if(r!==!1)return r}return"@"==n?(e.eatWhile(/[\w\\\-]/),i("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?i(null,"compare"):'"'==n||"'"==n?(t.tokenize=o(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),i("atom","hash")):"!"==n?(e.match(/^\s*\w*/),i("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),i("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?i(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?i("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?i(null,n):"u"==n&&e.match(/rl(-prefix)?\(/)||"d"==n&&e.match("omain(")||"r"==n&&e.match("egexp(")?(e.backUp(1),t.tokenize=s,i("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),i("property","word")):i(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),i("number","unit")):e.match(/^-[\w\\\-]+/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?i("variable-2","variable-definition"):i("variable-2","variable")):e.match(/^\w+-/)?i("meta","meta"):void 0}function o(e){return function(t,n){for(var r,o=!1;null!=(r=t.next());){if(r==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==r}return(r==e||!o&&")"!=e)&&(n.tokenize=null),i("string","string")}}function s(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=o(")"),i(null,"(")}function a(e,t,n){this.type=e,this.indent=t,this.prev=n}function l(e,t,n,i){return e.context=new a(n,t.indentation()+(i===!1?0:g),e.context),n}function c(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function u(e,t,n){return E[n.context.type](e,t,n)}function d(e,t,n,i){for(var r=i||1;r>0;r--)n.context=n.context.prev;return u(e,t,n)}function h(e){var t=e.current().toLowerCase();m=M.hasOwnProperty(t)?"atom":T.hasOwnProperty(t)?"keyword":"variable"}var p=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var f,m,g=t.indentUnit,v=n.tokenHooks,b=n.documentTypes||{},y=n.mediaTypes||{},_=n.mediaFeatures||{},x=n.mediaValueKeywords||{},w=n.propertyKeywords||{},k=n.nonStandardPropertyKeywords||{},C=n.fontProperties||{},S=n.counterDescriptors||{},T=n.colorKeywords||{},M=n.valueKeywords||{},D=n.allowNested,A=n.supportsAtComponent===!0,E={};return E.top=function(e,t,n){if("{"==e)return l(n,t,"block");if("}"==e&&n.context.prev)return c(n);if(A&&/@component/.test(e))return l(n,t,"atComponentBlock");if(/^@(-moz-)?document$/.test(e))return l(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/.test(e))return l(n,t,"atBlock");if(/^@(font-face|counter-style)/.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return l(n,t,"at");if("hash"==e)m="builtin";else if("word"==e)m="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return l(n,t,"interpolation");if(":"==e)return"pseudo";if(D&&"("==e)return l(n,t,"parens")}return n.context.type},E.block=function(e,t,n){if("word"==e){var i=t.current().toLowerCase();return w.hasOwnProperty(i)?(m="property","maybeprop"):k.hasOwnProperty(i)?(m="string-2","maybeprop"):D?(m=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(m+=" error","maybeprop")}return"meta"==e?"block":D||"hash"!=e&&"qualifier"!=e?E.top(e,t,n):(m="error","block")},E.maybeprop=function(e,t,n){return":"==e?l(n,t,"prop"):u(e,t,n)},E.prop=function(e,t,n){if(";"==e)return c(n);if("{"==e&&D)return l(n,t,"propBlock");if("}"==e||"{"==e)return d(e,t,n);if("("==e)return l(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)h(t);else if("interpolation"==e)return l(n,t,"interpolation")}else m+=" error";return"prop"},E.propBlock=function(e,t,n){return"}"==e?c(n):"word"==e?(m="property","maybeprop"):n.context.type},E.parens=function(e,t,n){return"{"==e||"}"==e?d(e,t,n):")"==e?c(n):"("==e?l(n,t,"parens"):"interpolation"==e?l(n,t,"interpolation"):("word"==e&&h(t),"parens")},E.pseudo=function(e,t,n){return"word"==e?(m="variable-3",n.context.type):u(e,t,n)},E.documentTypes=function(e,t,n){return"word"==e&&b.hasOwnProperty(t.current())?(m="tag",n.context.type):E.atBlock(e,t,n)},E.atBlock=function(e,t,n){if("("==e)return l(n,t,"atBlock_parens");if("}"==e||";"==e)return d(e,t,n);if("{"==e)return c(n)&&l(n,t,D?"block":"top");if("interpolation"==e)return l(n,t,"interpolation");if("word"==e){var i=t.current().toLowerCase();m="only"==i||"not"==i||"and"==i||"or"==i?"keyword":y.hasOwnProperty(i)?"attribute":_.hasOwnProperty(i)?"property":x.hasOwnProperty(i)?"keyword":w.hasOwnProperty(i)?"property":k.hasOwnProperty(i)?"string-2":M.hasOwnProperty(i)?"atom":T.hasOwnProperty(i)?"keyword":"error"}return n.context.type},E.atComponentBlock=function(e,t,n){return"}"==e?d(e,t,n):"{"==e?c(n)&&l(n,t,D?"block":"top",!1):("word"==e&&(m="error"),n.context.type)},E.atBlock_parens=function(e,t,n){return")"==e?c(n):"{"==e||"}"==e?d(e,t,n,2):E.atBlock(e,t,n)},E.restricted_atBlock_before=function(e,t,n){return"{"==e?l(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(m="variable","restricted_atBlock_before"):u(e,t,n)},E.restricted_atBlock=function(e,t,n){return"}"==e?(n.stateArg=null,c(n)):"word"==e?(m="@font-face"==n.stateArg&&!C.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!S.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},E.keyframes=function(e,t,n){return"word"==e?(m="variable","keyframes"):"{"==e?l(n,t,"top"):u(e,t,n)},E.at=function(e,t,n){return";"==e?c(n):"{"==e||"}"==e?d(e,t,n):("word"==e?m="tag":"hash"==e&&(m="builtin"),"at")},E.interpolation=function(e,t,n){return"}"==e?c(n):"{"==e||";"==e?d(e,t,n):("word"==e?m="variable":"variable"!=e&&"("!=e&&")"!=e&&(m="error"),"interpolation")},{startState:function(e){return{tokenize:null,state:p?"block":"top",stateArg:null,context:new a(p?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||r)(e,t);return n&&"object"==typeof n&&(f=n[1],n=n[0]),m=n,t.state=E[t.state](f,e,t),m},indent:function(e,t){var n=e.context,i=t&&t.charAt(0),r=n.indent;return"prop"!=n.type||"}"!=i&&")"!=i||(n=n.prev),n.prev&&("}"!=i||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=i||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=i||"at"!=n.type&&"atBlock"!=n.type)||(r=Math.max(0,n.indent-g),n=n.prev):(n=n.prev,r=n.indent)),r},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var i=["domain","regexp","url","url-prefix"],r=t(i),o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],s=t(o),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],l=t(a),c=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],u=t(c),d=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],h=t(d),p=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],f=t(p),m=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],g=t(m),v=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],b=t(v),y=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],_=t(y),x=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],w=t(x),k=i.concat(o).concat(a).concat(c).concat(d).concat(p).concat(y).concat(x);e.registerHelper("hintWords","css",k),e.defineMIME("text/css",{documentTypes:r,mediaTypes:s,mediaFeatures:l,mediaValueKeywords:u,propertyKeywords:h,nonStandardPropertyKeywords:f,fontProperties:g,counterDescriptors:b,colorKeywords:_,valueKeywords:w,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=n,n(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:s,mediaFeatures:l,mediaValueKeywords:u,propertyKeywords:h,nonStandardPropertyKeywords:f,colorKeywords:_,valueKeywords:w,fontProperties:g,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/)&&[null,"{"]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:s,mediaFeatures:l,mediaValueKeywords:u,propertyKeywords:h,nonStandardPropertyKeywords:f,colorKeywords:_,valueKeywords:w,fontProperties:g,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:r,mediaTypes:s,mediaFeatures:l,propertyKeywords:h,nonStandardPropertyKeywords:f,fontProperties:g,counterDescriptors:b,colorKeywords:_,valueKeywords:w,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=n,n(e,t))}},name:"css",helperType:"gss"})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/mode/xml/xml",["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};e.defineMode("xml",function(i,r){function o(e,t){function n(n){return t.tokenize=n,n(e,t)}var i=e.next();if("<"==i)return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(l("atom","]]>")):null:e.match("--")?n(l("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(c(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=l("meta","?>"),"meta"):(T=e.eat("/")?"closeTag":"openTag",t.tokenize=s,"tag bracket");if("&"==i){var r;return r=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),r?"atom":"error"}return e.eatWhile(/[^&<]/),null}function s(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=o,T=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return T="equals",null;if("<"==n){t.tokenize=o,t.state=p,t.tagName=t.tagStart=null;var i=t.tokenize(e,t);return i?i+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=a(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function a(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=s;break}return"string"};return t.isInAttribute=!0,t}function l(e,t){return function(n,i){for(;!n.eol();){if(n.match(t)){i.tokenize=o;break}n.next()}return e}}function c(e){return function(t,n){for(var i;null!=(i=t.next());){if("<"==i)return n.tokenize=c(e+1),n.tokenize(t,n);if(">"==i){if(1==e){n.tokenize=o;break}return n.tokenize=c(e-1),n.tokenize(t,n)}}return"meta"}}function u(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(k.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function d(e){e.context&&(e.context=e.context.prev)}function h(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!k.contextGrabbers.hasOwnProperty(n)||!k.contextGrabbers[n].hasOwnProperty(t))return;d(e)}}function p(e,t,n){return"openTag"==e?(n.tagStart=t.column(),f):"closeTag"==e?m:p}function f(e,t,n){return"word"==e?(n.tagName=t.current(),M="tag",b):(M="error",f)}function m(e,t,n){if("word"==e){var i=t.current();return n.context&&n.context.tagName!=i&&k.implicitlyClosed.hasOwnProperty(n.context.tagName)&&d(n),n.context&&n.context.tagName==i||k.matchClosing===!1?(M="tag",g):(M="tag error",v)}return M="error",v}function g(e,t,n){return"endTag"!=e?(M="error",g):(d(n),p)}function v(e,t,n){return M="error",g(e,t,n)}function b(e,t,n){if("word"==e)return M="attribute",y;if("endTag"==e||"selfcloseTag"==e){var i=n.tagName,r=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||k.autoSelfClosers.hasOwnProperty(i)?h(n,i):(h(n,i),n.context=new u(n,i,r==n.indented)),p}return M="error",b}function y(e,t,n){return"equals"==e?_:(k.allowMissing||(M="error"),b(e,t,n))}function _(e,t,n){return"string"==e?x:"word"==e&&k.allowUnquoted?(M="string",b):(M="error",b(e,t,n))}function x(e,t,n){return"string"==e?x:b(e,t,n)}var w=i.indentUnit,k={},C=r.htmlMode?t:n;for(var S in C)k[S]=C[S];for(var S in r)k[S]=r[S];var T,M;return o.isInText=!0,{startState:function(e){var t={tokenize:o,state:p,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;T=null;var n=t.tokenize(e,t);return(n||T)&&"comment"!=n&&(M=null,t.state=t.state(T||n,e,t),M&&(n="error"==M?n+" error":M)),n},indent:function(t,n,i){var r=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+w;if(r&&r.noIndent)return e.Pass;if(t.tokenize!=s&&t.tokenize!=o)return i?i.match(/^(\s*)/)[0].length:0;if(t.tagName)return k.multilineTagIndentPastTag!==!1?t.tagStart+t.tagName.length+2:t.tagStart+w*(k.multilineTagIndentFactor||1);if(k.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var a=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(a&&a[1])for(;r;){if(r.tagName==a[2]){r=r.prev;break;
}if(!k.implicitlyClosed.hasOwnProperty(r.tagName))break;r=r.prev}else if(a)for(;r;){var l=k.contextGrabbers[r.tagName];if(!l||!l.hasOwnProperty(a[2]))break;r=r.prev}for(;r&&r.prev&&!r.startOfLine;)r=r.prev;return r?r.indent+w:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:k.htmlMode?"html":"xml",helperType:k.htmlMode?"html":"xml",skipAttribute:function(e){e.state==_&&(e.state=b)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/mode/javascript/javascript",["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,n){return/^(?:operator|sof|keyword c|case|new|export|default|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}e.defineMode("javascript",function(n,i){function r(e){for(var t,n=!1,i=!1;null!=(t=e.next());){if(!n){if("/"==t&&!i)return;"["==t?i=!0:i&&"]"==t&&(i=!1)}n=!n&&"\\"==t}}function o(e,t,n){return Se=e,Te=n,t}function s(e,n){var i=e.next();if('"'==i||"'"==i)return n.tokenize=a(i),n.tokenize(e,n);if("."==i&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return o("number","number");if("."==i&&e.match(".."))return o("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(i))return o(i);if("="==i&&e.eat(">"))return o("=>","operator");if("0"==i&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),o("number","number");if("0"==i&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),o("number","number");if("0"==i&&e.eat(/b/i))return e.eatWhile(/[01]/i),o("number","number");if(/\d/.test(i))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),o("number","number");if("/"==i)return e.eat("*")?(n.tokenize=l,l(e,n)):e.eat("/")?(e.skipToEnd(),o("comment","comment")):t(e,n,1)?(r(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),o("regexp","string-2")):(e.eatWhile(Ne),o("operator","operator",e.current()));if("`"==i)return n.tokenize=c,c(e,n);if("#"==i)return e.skipToEnd(),o("error","error");if(Ne.test(i))return">"==i&&n.lexical&&">"==n.lexical.type||e.eatWhile(Ne),o("operator","operator",e.current());if(je.test(i)){e.eatWhile(je);var s=e.current(),u=Le.propertyIsEnumerable(s)&&Le[s];return u&&"."!=n.lastType?o(u.type,u.style,s):o("variable","variable",s)}}function a(e){return function(t,n){var i,r=!1;if(Ae&&"@"==t.peek()&&t.match(Ie))return n.tokenize=s,o("jsonld-keyword","meta");for(;null!=(i=t.next())&&(i!=e||r);)r=!r&&"\\"==i;return r||(n.tokenize=s),o("string","string")}}function l(e,t){for(var n,i=!1;n=e.next();){if("/"==n&&i){t.tokenize=s;break}i="*"==n}return o("comment","comment")}function c(e,t){for(var n,i=!1;null!=(n=e.next());){if(!i&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=s;break}i=!i&&"\\"==n}return o("quasi","string-2",e.current())}function u(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(Oe){var i=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));i&&(n=i.index)}for(var r=0,o=!1,s=n-1;s>=0;--s){var a=e.string.charAt(s),l=Pe.indexOf(a);if(l>=0&&l<3){if(!r){++s;break}if(0==--r){"("==a&&(o=!0);break}}else if(l>=3&&l<6)++r;else if(je.test(a))o=!0;else{if(/["'\/]/.test(a))return;if(o&&!r){++s;break}}}o&&!r&&(t.fatArrowAt=s)}}function d(e,t,n,i,r,o){this.indented=e,this.column=t,this.type=n,this.prev=r,this.info=o,null!=i&&(this.align=i)}function h(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var i=e.context;i;i=i.prev)for(var n=i.vars;n;n=n.next)if(n.name==t)return!0}function p(e,t,n,i,r){var o=e.cc;for(Fe.state=e,Fe.stream=r,Fe.marked=null,Fe.cc=o,Fe.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var s=o.length?o.pop():Ee?k:w;if(s(n,i)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Fe.marked?Fe.marked:"variable"==n&&h(e,i)?"variable-2":t}}}function f(){for(var e=arguments.length-1;e>=0;e--)Fe.cc.push(arguments[e])}function m(){return f.apply(null,arguments),!0}function g(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var n=Fe.state;if(Fe.marked="def",n.context){if(t(n.localVars))return;n.localVars={name:e,next:n.localVars}}else{if(t(n.globalVars))return;i.globalVars&&(n.globalVars={name:e,next:n.globalVars})}}function v(){Fe.state.context={prev:Fe.state.context,vars:Fe.state.localVars},Fe.state.localVars=He}function b(){Fe.state.localVars=Fe.state.context.vars,Fe.state.context=Fe.state.context.prev}function y(e,t){var n=function(){var n=Fe.state,i=n.indented;if("stat"==n.lexical.type)i=n.lexical.indented;else for(var r=n.lexical;r&&")"==r.type&&r.align;r=r.prev)i=r.indented;n.lexical=new d(i,Fe.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function _(){var e=Fe.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function x(e){function t(n){return n==e?m():";"==e?f():m(t)}return t}function w(e,t){return"var"==e?m(y("vardef",t.length),Q,x(";"),_):"keyword a"==e?m(y("form"),S,w,_):"keyword b"==e?m(y("form"),w,_):"{"==e?m(y("}"),$,_):";"==e?m():"if"==e?("else"==Fe.state.lexical.info&&Fe.state.cc[Fe.state.cc.length-1]==_&&Fe.state.cc.pop()(),m(y("form"),S,w,_,ie)):"function"==e?m(ce):"for"==e?m(y("form"),re,w,_):"variable"==e?m(y("stat"),F):"switch"==e?m(y("form"),S,y("}","switch"),x("{"),$,_,_):"case"==e?m(k,x(":")):"default"==e?m(x(":")):"catch"==e?m(y("form"),v,x("("),ue,x(")"),w,_,b):"class"==e?m(y("form"),he,_):"export"==e?m(y("stat"),ge,_):"import"==e?m(y("stat"),be,_):"module"==e?m(y("form"),Z,y("}"),x("{"),$,_,_):"type"==e?m(J,x("operator"),J,x(";")):"async"==e?m(w):f(y("stat"),k,x(";"),_)}function k(e){return T(e,!1)}function C(e){return T(e,!0)}function S(e){return"("!=e?f():m(y(")"),k,x(")"),_)}function T(e,t){if(Fe.state.fatArrowAt==Fe.stream.start){var n=t?N:L;if("("==e)return m(v,y(")"),B(Z,")"),_,x("=>"),n,b);if("variable"==e)return f(v,Z,x("=>"),n,b)}var i=t?E:A;return ze.hasOwnProperty(e)?m(i):"function"==e?m(ce,i):"class"==e?m(y("form"),de,_):"keyword c"==e||"async"==e?m(t?D:M):"("==e?m(y(")"),M,x(")"),_,i):"operator"==e||"spread"==e?m(t?C:k):"["==e?m(y("]"),ke,_,i):"{"==e?U(W,"}",null,i):"quasi"==e?f(O,i):"new"==e?m(I(t)):m()}function M(e){return e.match(/[;\}\)\],]/)?f():f(k)}function D(e){return e.match(/[;\}\)\],]/)?f():f(C)}function A(e,t){return","==e?m(k):E(e,t,!1)}function E(e,t,n){var i=0==n?A:E,r=0==n?k:C;return"=>"==e?m(v,n?N:L,b):"operator"==e?/\+\+|--/.test(t)?m(i):"?"==t?m(k,x(":"),r):m(r):"quasi"==e?f(O,i):";"!=e?"("==e?U(C,")","call",i):"."==e?m(H,i):"["==e?m(y("]"),M,x("]"),_,i):void 0:void 0}function O(e,t){return"quasi"!=e?f():"${"!=t.slice(t.length-2)?m(O):m(k,j)}function j(e){if("}"==e)return Fe.marked="string-2",Fe.state.tokenize=c,m(O)}function L(e){return u(Fe.stream,Fe.state),f("{"==e?w:k)}function N(e){return u(Fe.stream,Fe.state),f("{"==e?w:C)}function I(e){return function(t){return"."==t?m(e?z:P):f(e?C:k)}}function P(e,t){if("target"==t)return Fe.marked="keyword",m(A)}function z(e,t){if("target"==t)return Fe.marked="keyword",m(E)}function F(e){return":"==e?m(_,w):f(A,x(";"),_)}function H(e){if("variable"==e)return Fe.marked="property",m()}function W(e,t){return"async"==e?(Fe.marked="property",m(W)):"variable"==e||"keyword"==Fe.style?(Fe.marked="property",m("get"==t||"set"==t?R:q)):"number"==e||"string"==e?(Fe.marked=Ae?"property":Fe.style+" property",m(q)):"jsonld-keyword"==e?m(q):"modifier"==e?m(W):"["==e?m(k,x("]"),q):"spread"==e?m(k):":"==e?f(q):void 0}function R(e){return"variable"!=e?f(q):(Fe.marked="property",m(ce))}function q(e){return":"==e?m(C):"("==e?f(ce):void 0}function B(e,t){function n(i,r){if(","==i){var o=Fe.state.lexical;return"call"==o.info&&(o.pos=(o.pos||0)+1),m(function(n,i){return n==t||i==t?f():f(e)},n)}return i==t||r==t?m():m(x(t))}return function(i,r){return i==t||r==t?m():f(e,n)}}function U(e,t,n){for(var i=3;i<arguments.length;i++)Fe.cc.push(arguments[i]);return m(y(t,n),B(e,t),_)}function $(e){return"}"==e?m():f(w,$)}function Y(e,t){if(Oe){if(":"==e)return m(J);if("?"==t)return m(Y)}}function J(e){return"variable"==e?(Fe.marked="variable-3",m(X)):"string"==e||"number"==e||"atom"==e?m(X):"{"==e?m(B(G,"}")):"("==e?m(B(K,")"),V):void 0}function V(e){if("=>"==e)return m(J)}function G(e){return"variable"==e||"keyword"==Fe.style?(Fe.marked="property",m(G)):":"==e?m(J):void 0}function K(e){return"variable"==e?m(K):":"==e?m(J):void 0}function X(e,t){return"<"==t?m(y(">"),B(J,">"),_,X):"|"==t||"."==e?m(J):"["==e?m(x("]"),X):void 0}function Q(){return f(Z,Y,te,ne)}function Z(e,t){return"modifier"==e?m(Z):"variable"==e?(g(t),m()):"spread"==e?m(Z):"["==e?U(Z,"]"):"{"==e?U(ee,"}"):void 0}function ee(e,t){return"variable"!=e||Fe.stream.match(/^\s*:/,!1)?("variable"==e&&(Fe.marked="property"),"spread"==e?m(Z):"}"==e?f():m(x(":"),Z,te)):(g(t),m(te))}function te(e,t){if("="==t)return m(C)}function ne(e){if(","==e)return m(Q)}function ie(e,t){if("keyword b"==e&&"else"==t)return m(y("form","else"),w,_)}function re(e){if("("==e)return m(y(")"),oe,x(")"),_)}function oe(e){return"var"==e?m(Q,x(";"),ae):";"==e?m(ae):"variable"==e?m(se):f(k,x(";"),ae)}function se(e,t){return"in"==t||"of"==t?(Fe.marked="keyword",m(k)):m(A,ae)}function ae(e,t){return";"==e?m(le):"in"==t||"of"==t?(Fe.marked="keyword",m(k)):f(k,x(";"),le)}function le(e){")"!=e&&m(k)}function ce(e,t){return"*"==t?(Fe.marked="keyword",m(ce)):"variable"==e?(g(t),m(ce)):"("==e?m(v,y(")"),B(ue,")"),_,Y,w,b):void 0}function ue(e){return"spread"==e?m(ue):f(Z,Y,te)}function de(e,t){return"variable"==e?he(e,t):pe(e,t)}function he(e,t){if("variable"==e)return g(t),m(pe)}function pe(e,t){return"extends"==t||"implements"==t?m(Oe?J:k,pe):"{"==e?m(y("}"),fe,_):void 0}function fe(e,t){return"variable"==e||"keyword"==Fe.style?("static"==t||"get"==t||"set"==t||Oe&&("public"==t||"private"==t||"protected"==t||"readonly"==t||"abstract"==t))&&Fe.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(Fe.marked="keyword",m(fe)):(Fe.marked="property",m(Oe?me:ce,fe)):"*"==t?(Fe.marked="keyword",m(fe)):";"==e?m(fe):"}"==e?m():void 0}function me(e,t){return"?"==t?m(me):":"==e?m(J,te):f(ce)}function ge(e,t){return"*"==t?(Fe.marked="keyword",m(we,x(";"))):"default"==t?(Fe.marked="keyword",m(k,x(";"))):"{"==e?m(B(ve,"}"),we,x(";")):f(w)}function ve(e,t){return"as"==t?(Fe.marked="keyword",m(x("variable"))):"variable"==e?f(C,ve):void 0}function be(e){return"string"==e?m():f(ye,_e,we)}function ye(e,t){return"{"==e?U(ye,"}"):("variable"==e&&g(t),"*"==t&&(Fe.marked="keyword"),m(xe))}function _e(e){if(","==e)return m(ye,_e)}function xe(e,t){if("as"==t)return Fe.marked="keyword",m(ye)}function we(e,t){if("from"==t)return Fe.marked="keyword",m(k)}function ke(e){return"]"==e?m():f(B(C,"]"))}function Ce(e,t){return"operator"==e.lastType||","==e.lastType||Ne.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}var Se,Te,Me=n.indentUnit,De=i.statementIndent,Ae=i.jsonld,Ee=i.json||Ae,Oe=i.typescript,je=i.wordCharacters||/[\w$\xa1-\uffff]/,Le=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),i=e("keyword c"),r=e("operator"),o={type:"atom",style:"atom"},s={if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:e("new"),delete:i,throw:i,debugger:i,var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:r,typeof:r,instanceof:r,true:o,false:o,null:o,undefined:o,NaN:o,Infinity:o,this:e("this"),class:e("class"),super:e("atom"),yield:i,export:e("export"),import:e("import"),extends:i,await:i,async:e("async")};if(Oe){var a={type:"variable",style:"variable-3"},l={interface:e("class"),implements:i,namespace:i,module:e("module"),enum:e("module"),type:e("type"),public:e("modifier"),private:e("modifier"),protected:e("modifier"),abstract:e("modifier"),as:r,string:a,number:a,boolean:a,any:a};for(var c in l)s[c]=l[c]}return s}(),Ne=/[+\-*&%=<>!?|~^]/,Ie=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Pe="([{}])",ze={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},Fe={state:null,column:null,marked:null,cc:null},He={name:"this",next:{name:"arguments"}};return _.lex=!0,{startState:function(e){var t={tokenize:s,lastType:"sof",cc:[],lexical:new d((e||0)-Me,0,"block",!1),localVars:i.localVars,context:i.localVars&&{vars:i.localVars},indented:e||0};return i.globalVars&&"object"==typeof i.globalVars&&(t.globalVars=i.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),u(e,t)),t.tokenize!=l&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==Se?n:(t.lastType="operator"!=Se||"++"!=Te&&"--"!=Te?Se:"incdec",p(t,n,Se,Te,e))},indent:function(t,n){if(t.tokenize==l)return e.Pass;if(t.tokenize!=s)return 0;var r,o=n&&n.charAt(0),a=t.lexical;if(!/^\s*else\b/.test(n))for(var c=t.cc.length-1;c>=0;--c){var u=t.cc[c];if(u==_)a=a.prev;else if(u!=ie)break}for(;("stat"==a.type||"form"==a.type)&&("}"==o||(r=t.cc[t.cc.length-1])&&(r==A||r==E)&&!/^[,\.=+\-*:?[\(]/.test(n));)a=a.prev;De&&")"==a.type&&"stat"==a.prev.type&&(a=a.prev);var d=a.type,h=o==d;return"vardef"==d?a.indented+("operator"==t.lastType||","==t.lastType?a.info+1:0):"form"==d&&"{"==o?a.indented:"form"==d?a.indented+Me:"stat"==d?a.indented+(Ce(t,n)?De||Me:0):"switch"!=a.info||h||0==i.doubleIndentSwitch?a.align?a.column+(h?0:1):a.indented+(h?0:Me):a.indented+(/^(?:case|default)\b/.test(n)?Me:2*Me)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Ee?null:"/*",blockCommentEnd:Ee?null:"*/",lineComment:Ee?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Ee?"json":"javascript",jsonldMode:Ae,jsonMode:Ee,expressionAllowed:t,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=k&&t!=C||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define("codemirror/mode/htmlmixed/htmlmixed",["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,n){var i=e.current(),r=i.search(t);return r>-1?e.backUp(i.length-r):i.match(/<\/?$/)&&(e.backUp(i.length),e.match(t,!1)||e.match(i)),n}function n(e){var t=l[e];return t?t:l[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")}function i(e,t){var i=e.match(n(t));return i?/^\s*(.*?)\s*$/.exec(i[2])[1]:""}function r(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function o(e,t){for(var n in e)for(var i=t[n]||(t[n]=[]),r=e[n],o=r.length-1;o>=0;o--)i.unshift(r[o])}function s(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r[0]||r[1].test(i(t,r[0])))return r[2]}}var a={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},l={};e.defineMode("htmlmixed",function(n,i){function l(i,o){var a,d=c.token(i,o.htmlState),h=/\btag\b/.test(d);if(h&&!/[<>\s\/]/.test(i.current())&&(a=o.htmlState.tagName&&o.htmlState.tagName.toLowerCase())&&u.hasOwnProperty(a))o.inTag=a+" ";else if(o.inTag&&h&&/>$/.test(i.current())){var p=/^([\S]+) (.*)/.exec(o.inTag);o.inTag=null;var f=">"==i.current()&&s(u[p[1]],p[2]),m=e.getMode(n,f),g=r(p[1],!0),v=r(p[1],!1);o.token=function(e,n){return e.match(g,!1)?(n.token=l,n.localState=n.localMode=null,null):t(e,v,n.localMode.token(e,n.localState))},o.localMode=m,o.localState=e.startState(m,c.indent(o.htmlState,""))}else o.inTag&&(o.inTag+=i.current(),i.eol()&&(o.inTag+=" "));return d}var c=e.getMode(n,{name:"xml",htmlMode:!0,multilineTagIndentFactor:i.multilineTagIndentFactor,multilineTagIndentPastTag:i.multilineTagIndentPastTag}),u={},d=i&&i.tags,h=i&&i.scriptTypes;if(o(a,u),d&&o(d,u),h)for(var p=h.length-1;p>=0;p--)u.script.unshift(["type",h[p].matches,h[p].mode]);return{startState:function(){var t=e.startState(c);return{token:l,inTag:null,localMode:null,localState:null,htmlState:t}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(c,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n){return!t.localMode||/^\s*<\//.test(n)?c.indent(t.htmlState,n):t.localMode.indent?t.localMode.indent(t.localState,n):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||c}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/mode/python/python",["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}function n(e){return e.scopes[e.scopes.length-1]}var i=t(["and","or","not","is"]),r=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],o=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];e.registerHelper("hintWords","python",r.concat(o)),e.defineMode("python",function(s,a){function l(e,t){if(e.sol()&&(t.indent=e.indentation()),e.sol()&&"py"==n(t).type){var i=n(t).offset;if(e.eatSpace()){var r=e.indentation();return r>i?d(t):r<i&&p(e,t)&&"#"!=e.peek()&&(t.errorToken=!0),null}var o=c(e,t);return i>0&&p(e,t)&&(o+=" "+m),o}return c(e,t)}function c(e,t){if(e.eatSpace())return null;var n=e.peek();if("#"==n)return e.skipToEnd(),"comment";if(e.match(/^[0-9\.]/,!1)){var r=!1;if(e.match(/^\d*\.\d+(e[\+\-]?\d+)?/i)&&(r=!0),e.match(/^\d+\.\d*/)&&(r=!0),e.match(/^\.\d+/)&&(r=!0),r)return e.eat(/J/i),"number";var o=!1;if(e.match(/^0x[0-9a-f]+/i)&&(o=!0),e.match(/^0b[01]+/i)&&(o=!0),e.match(/^0o[0-7]+/i)&&(o=!0),e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&&(e.eat(/J/i),o=!0),e.match(/^0(?![\dx])/i)&&(o=!0),o)return e.eat(/L/i),"number"}return e.match(T)?(t.tokenize=u(e.current()),t.tokenize(e,t)):e.match(y)||e.match(b)?"punctuation":e.match(v)||e.match(C)?"operator":e.match(g)?"punctuation":"."==t.lastToken&&e.match(S)?"property":e.match(M)||e.match(i)?"keyword":e.match(D)?"builtin":e.match(/^(self|cls)\b/)?"variable-2":e.match(S)?"def"==t.lastToken||"class"==t.lastToken?"def":"variable":(e.next(),m)}function u(e){function t(t,r){for(;!t.eol();)if(t.eatWhile(/[^'"\\]/),t.eat("\\")){if(t.next(),n&&t.eol())return i}else{if(t.match(e))return r.tokenize=l,i;t.eat(/['"]/)}if(n){if(a.singleLineStringErrors)return m;r.tokenize=l}return i}for(;"rubf".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var n=1==e.length,i="string";return t.isString=!0,t}function d(e){for(;"py"!=n(e).type;)e.scopes.pop();e.scopes.push({offset:n(e).offset+s.indentUnit,type:"py",align:null})}function h(e,t,n){var i=e.match(/^([\s\[\{\(]|#.*)*$/,!1)?null:e.column()+1;t.scopes.push({offset:t.indent+_,type:n,align:i})}function p(e,t){for(var i=e.indentation();t.scopes.length>1&&n(t).offset>i;){if("py"!=n(t).type)return!0;t.scopes.pop()}return n(t).offset!=i}function f(e,t){e.sol()&&(t.beginningOfLine=!0);var i=t.tokenize(e,t),r=e.current();if(t.beginningOfLine&&"@"==r)return e.match(S,!1)?"meta":k?"operator":m;/\S/.test(r)&&(t.beginningOfLine=!1),"variable"!=i&&"builtin"!=i||"meta"!=t.lastToken||(i="meta"),"pass"!=r&&"return"!=r||(t.dedent+=1),"lambda"==r&&(t.lambda=!0),":"!=r||t.lambda||"py"!=n(t).type||d(t);var o=1==r.length?"[({".indexOf(r):-1;if(o!=-1&&h(e,t,"])}".slice(o,o+1)),o="])}".indexOf(r),o!=-1){if(n(t).type!=r)return m;t.indent=t.scopes.pop().offset-_}return t.dedent>0&&e.eol()&&"py"==n(t).type&&(t.scopes.length>1&&t.scopes.pop(),t.dedent-=1),i}var m="error",g=a.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.]/,v=a.doubleOperators||/^([!<>]==|<>|<<|>>|\/\/|\*\*)/,b=a.doubleDelimiters||/^(\+=|\-=|\*=|%=|\/=|&=|\|=|\^=)/,y=a.tripleDelimiters||/^(\/\/=|>>=|<<=|\*\*=)/,_=a.hangingIndent||s.indentUnit,x=r,w=o;void 0!=a.extra_keywords&&(x=x.concat(a.extra_keywords)),void 0!=a.extra_builtins&&(w=w.concat(a.extra_builtins));var k=!(a.version&&Number(a.version)<3);if(k){var C=a.singleOperators||/^[\+\-\*\/%&|\^~<>!@]/,S=a.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;x=x.concat(["nonlocal","False","True","None","async","await"]),w=w.concat(["ascii","bytes","exec","print"]);var T=new RegExp("^(([rbuf]|(br))?('{3}|\"{3}|['\"]))","i")}else{var C=a.singleOperators||/^[\+\-\*\/%&|\^~<>!]/,S=a.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;x=x.concat(["exec","print"]),w=w.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"]);var T=new RegExp("^(([rub]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var M=t(x),D=t(w),A={startState:function(e){return{tokenize:l,scopes:[{offset:e||0,type:"py",align:null}],indent:e||0,lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=t.errorToken;n&&(t.errorToken=!1);var i=f(e,t);return i&&"comment"!=i&&(t.lastToken="keyword"==i||"punctuation"==i?e.current():i),"punctuation"==i&&(i=null),e.eol()&&t.lambda&&(t.lambda=!1),n?i+" "+m:i},indent:function(t,i){if(t.tokenize!=l)return t.tokenize.isString?e.Pass:0;var r=n(t),o=r.type==i.charAt(0);return null!=r.align?r.align-(o?1:0):r.offset-(o?_:0)},electricInput:/^\s*[\}\]\)]$/,closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"};return A}),e.defineMIME("text/x-python","python");var s=function(e){return e.split(" ")};e.defineMIME("text/x-cython",{name:"python",extra_keywords:s("by cdef cimport cpdef ctypedef enum exceptextern gil include nogil property publicreadonly struct union DEF IF ELIF ELSE")})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/mode/r/r",["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerHelper("wordChars","r",/[\w.]/),e.defineMode("r",function(e){function t(e){for(var t=e.split(" "),n={},i=0;i<t.length;++i)n[t[i]]=!0;return n}function n(e,t){s=null;var n=e.next();if("#"==n)return e.skipToEnd(),"comment";if("0"==n&&e.eat("x"))return e.eatWhile(/[\da-f]/i),"number";if("."==n&&e.eat(/\d/))return e.match(/\d*(?:e[+\-]?\d+)?/),"number";if(/\d/.test(n))return e.match(/\d*(?:\.\d+)?(?:e[+\-]\d+)?L?/),"number";if("'"==n||'"'==n)return t.tokenize=i(n),"string";if("`"==n)return e.match(/[^`]+`/),"variable-3";if("."==n&&e.match(/.[.\d]+/))return"keyword";if(/[\w\.]/.test(n)&&"_"!=n){e.eatWhile(/[\w\.]/);var r=e.current();return a.propertyIsEnumerable(r)?"atom":c.propertyIsEnumerable(r)?(u.propertyIsEnumerable(r)&&!e.match(/\s*if(\s+|$)/,!1)&&(s="block"),"keyword"):l.propertyIsEnumerable(r)?"builtin":"variable"}return"%"==n?(e.skipTo("%")&&e.next(),"operator variable-2"):"<"==n&&e.eat("-")||"<"==n&&e.match("<-")||"-"==n&&e.match(/>>?/)?"operator arrow":"="==n&&t.ctx.argList?"arg-is":d.test(n)?"$"==n?"operator dollar":(e.eatWhile(d),"operator"):/[\(\){}\[\];]/.test(n)?(s=n,";"==n?"semi":null):null}function i(e){return function(t,i){if(t.eat("\\")){var r=t.next();return"x"==r?t.match(/^[a-f0-9]{2}/i):("u"==r||"U"==r)&&t.eat("{")&&t.skipTo("}")?t.next():"u"==r?t.match(/^[a-f0-9]{4}/i):"U"==r?t.match(/^[a-f0-9]{8}/i):/[0-7]/.test(r)&&t.match(/^[0-7]{1,2}/),"string-2"}for(var o;null!=(o=t.next());){if(o==e){i.tokenize=n;break}if("\\"==o){t.backUp(1);break}}return"string"}}function r(e,t,n){e.ctx={type:t,indent:e.indent,align:null,column:n.column(),prev:e.ctx}}function o(e){e.indent=e.ctx.indent,e.ctx=e.ctx.prev}var s,a=t("NULL NA Inf NaN NA_integer_ NA_real_ NA_complex_ NA_character_"),l=t("list quote bquote eval return call parse deparse"),c=t("if else repeat while function for in next break"),u=t("if else repeat while function for"),d=/[+\-*\/^<>=!&|~$:]/;return{startState:function(){return{tokenize:n,ctx:{type:"top",indent:-e.indentUnit,align:!1},indent:0,afterIdent:!1}},token:function(e,t){if(e.sol()&&(null==t.ctx.align&&(t.ctx.align=!1),t.indent=e.indentation()),e.eatSpace())return null;var n=t.tokenize(e,t);"comment"!=n&&null==t.ctx.align&&(t.ctx.align=!0);var i=t.ctx.type;return";"!=s&&"{"!=s&&"}"!=s||"block"!=i||o(t),"{"==s?r(t,"}",e):"("==s?(r(t,")",e),t.afterIdent&&(t.ctx.argList=!0)):"["==s?r(t,"]",e):"block"==s?r(t,"block",e):s==i&&o(t),t.afterIdent="variable"==n||"keyword"==n,n},indent:function(t,i){if(t.tokenize!=n)return 0;var r=i&&i.charAt(0),o=t.ctx,s=r==o.type;return"block"==o.type?o.indent+("{"==r?0:e.indentUnit):o.align?o.column+(s?0:1):o.indent+(s?0:e.indentUnit)},lineComment:"#"}}),e.defineMIME("text/x-rsrc","r")}),define("editor",["jquery","multisockjs","utils","codemirror/lib/codemirror","codemirror/addon/display/autorefresh","codemirror/addon/display/fullscreen","codemirror/addon/edit/matchbrackets","codemirror/addon/fold/foldcode","codemirror/addon/fold/foldgutter","codemirror/addon/fold/brace-fold","codemirror/addon/fold/xml-fold","codemirror/addon/fold/comment-fold","codemirror/addon/fold/indent-fold","codemirror/addon/hint/show-hint","codemirror/addon/runmode/runmode","codemirror/addon/runmode/colorize","codemirror/mode/css/css","codemirror/mode/htmlmixed/htmlmixed","codemirror/mode/javascript/javascript","codemirror/mode/python/python","codemirror/mode/r/r","codemirror/mode/xml/xml"],function(e,t,n,i){"use strict";function r(e,t){return{header:{msg_id:n.uuid(),session:n.uuid(),msg_type:e,username:""},content:t,parent_header:{},metadata:{}}}function o(e,n){function i(){h[e.header.msg_id]=n,r.send(JSON.stringify(e))}if(r===u){var r=new t(null,"complete");r.onmessage=function(e){var t=JSON.parse(e.data),n=h[t.parent_header.msg_id];delete h[t.parent_header.msg_id],n(t)},r.onopen=i}else i()}function s(){p&&(p.dialog("destroy"),p=null)}function a(t,i){if(t.content.found){var r=d("pre");r.innerHTML=n.fixConsole(t.content.data["text/plain"]),s(),p=e(r).dialog({width:700,height:300,position:{my:"left top",at:"left+5px bottom+5px",of:i.display.cursorDiv.parentNode,collision:"none"},appendTo:e(i.display.wrapper).parents(".sagecell").first(),close:s}),i.focus()}}function l(e){var t=e.getCursor(),n=e.getLine(t.line).substr(0,t.ch),i=t.ch>1&&"?"===n[t.ch-2]?1:0,s=n.match(/([a-z_][a-z_\d.]*)(\?\??|\()$/i);if(null!==s){var l=function(t){a(t,e)},c=sagecell.kernels[e.k];if(c&&c.session.linked&&c.shell_channel.send){var u=c._get_msg("object_info_request",{oname:s[1],detail_level:i});c.shell_channel.send(JSON.stringify(u)),c.set_callbacks_for_msg(u.header.msg_id,{inspect_request:l})}else o(r("object_info_request",{oname:s[1],detail_level:i}),l)}}function c(t,n,a){var c,h=n.find(".sagecell_commands");if(a!==u){var f,m,g=d("div",{},[f=d("h3",{},["Code"]),m=document.createElement("div")]);f.style.paddingLeft="2.2em",e(g).insertBefore(h),e(g).accordion({active:!a&&f,collapsible:!0,header:f})}if(h.keypress(function(e){13===e.which&&e.shiftKey&&e.preventDefault()}),h.keyup(function(e){13===e.which&&e.shiftKey&&n.find(".sagecell_evalButton").click()}),"textarea"===t)c={};else if("textarea-readonly"===t)c={},h.attr("readonly","readonly");else{var v=!1;"codemirror-readonly"===t?v=!0:t="codemirror";var b=n.find(".sagecell_language select"),y=b[0].value;i.commands.autocomplete=function(e){i.showHint(e,function(e,t){var n=e.getCursor(),s=sagecell.kernels[e.k],a=function(e){e.content&&(e=e.content),t({list:e.matches,from:i.Pos(n.line,e.cursor_start),to:n})},l=b[0].value;("sage"===l||"python"===l)&&s&&s.session.linked&&s.shell_channel.send?s.complete(e.getLine(n.line),n.ch,{complete_reply:a}):o(r("complete_request",{text:"",line:e.getLine(n.line),cursor_pos:n.ch,mode:l}),a)},{async:!0})};var _=e(d("button",{title:"Toggle full-screen editor (F11)",type:"button",class:"sagecell_fullScreen sagecell_icon-resize-full"})),x=function(e){e.setOption("fullScreen",!e.getOption("fullScreen")),_.toggleClass("sagecell_fullScreenEnabled"),_.toggleClass("sagecell_icon-resize-full sagecell_icon-resize-small")};c=i.fromTextArea(h.get(0),{autoRefresh:!0,mode:sagecell.modes[y],viewportMargin:1/0,indentUnit:4,lineNumbers:!0,matchBrackets:!0,readOnly:v,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],extraKeys:{Tab:function(e){var t=e.getCursor(),n=e.getLine(t.line).substr(0,t.ch),r=b[0].value;"sage"!==r&&"python"!==r||!(t.ch>0)||"?"!==n[t.ch-1]&&"("!==n[t.ch-1]?n.match(/^ *$/)?i.commands.indentMore(e):(s(),i.commands.autocomplete(e)):l(e)},"Shift-Tab":"indentLess","Shift-Enter":s,F11:function(e){x(e)},Esc:function(e){p?s():e.getOption("fullScreen")&&x(e)}}}),c.on("keyup",function(e,t){e.save(),13===t.which&&t.shiftKey&&(n.find(".sagecell_evalButton").click(),e.getOption("fullScreen")&&x(e))}),e(g).on("accordionactivate",function(){c.refresh()}),e(c.getWrapperElement()).prepend(_),_.click(function(){x(c),c.focus()})}return[t,c]}var u,d=n.createElement,h={},p=null;return{render:c}});var Jupyter=Jupyter||{},jprop=function(e,t){Object.defineProperty(Jupyter,e,{get:function(){return console.warn("accessing `"+e+'` is deprecated. Use `require("'+t+'")`'),require(t)},enumerable:!0,configurable:!1})},jglobal=function(e,t){Object.defineProperty(Jupyter,e,{get:function(){return console.warn("accessing `"+e+'` is deprecated. Use `require("'+t+'").'+e+"`"),require(t)[e]},enumerable:!0,configurable:!1})};define("base/js/namespace",[],function(){"use strict";return jprop("utils","base/js/utils"),jprop("security","base/js/security"),jprop("keyboard","base/js/keyboard"),jprop("dialog","base/js/dialog"),jprop("mathjaxutils","notebook/js/mathjaxutils"),jglobal("CommManager","services/kernels/comm"),jglobal("Comm","services/kernels/comm"),jglobal("NotificationWidget","base/js/notificationwidget"),jglobal("Kernel","services/kernels/kernel"),jglobal("Session","services/sessions/session"),jglobal("LoginWidget","auth/js/loginwidget"),jglobal("Page","base/js/page"),jglobal("TextCell","notebook/js/textcell"),jglobal("OutputArea","notebook/js/outputarea"),jglobal("KeyboardManager","notebook/js/keyboardmanager"),jglobal("Completer","notebook/js/completer"),jglobal("Notebook","notebook/js/notebook"),jglobal("Tooltip","notebook/js/tooltip"),jglobal("Toolbar","notebook/js/toolbar"),jglobal("SaveWidget","notebook/js/savewidget"),jglobal("Pager","notebook/js/pager"),jglobal("QuickHelp","notebook/js/quickhelp"),jglobal("MarkdownCell","notebook/js/textcell"),jglobal("RawCell","notebook/js/textcell"),jglobal("Cell","notebook/js/cell"),jglobal("MainToolBar","notebook/js/maintoolbar"),jglobal("NotebookNotificationArea","notebook/js/notificationarea"),
jglobal("NotebookTour","notebook/js/tour"),jglobal("MenuBar","notebook/js/menubar"),jglobal("SessionList","tree/js/sessionlist"),Jupyter.version="4.4.1",Jupyter._target="_blank",Jupyter});var IPython=Jupyter;define("base/js/events",["base/js/namespace","jquery"],function(e,t){"use strict";var n=function(){},i=new n;e.Events=n,e.events=i;var i=t([i]);return i._original_trigger=i.trigger,i.trigger=function(e,t){try{this._original_trigger.apply(this,arguments)}catch(t){console.error("Exception in event handler for "+e,t,arguments)}},i}),define("services/kernels/comm",["jquery","base/js/utils"],function(e,t){"use strict";var n=function(e){this.comms={},this.targets={},void 0!==e&&this.init_kernel(e)};n.prototype.init_kernel=function(t){this.kernel=t;for(var n=["comm_open","comm_msg","comm_close"],i=0;i<n.length;i++){var r=n[i];t.register_iopub_handler(r,e.proxy(this[r],this))}},n.prototype.new_comm=function(e,t,n,r,o){var s=new i(e,o);return this.register_comm(s),s.open(t,n,r),s},n.prototype.register_target=function(e,t){this.targets[e]=t},n.prototype.unregister_target=function(e,t){delete this.targets[e]},n.prototype.register_comm=function(e){return this.comms[e.comm_id]=Promise.resolve(e),e.kernel=this.kernel,e.comm_id},n.prototype.unregister_comm=function(e){delete this.comms[e.comm_id]},n.prototype.comm_open=function(e){var n=e.content,r=this,o=n.comm_id;return this.comms[o]=t.load_class(n.target_name,n.target_module,this.targets).then(function(s){var a=new i(n.target_name,o);a.kernel=r.kernel;try{var l=s(a,e)}catch(e){a.close(),r.unregister_comm(a);var c=new t.WrappedError("Exception opening new comm",e);return console.error(c),Promise.reject(c)}return Promise.resolve(l).then(function(){return a})},t.reject("Could not open comm",!0)),this.comms[o]},n.prototype.comm_close=function(e){var t=e.content;if(void 0===this.comms[t.comm_id])return void console.error("Comm promise not found for comm id "+t.comm_id);var n=this;return this.comms[t.comm_id]=this.comms[t.comm_id].then(function(t){n.unregister_comm(t);try{t.handle_close(e)}catch(t){console.log("Exception closing comm: ",t,t.stack,e)}}),this.comms[t.comm_id]},n.prototype.comm_msg=function(e){var n=e.content;return void 0===this.comms[n.comm_id]?void console.error("Comm promise not found for comm id "+n.comm_id):(this.comms[n.comm_id]=this.comms[n.comm_id].then(function(n){return Promise.resolve(n.handle_msg(e)).catch(t.reject("Exception handling comm message")).then(function(){return n})}),this.comms[n.comm_id])};var i=function(e,n){this.target_name=e,this.comm_id=n||t.uuid(),this._msg_callback=this._close_callback=null};return i.prototype.open=function(e,t,n){var i={comm_id:this.comm_id,target_name:this.target_name,data:e||{}};return this.kernel.send_shell_message("comm_open",i,t,n)},i.prototype.send=function(e,t,n,i){var r={comm_id:this.comm_id,data:e||{}};return this.kernel.send_shell_message("comm_msg",r,t,n,i)},i.prototype.close=function(e,t,n){var i={comm_id:this.comm_id,data:e||{}};return this.kernel.send_shell_message("comm_close",i,t,n)},i.prototype._register_callback=function(e,t){this["_"+e+"_callback"]=t},i.prototype.on_msg=function(e){this._register_callback("msg",e)},i.prototype.on_close=function(e){this._register_callback("close",e)},i.prototype._callback=function(e,t){var n=this["_"+e+"_callback"];if(n)try{return n(t)}catch(e){console.log("Exception in Comm callback",e,e.stack,t)}},i.prototype.handle_msg=function(e){return this._callback("msg",e)},i.prototype.handle_close=function(e){this._callback("close",e)},{CommManager:n,Comm:i}}),function(){var e=this,t=e._,n={},i=Array.prototype,r=Object.prototype,o=Function.prototype,s=i.push,a=i.slice,l=i.concat,c=r.toString,u=r.hasOwnProperty,d=i.forEach,h=i.map,p=i.reduce,f=i.reduceRight,m=i.filter,g=i.every,v=i.some,b=i.indexOf,y=i.lastIndexOf,_=Array.isArray,x=Object.keys,w=o.bind,k=function(e){return e instanceof k?e:this instanceof k?void(this._wrapped=e):new k(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):e._=k,k.VERSION="1.5.2";var C=k.each=k.forEach=function(e,t,i){if(null!=e)if(d&&e.forEach===d)e.forEach(t,i);else if(e.length===+e.length){for(var r=0,o=e.length;o>r;r++)if(t.call(i,e[r],r,e)===n)return}else for(var s=k.keys(e),r=0,o=s.length;o>r;r++)if(t.call(i,e[s[r]],s[r],e)===n)return};k.map=k.collect=function(e,t,n){var i=[];return null==e?i:h&&e.map===h?e.map(t,n):(C(e,function(e,r,o){i.push(t.call(n,e,r,o))}),i)};var S="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return i&&(t=k.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(C(e,function(e,o,s){r?n=t.call(i,n,e,o,s):(n=e,r=!0)}),!r)throw new TypeError(S);return n},k.reduceRight=k.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return i&&(t=k.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var o=e.length;if(o!==+o){var s=k.keys(e);o=s.length}if(C(e,function(a,l,c){l=s?s[--o]:--o,r?n=t.call(i,n,e[l],l,c):(n=e[l],r=!0)}),!r)throw new TypeError(S);return n},k.find=k.detect=function(e,t,n){var i;return T(e,function(e,r,o){return t.call(n,e,r,o)?(i=e,!0):void 0}),i},k.filter=k.select=function(e,t,n){var i=[];return null==e?i:m&&e.filter===m?e.filter(t,n):(C(e,function(e,r,o){t.call(n,e,r,o)&&i.push(e)}),i)},k.reject=function(e,t,n){return k.filter(e,function(e,i,r){return!t.call(n,e,i,r)},n)},k.every=k.all=function(e,t,i){t||(t=k.identity);var r=!0;return null==e?r:g&&e.every===g?e.every(t,i):(C(e,function(e,o,s){return(r=r&&t.call(i,e,o,s))?void 0:n}),!!r)};var T=k.some=k.any=function(e,t,i){t||(t=k.identity);var r=!1;return null==e?r:v&&e.some===v?e.some(t,i):(C(e,function(e,o,s){return r||(r=t.call(i,e,o,s))?n:void 0}),!!r)};k.contains=k.include=function(e,t){return null!=e&&(b&&e.indexOf===b?e.indexOf(t)!=-1:T(e,function(e){return e===t}))},k.invoke=function(e,t){var n=a.call(arguments,2),i=k.isFunction(t);return k.map(e,function(e){return(i?t:e[t]).apply(e,n)})},k.pluck=function(e,t){return k.map(e,function(e){return e[t]})},k.where=function(e,t,n){return k.isEmpty(t)?n?void 0:[]:k[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},k.findWhere=function(e,t){return k.where(e,t,!0)},k.max=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&k.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return C(e,function(e,r,o){var s=t?t.call(n,e,r,o):e;s>i.computed&&(i={value:e,computed:s})}),i.value},k.min=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&k.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return C(e,function(e,r,o){var s=t?t.call(n,e,r,o):e;s<i.computed&&(i={value:e,computed:s})}),i.value},k.shuffle=function(e){var t,n=0,i=[];return C(e,function(e){t=k.random(n++),i[n-1]=i[t],i[t]=e}),i},k.sample=function(e,t,n){return arguments.length<2||n?e[k.random(e.length-1)]:k.shuffle(e).slice(0,Math.max(0,t))};var M=function(e){return k.isFunction(e)?e:function(t){return t[e]}};k.sortBy=function(e,t,n){var i=M(t);return k.pluck(k.map(e,function(e,t,r){return{value:e,index:t,criteria:i.call(n,e,t,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var D=function(e){return function(t,n,i){var r={},o=null==n?k.identity:M(n);return C(t,function(n,s){var a=o.call(i,n,s,t);e(r,a,n)}),r}};k.groupBy=D(function(e,t,n){(k.has(e,t)?e[t]:e[t]=[]).push(n)}),k.indexBy=D(function(e,t,n){e[t]=n}),k.countBy=D(function(e,t){k.has(e,t)?e[t]++:e[t]=1}),k.sortedIndex=function(e,t,n,i){n=null==n?k.identity:M(n);for(var r=n.call(i,t),o=0,s=e.length;s>o;){var a=o+s>>>1;n.call(i,e[a])<r?o=a+1:s=a}return o},k.toArray=function(e){return e?k.isArray(e)?a.call(e):e.length===+e.length?k.map(e,k.identity):k.values(e):[]},k.size=function(e){return null==e?0:e.length===+e.length?e.length:k.keys(e).length},k.first=k.head=k.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:a.call(e,0,t)},k.initial=function(e,t,n){return a.call(e,0,e.length-(null==t||n?1:t))},k.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},k.rest=k.tail=k.drop=function(e,t,n){return a.call(e,null==t||n?1:t)},k.compact=function(e){return k.filter(e,k.identity)};var A=function(e,t,n){return t&&k.every(e,k.isArray)?l.apply(n,e):(C(e,function(e){k.isArray(e)||k.isArguments(e)?t?s.apply(n,e):A(e,t,n):n.push(e)}),n)};k.flatten=function(e,t){return A(e,t,[])},k.without=function(e){return k.difference(e,a.call(arguments,1))},k.uniq=k.unique=function(e,t,n,i){k.isFunction(t)&&(i=n,n=t,t=!1);var r=n?k.map(e,n,i):e,o=[],s=[];return C(r,function(n,i){(t?i&&s[s.length-1]===n:k.contains(s,n))||(s.push(n),o.push(e[i]))}),o},k.union=function(){return k.uniq(k.flatten(arguments,!0))},k.intersection=function(e){var t=a.call(arguments,1);return k.filter(k.uniq(e),function(e){return k.every(t,function(t){return k.indexOf(t,e)>=0})})},k.difference=function(e){var t=l.apply(i,a.call(arguments,1));return k.filter(e,function(e){return!k.contains(t,e)})},k.zip=function(){for(var e=k.max(k.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=k.pluck(arguments,""+n);return t},k.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},k.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=k.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}if(b&&e.indexOf===b)return e.indexOf(t,n);for(;r>i;i++)if(e[i]===t)return i;return-1},k.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(y&&e.lastIndexOf===y)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var r=i?n:e.length;r--;)if(e[r]===t)return r;return-1},k.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,o=new Array(i);i>r;)o[r++]=e,e+=n;return o};var E=function(){};k.bind=function(e,t){var n,i;if(w&&e.bind===w)return w.apply(e,a.call(arguments,1));if(!k.isFunction(e))throw new TypeError;return n=a.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(a.call(arguments)));E.prototype=e.prototype;var r=new E;E.prototype=null;var o=e.apply(r,n.concat(a.call(arguments)));return Object(o)===o?o:r}},k.partial=function(e){var t=a.call(arguments,1);return function(){return e.apply(this,t.concat(a.call(arguments)))}},k.bindAll=function(e){var t=a.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return C(t,function(t){e[t]=k.bind(e[t],e)}),e},k.memoize=function(e,t){var n={};return t||(t=k.identity),function(){var i=t.apply(this,arguments);return k.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},k.delay=function(e,t){var n=a.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},k.defer=function(e){return k.delay.apply(k,[e,1].concat(a.call(arguments,1)))},k.throttle=function(e,t,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:new Date,s=null,o=e.apply(i,r)};return function(){var c=new Date;a||n.leading!==!1||(a=c);var u=t-(c-a);return i=this,r=arguments,0>=u?(clearTimeout(s),s=null,a=c,o=e.apply(i,r)):s||n.trailing===!1||(s=setTimeout(l,u)),o}},k.debounce=function(e,t,n){var i,r,o,s,a;return function(){o=this,r=arguments,s=new Date;var l=function(){var c=new Date-s;t>c?i=setTimeout(l,t-c):(i=null,n||(a=e.apply(o,r)))},c=n&&!i;return i||(i=setTimeout(l,t)),c&&(a=e.apply(o,r)),a}},k.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},k.wrap=function(e,t){return function(){var n=[e];return s.apply(n,arguments),t.apply(this,n)}},k.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},k.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},k.keys=x||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)k.has(e,n)&&t.push(n);return t},k.values=function(e){for(var t=k.keys(e),n=t.length,i=new Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},k.pairs=function(e){for(var t=k.keys(e),n=t.length,i=new Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},k.invert=function(e){for(var t={},n=k.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},k.functions=k.methods=function(e){var t=[];for(var n in e)k.isFunction(e[n])&&t.push(n);return t.sort()},k.extend=function(e){return C(a.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},k.pick=function(e){var t={},n=l.apply(i,a.call(arguments,1));return C(n,function(n){n in e&&(t[n]=e[n])}),t},k.omit=function(e){var t={},n=l.apply(i,a.call(arguments,1));for(var r in e)k.contains(n,r)||(t[r]=e[r]);return t},k.defaults=function(e){return C(a.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},k.clone=function(e){return k.isObject(e)?k.isArray(e)?e.slice():k.extend({},e):e},k.tap=function(e,t){return t(e),e};var O=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof k&&(e=e._wrapped),t instanceof k&&(t=t._wrapped);var r=c.call(e);if(r!=c.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]==e)return i[o]==t;var s=e.constructor,a=t.constructor;if(s!==a&&!(k.isFunction(s)&&s instanceof s&&k.isFunction(a)&&a instanceof a))return!1;n.push(e),i.push(t);var l=0,u=!0;if("[object Array]"==r){if(l=e.length,u=l==t.length)for(;l--&&(u=O(e[l],t[l],n,i)););}else{for(var d in e)if(k.has(e,d)&&(l++,!(u=k.has(t,d)&&O(e[d],t[d],n,i))))break;if(u){for(d in t)if(k.has(t,d)&&!l--)break;u=!l}}return n.pop(),i.pop(),u};k.isEqual=function(e,t){return O(e,t,[],[])},k.isEmpty=function(e){if(null==e)return!0;if(k.isArray(e)||k.isString(e))return 0===e.length;for(var t in e)if(k.has(e,t))return!1;return!0},k.isElement=function(e){return!(!e||1!==e.nodeType)},k.isArray=_||function(e){return"[object Array]"==c.call(e)},k.isObject=function(e){return e===Object(e)},C(["Arguments","Function","String","Number","Date","RegExp"],function(e){k["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),k.isArguments(arguments)||(k.isArguments=function(e){return!(!e||!k.has(e,"callee"))}),"function"!=typeof/./&&(k.isFunction=function(e){return"function"==typeof e}),k.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},k.isNaN=function(e){return k.isNumber(e)&&e!=+e},k.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},k.isNull=function(e){return null===e},k.isUndefined=function(e){return void 0===e},k.has=function(e,t){return u.call(e,t)},k.noConflict=function(){return e._=t,this},k.identity=function(e){return e},k.times=function(e,t,n){for(var i=Array(Math.max(0,e)),r=0;e>r;r++)i[r]=t.call(n,r);return i},k.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var j={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};j.unescape=k.invert(j.escape);var L={escape:new RegExp("["+k.keys(j.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(j.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(e){k[e]=function(t){return null==t?"":(""+t).replace(L[e],function(t){return j[e][t]})}}),k.result=function(e,t){if(null!=e){var n=e[t];return k.isFunction(n)?n.call(e):n}},k.mixin=function(e){C(k.functions(e),function(t){var n=k[t]=e[t];k.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),F.call(this,n.apply(k,e))}})};var N=0;k.uniqueId=function(e){var t=++N+"";return e?e+t:t},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(e,t,n){var i;n=k.defaults({},n,k.templateSettings);var r=new RegExp([(n.escape||I).source,(n.interpolate||I).source,(n.evaluate||I).source].join("|")+"|$","g"),o=0,s="__p+='";e.replace(r,function(t,n,i,r,a){return s+=e.slice(o,a).replace(z,function(e){return"\\"+P[e]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(s+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(s+="';\n"+r+"\n__p+='"),o=a+t.length,t}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(n.variable||"obj","_",s)}catch(e){throw e.source=s,e}if(t)return i(t,k);var a=function(e){return i.call(this,e,k)};return a.source="function("+(n.variable||"obj")+"){\n"+s+"}",a},k.chain=function(e){return k(e).chain()};var F=function(e){return this._chain?k(e).chain():e};k.mixin(k),C(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];k.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],F.call(this,n)}}),C(["concat","join","slice"],function(e){var t=i[e];k.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("underscore",function(){}),define("services/kernels/serialize",["underscore"],function(e){"use strict";var t=function(e){var t,n=new DataView(e),i=n.getUint32(0),r=[];for(t=1;t<=i;t++)r.push(n.getUint32(4*t));var o=new Uint8Array(e.slice(r[0],r[1])),s=JSON.parse(new TextDecoder("utf8").decode(o));s.buffers=[];var a,l;for(t=1;t<i;t++)a=r[t],l=r[t+1]||e.byteLength,s.buffers.push(new DataView(e.slice(a,l)));return s},n=function(e){if(e instanceof Blob){var n=new FileReader,i=new Promise(function(e,i){n.onload=function(){var n=t(this.result);e(n)}});return n.readAsArrayBuffer(e),i}var r=t(e);return r},i=function(e){return"string"==typeof e?Promise.resolve(JSON.parse(e)):Promise.resolve(n(e))},r=function(t){t=e.clone(t);var n,i=[],r=[];for(n=0;n<t.buffers.length;n++){var o=t.buffers[n];r.push(o.buffer instanceof ArrayBuffer?o.buffer:o)}delete t.buffers;var s=new TextEncoder("utf8").encode(JSON.stringify(t));r.unshift(s);var a=r.length;for(i.push(4*(a+1)),n=0;n+1<r.length;n++)i.push(i[i.length-1]+r[n].byteLength);var l=new Uint8Array(i[i.length-1]+r[r.length-1].byteLength),c=new DataView(l.buffer);for(c.setUint32(0,a),n=0;n<i.length;n++)c.setUint32(4*(n+1),i[n]);for(n=0;n<r.length;n++)l.set(new Uint8Array(r[n]),i[n]);return l.buffer},o=function(e){return e.buffers&&e.buffers.length?r(e):JSON.stringify(e)},s={deserialize:i,serialize:o};return s}),define("services/kernels/kernel",["jquery","base/js/utils","./comm","./serialize","base/js/events"],function(e,t,n,i,r){"use strict";var o=function(e,i,o){this.events=r,this.id=null,this.name=o,this.ws=null,this.kernel_service_url=e,this.kernel_url=null,this.ws_url=i||t.get_body_data("wsUrl"),this.ws_url||(this.ws_url=location.protocol.replace("http","ws")+"//"+location.host),this.username="username",this.session_id=t.uuid(),this._msg_callbacks={},this._msg_callbacks_overrides={},this._msg_queue=Promise.resolve(),this.info_reply={},"undefined"!=typeof WebSocket?this.WebSocket=WebSocket:"undefined"!=typeof MozWebSocket?this.WebSocket=MozWebSocket:alert("Your browser does not have WebSocket support, please try Chrome, Safari or Firefox â‰¥ 6. Firefox 4 and 5 are also supported by you have to enable WebSockets in about:config."),this.bind_events(),this.init_iopub_handlers(),this.comm_manager=new n.CommManager(this),this.last_msg_id=null,this.last_msg_callbacks={},this._autorestart_attempt=0,this._reconnect_attempt=0,this.reconnect_limit=7,this._pending_messages=[]};return o.prototype._get_msg=function(e,n,i,r){var o={header:{msg_id:t.uuid(),username:this.username,session:this.session_id,msg_type:e,version:"5.0"},metadata:i||{},content:n,buffers:r||[],parent_header:{}};return o},o.prototype.bind_events=function(){var e=this;this.events.on("send_input_reply.Kernel",function(t,n){e.send_input_reply(n)});var t=function(e,t){console.log("Kernel: "+e.type+" ("+t.kernel.id+")")};this.events.on("kernel_created.Kernel",t),this.events.on("kernel_reconnecting.Kernel",t),this.events.on("kernel_connected.Kernel",t),this.events.on("kernel_starting.Kernel",t),this.events.on("kernel_restarting.Kernel",t),this.events.on("kernel_autorestarting.Kernel",t),this.events.on("kernel_interrupting.Kernel",t),this.events.on("kernel_disconnected.Kernel",t),this.events.on("kernel_ready.Kernel",t),this.events.on("kernel_killed.Kernel",t),this.events.on("kernel_dead.Kernel",t),this.events.on("kernel_ready.Kernel",function(){e._autorestart_attempt=0}),this.events.on("kernel_connected.Kernel",function(){e._reconnect_attempt=0})},o.prototype.init_iopub_handlers=function(){var t=["stream","display_data","execute_result","error"];this._iopub_handlers={},this.register_iopub_handler("status",e.proxy(this._handle_status_message,this)),this.register_iopub_handler("clear_output",e.proxy(this._handle_clear_output,this)),this.register_iopub_handler("execute_input",e.proxy(this._handle_input_message,this));for(var n=0;n<t.length;n++)this.register_iopub_handler(t[n],e.proxy(this._handle_output_message,this))},o.prototype.list=function(e,n){t.ajax(this.kernel_service_url,{processData:!1,cache:!1,type:"GET",dataType:"json",success:e,error:this._on_error(n)})},o.prototype.start=function(n,i,r){var o=this.kernel_service_url,s=e.param(n||{});""!==s&&(o=o+"?"+s),this.events.trigger("kernel_starting.Kernel",{kernel:this});var a=this,l=function(e,t,n){a.events.trigger("kernel_created.Kernel",{kernel:a}),a._kernel_created(e),i&&i(e,t,n)};return t.ajax(o,{processData:!1,cache:!1,type:"POST",data:JSON.stringify({name:this.name}),contentType:"application/json",dataType:"json",success:this._on_success(l),error:this._on_error(r)}),o},o.prototype.get_info=function(e,n){t.ajax(this.kernel_url,{processData:!1,cache:!1,type:"GET",dataType:"json",success:this._on_success(e),error:this._on_error(n)})},o.prototype.kill=function(e,n){this.events.trigger("kernel_killed.Kernel",{kernel:this}),this._kernel_dead(),t.ajax(this.kernel_url,{processData:!1,cache:!1,type:"DELETE",dataType:"json",success:this._on_success(e),error:this._on_error(n)})},o.prototype.interrupt=function(e,n){this.events.trigger("kernel_interrupting.Kernel",{kernel:this});var i=this,r=function(t,n,r){i.kernel_info(),e&&e(t,n,r)},o=t.url_path_join(this.kernel_url,"interrupt");t.ajax(o,{processData:!1,cache:!1,type:"POST",contentType:!1,dataType:"json",success:this._on_success(r),error:this._on_error(n)})},o.prototype.restart=function(e,n){this.events.trigger("kernel_restarting.Kernel",{kernel:this}),this.stop_channels(),this._msg_callbacks={},this._msg_callbacks_overrides={};var i=this,r=function(t,n,r){i.events.trigger("kernel_created.Kernel",{kernel:i}),i._kernel_created(t),e&&e(t,n,r)},o=function(e,t,r){i.events.trigger("kernel_dead.Kernel",{kernel:i}),i._kernel_dead(),n&&n(e,t,r)},s=t.url_path_join(this.kernel_url,"restart");t.ajax(s,{processData:!1,cache:!1,type:"POST",contentType:!1,dataType:"json",success:this._on_success(r),error:this._on_error(o)})},o.prototype.reconnect=function(){this.is_connected()&&this.stop_channels(),this._reconnect_attempt=this._reconnect_attempt+1,this.events.trigger("kernel_reconnecting.Kernel",{kernel:this,attempt:this._reconnect_attempt}),this.start_channels()},o.prototype._on_success=function(e){var n=this;return function(i,r,o){i&&(n.id=i.id,n.name=i.name),n.kernel_url=t.url_path_join(n.kernel_service_url,encodeURIComponent(n.id)),e&&e(i,r,o)}},o.prototype._on_error=function(e){return function(n,i,r){t.log_ajax_error(n,i,r),e&&e(n,i,r)}},o.prototype._kernel_created=function(e){this.id=e.id,this.kernel_url=t.url_path_join(this.kernel_service_url,encodeURIComponent(this.id)),this.start_channels()},o.prototype._kernel_connected=function(){for(this.events.trigger("kernel_connected.Kernel",{kernel:this});this._pending_messages.length>0;)this.ws.send(this._pending_messages[0]),this._pending_messages.shift();var e=this;this.kernel_info(function(t){e.info_reply=t.content,e.events.trigger("kernel_ready.Kernel",{kernel:e})})},o.prototype._kernel_dead=function(){this.stop_channels()},o.prototype.start_channels=function(){var n=this;this.stop_channels();var i=this.ws_url+this.kernel_url;console.log("Starting WebSockets:",i),this.ws=new this.WebSocket([n.ws_url,t.url_path_join(n.kernel_url,"channels"),"?session_id="+n.session_id].join(""));var r=!1,o=function(e){r||(r=!0,e.wasClean||n.get_info(function(){n._ws_closed(i,!1)},function(){n.events.trigger("kernel_dead.Kernel",{kernel:n}),n._kernel_dead()}))},s=function(e){r||(r=!0,e.wasClean||n._ws_closed(i,!1))},a=function(e){r||(r=!0,n._ws_closed(i,!0))};this.ws.onopen=e.proxy(this._ws_opened,this),this.ws.onclose=o,this.ws.onerror=a,setTimeout(function(){null!==n.ws&&(n.ws.onclose=s)},1e3),this.ws.onmessage=e.proxy(this._handle_ws_message,this)},o.prototype._ws_opened=function(e){this.is_connected()&&this._kernel_connected()},o.prototype._ws_closed=function(e,t){this.stop_channels(),this.events.trigger("kernel_disconnected.Kernel",{kernel:this}),t&&(console.log("WebSocket connection failed: ",e,t),this.events.trigger("kernel_connection_failed.Kernel",{kernel:this,ws_url:e,attempt:this._reconnect_attempt,error:t})),this._schedule_reconnect()},o.prototype._schedule_reconnect=function(){if(this._reconnect_attempt<this.reconnect_limit){var t=Math.pow(2,this._reconnect_attempt);console.log("Connection lost, reconnecting in "+t+" seconds."),setTimeout(e.proxy(this.reconnect,this),1e3*t)}else this.events.trigger("kernel_connection_dead.Kernel",{kernel:this,reconnect_attempt:this._reconnect_attempt}),console.log("Failed to reconnect, giving up.")},o.prototype.stop_channels=function(){var e=this,t=function(){e.ws&&e.ws.readyState===WebSocket.CLOSED&&(e.ws=null)};null!==this.ws&&(this.ws.readyState===WebSocket.OPEN?(this.ws.onclose=t,this.ws.close()):t())},o.prototype.is_connected=function(){return null!==this.ws&&this.ws.readyState===WebSocket.OPEN},o.prototype.is_fully_disconnected=function(){return null===this.ws},o.prototype._send=function(e){this.is_connected()?this.ws.send(e):this._pending_messages.push(e)},o.prototype.send_shell_message=function(e,t,n,r,o){var s=this._get_msg(e,t,r,o);return s.channel="shell",this.set_callbacks_for_msg(s.header.msg_id,n),this._send(i.serialize(s)),s.header.msg_id},o.prototype.kernel_info=function(e){var t;return e&&(t={shell:{reply:e}}),this.send_shell_message("kernel_info_request",{},t)},o.prototype.comm_info=function(e,t){var n;t&&(n={shell:{reply:t}});var i={target_name:e};return this.send_shell_message("comm_info_request",i,n)},o.prototype.inspect=function(e,t,n){var i;n&&(i={shell:{reply:n}});var r={code:e,cursor_pos:t,detail_level:0};return this.send_shell_message("inspect_request",r,i)},o.prototype.execute=function(t,n,i){var r={code:t,silent:!0,store_history:!1,user_expressions:{},allow_stdin:!1};return n=n||{},void 0!==n.input&&(r.allow_stdin=!0),e.extend(!0,r,i),this.events.trigger("execution_request.Kernel",{kernel:this,content:r}),this.send_shell_message("execute_request",r,n)},o.prototype.complete=function(e,t,n){var i;n&&(i={shell:{reply:n}});var r={code:e,cursor_pos:t};return this.send_shell_message("complete_request",r,i)},o.prototype.send_input_reply=function(e){var t={value:e};this.events.trigger("input_reply.Kernel",{kernel:this,content:t});var n=this._get_msg("input_reply",t);return n.channel="stdin",this._send(i.serialize(n)),n.header.msg_id},o.prototype.register_iopub_handler=function(e,t){this._iopub_handlers[e]=t},o.prototype.get_iopub_handler=function(e){return this._iopub_handlers[e]},o.prototype.get_callbacks_for_msg=function(e){return e==this.last_msg_id?this.last_msg_callbacks:this._msg_callbacks[e]},o.prototype.get_output_callbacks_for_msg=function(e){return this.get_callbacks_for_msg(this.get_output_callback_id(e))},o.prototype.get_output_callback_id=function(e){var t=e,n=this._msg_callbacks_overrides[e];return n&&n.length>0&&(t=n[n.length-1]),t},o.prototype.clear_callbacks_for_msg=function(e){void 0!==this._msg_callbacks[e]&&delete this._msg_callbacks[e]},o.prototype._finish_shell=function(e){var t=this._msg_callbacks[e];void 0!==t&&(t.shell_done=!0,t.iopub_done&&this.clear_callbacks_for_msg(e))},o.prototype._finish_iopub=function(e){var t=this._msg_callbacks[e];void 0!==t&&(t.iopub_done=!0,t.shell_done&&this.clear_callbacks_for_msg(e))},o.prototype.set_callbacks_for_msg=function(e,t,n){var i=n||!0;if(i&&(this.last_msg_id=e),t){var r=this._msg_callbacks[e]=this.last_msg_callbacks={};r.shell=t.shell,r.iopub=t.iopub,r.input=t.input,r.shell_done=!t.shell,r.iopub_done=!t.iopub}else i&&(this.last_msg_callbacks={})},o.prototype.output_callback_overrides_push=function(e,t){var n=this._msg_callbacks_overrides[e];void 0===n&&(this._msg_callbacks_overrides[e]=n=[]),n.push(t)},o.prototype.output_callback_overrides_pop=function(e){var t=this._msg_callbacks_overrides[e];return t?t.pop():void console.error("Popping callback overrides, but none registered",e)},o.prototype._handle_ws_message=function(e){var t=this;this._msg_queue=this._msg_queue.then(function(){return i.deserialize(e.data)}).then(function(e){return t._finish_ws_message(e)}).catch(function(e){console.error("Couldn't process kernel message",e)})},o.prototype._finish_ws_message=function(e){switch(e.channel){case"shell":return this._handle_shell_reply(e);case"iopub":return this._handle_iopub_message(e);case"stdin":return this._handle_input_request(e);default:console.error("unrecognized message channel",e.channel,e)}},o.prototype._handle_shell_reply=function(e){this.events.trigger("shell_reply.Kernel",{kernel:this,reply:e});var t=this,n=e.content,i=(e.metadata,e.parent_header.msg_id),r=this.get_callbacks_for_msg(i),o=Promise.resolve();if(r&&r.shell){var s=r.shell;return this._finish_shell(i),void 0!==s.reply&&(o=o.then(function(){return s.reply(e)})),n.payload&&s.payload&&(o=o.then(function(){return t._handle_payloads(n.payload,s.payload,e)})),o}},o.prototype._handle_payloads=function(e,t,n){for(var i=[],r=e.length,o=0;o<r;o++){var s=e[o],a=t[s.source];a&&i.push(a(s,n))}return Promise.all(i)},o.prototype._handle_status_message=function(e){var t=e.content.execution_state,n=e.parent_header.msg_id,i=this.get_callbacks_for_msg(n);if(i&&i.iopub&&i.iopub.status)try{i.iopub.status(e)}catch(e){console.log("Exception in status msg handler",e,e.stack)}if("busy"===t)this.events.trigger("kernel_busy.Kernel",{kernel:this});else if("idle"===t)this._finish_iopub(n),this.events.trigger("kernel_idle.Kernel",{kernel:this});else if("starting"===t){this.events.trigger("kernel_starting.Kernel",{kernel:this});var r=this;this.kernel_info(function(e){r.info_reply=e.content,r.events.trigger("kernel_ready.Kernel",{kernel:r})})}else"restarting"===t?(this._autorestart_attempt=this._autorestart_attempt+1,this.events.trigger("kernel_restarting.Kernel",{kernel:this}),this.events.trigger("kernel_autorestarting.Kernel",{kernel:this,attempt:this._autorestart_attempt})):"dead"===t&&(this.events.trigger("kernel_dead.Kernel",{kernel:this}),this._kernel_dead())},o.prototype._handle_clear_output=function(e){var t=this.get_output_callbacks_for_msg(e.parent_header.msg_id);if(t&&t.iopub){var n=t.iopub.clear_output;n&&n(e)}},o.prototype._handle_output_message=function(e){var t=e.parent_header.msg_id,n=this.get_output_callbacks_for_msg(t);if(!n||!n.iopub)return void this.events.trigger("received_unsolicited_message.Kernel",e);var i=n.iopub.output;i&&i(e)},o.prototype._handle_input_message=function(e){
var t=this.get_callbacks_for_msg(e.parent_header.msg_id);t||this.events.trigger("received_unsolicited_message.Kernel",e)},o.prototype._handle_iopub_message=function(e){var t=this.get_iopub_handler(e.header.msg_type);if(void 0!==t)return t(e)},o.prototype._handle_input_request=function(e){var t=e.header,n=(e.content,e.metadata,t.msg_type);if("input_request"!==n)return void console.log("Invalid input request!",e);var i=this.get_callbacks_for_msg(e.parent_header.msg_id);i&&i.input&&i.input(e)},{Kernel:o}}),define("interact_data",["jquery","utils"],function(e,t){"use strict";function n(e){return function(t){this.control=t,"undefined"==typeof e?this.dirty_update=!this.control.update:this.dirty_update=e,this.eventCount=this.ignoreNext=0}}var i,r=t.createElement,o=n();o.prototype.rendered=function(t){this.button=r("button",{id:t},[this.control.text]),this.button.style.width=this.control.width;var n=this;return e(this.button).click(function(){n.clicked=!0,e(n.button).trigger("clickdone")}),e(this.button).button(),this.clicked=!1,this.button},o.prototype.changeHandlers=function(){return{clickdone:this.button}},o.prototype.json_value=function(){var e=this.clicked;return this.clicked=!1,e},o.prototype.disable=function(){e(this.button).button("option","disabled",!0)};var s=n();s.prototype.rendered=function(t){var n=r("table",{style:"width: auto;"}),i=-1;this.buttons=e();for(var o=this,s=0;s<this.control.nrows;s++){for(var a=r("tr"),l=0;l<this.control.ncols;l++){var c=r("button",{},[this.control.value_labels[++i]]);c.style.width=this.control.width,e(c).click(function(t){return function(n){o.index=t,e(n.target).trigger("clickdone")}}(i)),this.buttons=this.buttons.add(c),a.appendChild(r("td",{},[c]))}n.appendChild(a)}return this.buttons.first().attr("id",t),this.index=null,this.buttons.button(),n},s.prototype.changeHandlers=function(){return{clickdone:this.buttons}},s.prototype.json_value=function(){var e=this.index;return this.index=null,e},s.prototype.disable=function(){this.buttons.button("option","disabled",!0)};var a=n();a.prototype.rendered=function(e){return this.input=r("input",{type:"checkbox",id:e}),this.input.checked=this.control.default,this.input},a.prototype.changeHandlers=function(){return{change:this.input}},a.prototype.json_value=function(){return this.input.checked},a.prototype.update=function(e){this.input.checked=e},a.prototype.disable=function(){this.input.disabled=!0};var l=n();l.prototype.rendered=function(){this.selector=r("span",{class:"sagecell_colorSelector"});var t=document.createTextNode(this.control.default);this.span=r("span",{},[this.selector]),this.control.hide_input||(this.selector.style.marginRight="10px",this.span.appendChild(t)),this.selector.style.backgroundColor=this.control.default;var n=this;return e(this.selector).ColorPicker({color:this.control.default,onChange:this.change=function(e,i,r,o){t.nodeValue=n.color=n.selector.style.backgroundColor="#"+i},onHide:function(){e(n.span).change()}}),this.span},l.prototype.changeHandlers=function(){return{change:this.span}},l.prototype.json_value=function(){return this.color},l.prototype.update=function(t){e(this.selector).ColorPickerSetColor(t),this.change(i,t.substr(1))},l.prototype.disable=function(){e(this.span.firstChild).off("click"),this.span.firstChild.style.cursor="default"};var c=n(!1);c.prototype.rendered=function(){return this.div=r("div"),this.value=this.control.value,e(this.div).html(this.control.value),this.div},c.prototype.changeHandlers=function(){return{}},c.prototype.json_value=function(){return this.value},c.prototype.update=function(t){this.value=t,e(this.div).html(t)};var u=n();u.prototype.rendered=function(e){return"textarea"===this.control.subtype?this.textbox=r("textarea",{rows:this.control.height,cols:this.control.width}):"input"===this.control.subtype&&(this.textbox=r("input",{size:this.control.width,autocapitalize:"off",autocorrect:"off",autocomplete:"off"})),this.textbox.value=this.control.default,this.textbox.id=e,this.control.evaluate&&(this.textbox.style.fontFamily="monospace"),this.event=this.control.keypress?"keyup":"change",this.textbox},u.prototype.changeHandlers=function(){var e={};return e[this.event]=this.textbox,e},u.prototype.json_value=function(){return this.textbox.value},u.prototype.update=function(e){this.textbox.value=e},u.prototype.disable=function(){this.textbox.disabled=!0};var d=n();d.prototype.rendered=function(t){this.textboxes=e();var n=r("table",{style:"width: auto; vertical-align: middle; display: inline-table;"});this.button=r("button",{style:"vertical-align: middle;"},["Submit"]);for(var i=r("div",{},[n,this.button]),o=0;o<this.control.nrows;o++){for(var s=r("tr"),a=0;a<this.control.ncols;a++){var l=r("input",{value:this.control.default[o][a],size:this.control.width,autocapitalize:"off",autocorrect:"off",autocomplete:"off"});this.control.evaluate&&(l.style.fontFamily="monospace"),this.textboxes=this.textboxes.add(l),s.appendChild(r("td",{},[l]))}n.appendChild(s)}return this.textboxes.attr("id",t),i},d.prototype.changeHandlers=function(){return{click:this.button}},d.prototype.json_value=function(){for(var e=[],t=0;t<this.control.nrows;t++){for(var n=[],i=0;i<this.control.ncols;i++)n.push(this.textboxes[t*this.control.ncols+i].value);e.push(n)}return e},d.prototype.update=function(e,t){if(t===i)for(var n=-1,r=0;r<e.length;r++)for(var o=0;o<e[r].length;o++)this.textboxes[++n].value=e[r][o];else this.textboxes[t[0]*this.control.ncols+t[1]].value=e},d.prototype.disable=function(){this.textboxes.prop("disabled",!0)};var h=n();h.prototype.rendered=function(){var t=r("div");this.sliders=e(),this.value_boxes=e(),this.values=this.control.default.slice(),this.eventCount=1;for(var n=0;n<this.control.sliders;n++){var i=r("div");i.style.width="50px",i.style.cssFloat="left",i.style.textAlign="center";var o=r("span",{class:"sagecell_multiSliderControl"});o.style.display="block",o.style.margin="0.25em 0.5em 1em 0.8em",i.appendChild(o);var s=this;if("continuous"===this.control.subtype){var a=r("input",{class:"sagecell_interactValueBox",type:"number",min:this.control.range[n][0],max:this.control.range[n][1],step:"any"});a.value=this.values[n].toString(),a.size=a.value.length+1,a.style.display=this.control.display_values?"":"none",e(a).change(function(t){return function(n){var i=n.target,r=parseFloat(i.value);s.control.range[t][0]<=r&&r<=s.control.range[t][1]?(s.values[t]=r,e(s.sliders[t]).slider("option","value",r),i.value=r.toString()):i.value=s.values[t].toString(),i.size=i.value.length+1}}(n)),e(a).keyup(function(e){e.target.size=e.target.value.length+1}),s.value_boxes=s.value_boxes.add(a),i.appendChild(a)}else{var l=r("span",{},[this.control.values[n][this.values[n]].toString()]);l.style.fontFamily="monospace",l.style.display=this.control.display_values?"":"none",s.value_boxes=s.value_boxes.add(l),i.appendChild(l)}var c=function(t){return function(n,i){s.values[t]=i.value;var r=s.value_boxes[t];"continuous"===s.control.subtype?(r.value=i.value.toString(),r.size=r.value.length+1,e(r).data("old_value",r.value)):e(r).text(s.control.values[t][i.value])}}(n);e(o).slider({orientation:"vertical",value:this.control.default[n],min:this.control.range[n][0],max:this.control.range[n][1],step:this.control.step[n]}),e(o).on("slide",c),this.sliders=this.sliders.add(o),t.appendChild(i)}return t},h.prototype.changeHandlers=function(){return{slidechange:this.sliders}},h.prototype.json_value=function(){return this.values.slice()},h.prototype.update=function(t,n){if(n===i){this.ignoreNext=t.length;for(var r=0;r<t.length;r++)e(this.sliders[r]).slider("option","value",t[r]),e(this.sliders[r]).trigger("slide",{value:t[r]})}else e(this.sliders[n]).slider("option","value",t),e(this.sliders[n]).trigger("slide",{value:t})},h.prototype.disable=function(){this.sliders.slider("option","disabled",!0),this.value_boxes.prop("disabled",!0)};var p=n();p.prototype.rendered=function(t){var n=this;if("list"===this.control.subtype){for(var i=r("select"),o=0;o<this.control.values;o++)i.appendChild(r("option",{},[this.control.value_labels[o]]));return this.value=i.selectedIndex=this.control.default,e(i).change(function(t){n.value=t.target.selectedIndex,e(t.target).trigger("changedone")}),i.style.width=this.control.width,i.id=t,this.changing=i,i}if("radio"===this.control.subtype||"button"===this.control.subtype){this.changing=e();for(var s=r("table",{style:"width: auto;"}),o=-1,a=0;a<this.control.nrows;a++){for(var l=r("tr"),c=0;c<this.control.ncols;c++){var u=t+"_"+ ++o,d=r("input",{type:"radio",name:t,id:u});o===this.control.default&&(d.checked=!0,this.value=o);var h=r("label",{for:u},[this.control.value_labels[o]]);h.style.width=this.control.width,e(d).change(function(t){return function(i){n.value=t,e(i.target).trigger("changedone")}}(o)),this.changing=this.changing.add(d),l.appendChild(r("td",{},[d,h]))}s.appendChild(l)}return"button"===this.control.subtype&&this.changing.button(),s}},p.prototype.changeHandlers=function(){return{changedone:this.changing}},p.prototype.json_value=function(){return this.value},p.prototype.update=function(e){"list"===this.control.subtype?this.changing.selectedIndex=e:(this.changing[e].checked=!0,this.changing.button("refresh")),this.value=e},p.prototype.disable=function(){"list"===this.control.subtype?this.changing.disabled=!0:"radio"===this.control.subtype?this.changing.prop("disabled",!0):this.changing.button("option","disabled",!0)};var f=n();return f.prototype.rendered=function(){this.continuous="continuous"===this.control.subtype||"continuous_range"===this.control.subtype,this.range="discrete_range"===this.control.subtype||"continuous_range"===this.control.subtype;var t=r("div"),n=r("div"),i=r("div",{class:"sagecell_sliderContainer"},[t,n]);this.value_boxes=e(),this.eventCount=this.range?2:1,this.slider=r("div",{class:"sagecell_sliderControl"}),t.appendChild(this.slider);var o=this;if(this.continuous)if(this.range){this.values=this.control.default.slice(),e(this.slider).slider({min:this.control.range[0],max:this.control.range[1],step:this.control.step,range:!0,values:this.values});var s=r("input",{class:"sagecell_interactValueBox",type:"number",value:this.values[0].toString(),min:this.control.range[0],max:this.control.range[1],step:"any"}),a=s.cloneNode();a.value=this.values[1].toString(),s.size=s.value.length,a.size=a.value.length,e(this.slider).on("slide",function(e,t){o.values=t.values.slice(),s.value=o.values[0].toString(),a.value=o.values[1].toString(),s.size=s.value.length,a.size=a.value.length}),e(s).change(function(){var t=parseFloat(s.value);o.control.range[0]<=t&&t<=e(o.slider).slider("option","values")[1]?(o.values[0]=t,e(o.slider).slider("option","values",o.values),s.value=t.toString()):s.value=o.values[0].toString(),s.size=s.value.length+1}),e(a).change(function(){var t=parseFloat(a.value);e(o.slider).slider("option","values")[0]<=t&&t<=o.control.range[1]?(o.values[1]=t,e(o.slider).slider("option","values",o.values),a.value=t.toString()):a.value=o.values[1].toString(),a.size=a.value.length+1}),e([s,a]).keyup(function(e){e.target.size=e.target.value.length+1}),e([s,a]).focus(function(e){e.target.size=e.target.value.length+1}),e([s,a]).blur(function(e){e.target.size=e.target.value.length});var l=r("div",{},["(",s,",",a,")"]);l.style.whiteSpace="nowrap",this.value_boxes=e([s,a]),l.style.fontFamily="monospace",n.appendChild(l)}else{this.value=this.control.default,e(this.slider).slider({min:this.control.range[0],max:this.control.range[1],step:this.control.step,value:this.value});var c=r("input",{class:"sagecell_interactValueBox",type:"number",value:this.value.toString(),min:this.control.range[0],max:this.control.range[1],step:"any"});c.size=c.value.length+1,e(this.slider).on("slide",function(e,t){c.value=(o.value=t.value).toString(),c.size=c.value.length+1}),e(c).change(function(){var t=parseFloat(c.value);o.control.range[0]<=t&&t<=o.control.range[1]?(o.value=t,e(o.slider).slider("option","value",o.value),c.value=t.toString()):c.value=o.value.toString(),c.size=c.value.length+1}),e(c).keyup(function(e){c.size=c.value.length+1}),n.appendChild(c),this.value_boxes=e(c)}else if(this.range){this.values=this.control.default.slice(),e(this.slider).slider({min:this.control.range[0],max:this.control.range[1],step:this.control.step,range:!0,values:this.values});var l=r("div",{},["("+this.control.values[this.values[0]]+", "+this.control.values[this.values[1]]+")"]);l.style.fontFamily="monospace",l.style.whiteSpace="nowrap",e(this.slider).on("slide",function(t,n){o.values=n.values.slice(),this.values=n.values.slice(),e(l).text("("+o.control.values[o.values[0]]+", "+o.control.values[o.values[1]]+")")}),n.appendChild(l)}else{this.value=this.control.default,e(this.slider).slider({min:this.control.range[0],max:this.control.range[1],step:this.control.step,value:this.value});var l=r("div",{},[this.control.values[this.value].toString()]);l.style.fontFamily="monospace",e(this.slider).on("slide",function(t,n){e(l).text(o.control.values[o.value=n.value].toString())}),n.appendChild(l)}return i},f.prototype.changeHandlers=function(){return{slidechange:this.slider}},f.prototype.json_value=function(){return this.range?this.values.slice():this.value},f.prototype.update=function(t){this.range&&(t=t.slice()),e(this.slider).slider("option",this.range?"values":"value",t);var n={};n[this.range?"values":"value"]=t,e(this.slider).trigger("slide",n)},f.prototype.disable=function(){e(this.slider).slider("option","disabled",!0),e(this.value_boxes).prop("disabled",!0)},{button:o,button_bar:s,checkbox:a,color_selector:l,html_box:c,input_box:u,input_grid:d,multi_slider:h,selector:p,slider:f}}),define("interact_cell",["jquery","base/js/events","interact_data","utils"],function(e,t,n,i){"use strict";function r(e,t,i){this.interact_id=t.new_interact_id,this.function_code=t.function_code,this.controls={},this.session=e,this.parent_block=i,this.layout=t.layout,this.locations=t.locations,this.msg_id=t.msg_id,this.changed=[];var r=t.controls;for(var o in r)r.hasOwnProperty(o)&&(this.controls[o]=new n[r[o].control_type](r[o]));this.session.interact_pl.style.display="block",this.renderCanvas(i),this.bindChange(),t.readonly&&this.disable()}var o,s=i.createElement,a=function(e){e.stopPropagation()},l=null;r.prototype.newControl=function(t){this.controls[t.name]=new n[t.control.control_type](t.control),this.placeControl(t.name),this.bindChange(t.name),this.output_block&&this.controls[t.name].dirty_update&&e(this.cells[t.name]).addClass("sagecell_dirtyControl"),null===this.parent_block&&this.session.updateLinks(!0)},r.prototype.delControl=function(e){delete this.controls[e.name];var t=this.cells[e.name].parentNode;t.parentNode.removeChild(t),delete this.cells[e.name],null===this.parent_block&&this.session.updateLinks(!0)},r.prototype.bindChange=function(t){var n=this,i=function(t,i){if(n.controls[t.data.name].ignoreNext>0)return void n.controls[t.data.name].ignoreNext--;n.changed.indexOf(t.data.name)===-1&&n.changed.push(t.data.name);var r={interact_id:n.interact_id,values:{},update_last:!1,user_expressions:{_sagecell_files:"sys._sage_.new_files()"}};r.values[t.data.name]=n.controls[t.data.name].json_value(i),n.controls[t.data.name].dirty_update&&e(n.cells[t.data.name]).addClass("sagecell_dirtyControl");var o={iopub:{output:e.proxy(n.session.handle_output,n.session)},shell:{reply:e.proxy(n.session.handle_execute_reply,n.session)}};n.session.send_message("sagenb.interact.update_interact",r,o),null===this.parent_block&&n.session.updateLinks(!0)};if(t===o){for(var r in this.controls)if(this.controls.hasOwnProperty(r)){var s=this.controls[r].changeHandlers();for(var a in s)s.hasOwnProperty(a)&&e(s[a]).on(a,{name:r},i)}}else{var s=this.controls[t].changeHandlers();for(var a in s)s.hasOwnProperty(a)&&e(s[a]).on(a,{name:t},i)}},r.prototype.placeControl=function(t){var n=this.controls[t],i=this.interact_id+"_"+t,r=this.cells[t];if(r===o){var a=s("div");if(r=this.cells[t]=s("div",{class:"sagecell_interactControlCell"}),r.style.width="90%",a.appendChild(r),this.output_block){var l=this.output_block.parentNode.parentNode;l.parentNode.insertBefore(a,l)}else e(this.container).append(a)}n.control.label.length>0&&r.appendChild(s("label",{class:"sagecell_interactControlLabel",for:i,title:t},[n.control.label])),r.appendChild(s("div",{class:"sagecell_interactControl"},[n.rendered(i)]))};var c=function(e,t){var n=s("input",{value:e,placeholder:"Bookmark name"});n.addEventListener("keydown",a),n.addEventListener("keypress",function(e){13===e.keyCode&&(t(),e.preventDefault()),e.stopPropagation()});var i=s("div",{title:"Add bookmark",tabindex:"0",role:"button"});return i.addEventListener("click",t),s("li",{class:"ui-state-disabled"},[s("a",{},[n,i])])},u=function(e){e.selectionStart=0,e.selectionEnd=e.value.length,e.selectionDirection="forward"};return r.prototype.renderCanvas=function(t){if(this.cells={},this.container=s("div",{class:"sagecell_interactContainer"}),this.layout&&this.layout.length>0)for(var n=0;n<this.layout.length;n++){for(var i=s("div"),r=0,d=0;d<this.layout[n].length;d++)r+=this.layout[n][d][1];for(var d=0;d<this.layout[n].length;d++){var h=s("div",{class:"sagecell_interactControlCell"});h.style.width=100*this.layout[n][d][1]/r+"%",this.layout[n][d]!==o&&(this.cells[this.layout[n][d][0]]=h,"_output"===this.layout[n][d][0]&&(this.output_block=s("div",{class:"sagecell_interactOutput"}),h.appendChild(this.output_block))),i.appendChild(h)}this.container.appendChild(i)}if(this.locations)for(var p in this.locations)this.locations.hasOwnProperty(p)&&(this.cells[p]=e("body").find(this.locations[p]).slice(0,1).empty()[0],"_output"===p?(this.output_block=this.cells[p],e(this.output_block).addClass("sagecell_interactOutput")):"_bookmarks"===p&&(this.bookmark_container=this.cells[p]));for(var p in this.controls)this.controls.hasOwnProperty(p)&&this.placeControl(p);var f=s("div",{class:"sagecell_bookmarks"}),m=s("input",{title:"Pass this string to the interact proxyâ€™s _set_bookmarks method.",readonly:""}),g=s("div",{title:"Export bookmarks",tabindex:"0",role:"button"});m.style.display="none",m.addEventListener("focus",function(e){u(m)});var v=s("div",{title:"Bookmarks",tabindex:"0",role:"button"});this.set_export=function(){for(var t=[],n=0;n<this.bookmarks.childNodes.length;n++){var i=this.bookmarks.childNodes[n],r=i.firstChild.firstChild.firstChild;null!==r&&t.push([r.nodeValue,e(i).data("values")])}m.value=JSON.stringify(JSON.stringify(t))};var b=s("ul",{class:"sagecell_bookmarks_list"}),y=this;f.addEventListener("mousedown",a),g.addEventListener("click",function(){m.style.display="",m.focus(),u(m),e(g).removeClass("sagecell_export")}),f.appendChild(g),f.appendChild(m),f.appendChild(v),this.bookmark_container=this.bookmark_container||this.container,this.bookmark_container.appendChild(f),this.bookmarks=b,b.addEventListener("mousedown",a,!0),this.set_export();var _,x=!1,w=function t(){b.parentNode.removeChild(b),b.removeChild(_),e(g).removeClass("sagecell_export"),m.style.display="none",window.removeEventListener("mousedown",t),x=!1,l=null};e(b).menu({select:function(e,t){y.state(t.item.data("values")),w()}});var k=function(t){x||(!function t(){for(var n=1;;){for(var i=0;i<b.childNodes.length&&b.childNodes[i].firstChild.firstChild.firstChild.nodeValue!=="Bookmark "+n;i++);if(i===b.childNodes.length)break;n++}_=c("Bookmark "+n,function(){b.removeChild(_),y.createBookmark(_.firstChild.firstChild.value),t()}),b.appendChild(_),e(b).menu("refresh"),setTimeout(function(){var e=b.lastChild.firstChild.firstChild;e.selectionStart=0,e.selectionEnd=e.value.length,e.selectionDirection="forward",e.focus()},0)}(),x=!0,y.session.outputDiv.append(b),l&&l(),l=w,e(b).position({my:"right top",at:"right bottom+5px",of:v}),e(g).addClass("sagecell_export"),g.style.display="inline-block",window.addEventListener("mousedown",w),t.stopPropagation())};v.addEventListener("mousedown",k),this.disable_bookmarks=function(){v.removeEventListener("mousedown",k),v.setAttribute("aria-disabled","true"),v.removeAttribute("tabindex")},this.layout&&this.layout.length>0&&this.session.output(this.container,t)},r.prototype.updateControl=function(t){this.controls[t.control].update&&(this.controls[t.control].ignoreNext=this.controls[t.control].eventCount,this.controls[t.control].update(t.value,t.index),this.output_block&&this.controls[t.control].dirty_update&&e(this.cells[t.control]).addClass("sagecell_dirtyControl"),null===this.parent_block&&this.session.updateLinks(!0))},r.prototype.state=function(t,n){if(t===o){t={};for(var i in this.controls)this.controls.hasOwnProperty(i)&&this.controls[i].update&&(t[i]=this.controls[i].json_value());return t}for(var i in t)t.hasOwnProperty(i)&&this.controls.hasOwnProperty(i)&&(this.controls[i].ignoreNext=this.controls[i].eventCount,this.controls[i].update(t[i]));var r={interact_id:this.interact_id,values:t,update_last:!0},s={iopub:{output:e.proxy(this.session.handle_output,this.session)},shell:{"sagenb.interact.update_interact_reply":n||e.proxy(this.session.handle_message_reply,this.session)}};this.session.send_message("sagenb.interact.update_interact",r,s)},r.prototype.createBookmark=function(t,n){n===o&&(n=this.state());var i=s("div",{title:"Delete bookmark",tabindex:"0",role:"button"}),r=s("li",{},[s("a",{},[s("div",{},[t]),i])]),a=this;this.bookmarks.childNodes.length;i.addEventListener("click",function(e){a.bookmarks.removeChild(r),null===a.parent_block&&a.session.updateLinks(!0),a.set_export(),e.stopPropagation()}),e(r).data({values:n});var l;this.bookmarks.hasChildNodes()&&!this.bookmarks.lastChild.firstChild.firstChild.hasChildNodes()&&(l=this.bookmarks.removeChild(this.bookmarks.lastChild)),this.bookmarks.appendChild(r),l&&this.bookmarks.appendChild(l),e(this.bookmarks).menu("refresh"),null===this.parent_block&&this.session.updateLinks(!0),this.set_export()},r.prototype.clearBookmarks=function(){var e;for(this.bookmarks.hasChildNodes()&&!this.bookmarks.lastChild.firstChild.firstChild.hasChildNodes()&&(e=this.bookmarks.removeChild(this.bookmarks.lastChild));this.bookmarks.hasChildNodes();)this.bookmarks.removeChild(this.bookmarks.firstChild);e&&this.bookmarks.appendChild(e)},r.prototype.disable=function(){this.disable_bookmarks();for(var e in this.controls)this.controls.hasOwnProperty(e)&&this.controls[e].disable&&this.controls[e].disable()},r}),define("interact_controls",["jquery","utils"],function(e,t){"use strict";function n(){return function(e,t){this.session=e,this.control_id=t}}var i=100,r=n();r.prototype.create=function(n,r){var o=this;this.control=this.session.output(t.createElement("div",{id:n.control_id}),r),this.control.slider({disabled:!n.enabled,min:n.min,max:n.max,step:n.step,slide:t.throttle(function(t,i){t.originalEvent&&o.session.send_message("variable_update",{control_id:n.control_id,value:i.value},{iopub:{output:e.proxy(o.session.handle_output,o.session)}})},i)})},r.prototype.update=function(t,n,i){var r=this;this.control_id!==i&&this.session.send_message("control_update",{control_id:this.control_id,namespace:t,variable:n},{iopub:{output:e.proxy(this.session.handle_output,this.session)},shell:{control_update_reply:function(e,t){"ok"===e.status&&r.control.slider("value",e.result.value)}}})};var o=n();o.prototype.create=function(n,i){var r=this;this.control=this.session.output(t.createElement("input",{id:n.control_id,type:"textbox"}),i),this.control.change(function(t){t.originalEvent&&r.session.send_message("variable_update",{control_id:n.control_id,value:e(this).val()},{iopub:{output:e.proxy(r.session.handle_output,r.session)}})})},o.prototype.update=function(t,n,i){var r=this;this.session.send_message("control_update",{control_id:this.control_id,namespace:t,variable:n},{iopub:{output:e.proxy(this.session.handle_output,this.session)},shell:{control_update_reply:function(e,t){"ok"===e.status&&r.control.val(e.result.value)}}})};var s=n();s.prototype.create=function(n,i){var r=this;this.control=this.session.output(t.createElement("input",{id:n.control_id,type:"checkbox"}),i),this.control.change(function(t){t.originalEvent&&r.session.send_message("variable_update",{control_id:n.control_id,value:e(this).prop("checked")},{iopub:{output:e.proxy(r.session.handle_output,r.session)}})})},s.prototype.update=function(t,n,i){var r=this;this.session.send_message("control_update",{control_id:this.control_id,namespace:t,variable:n},{iopub:{output:e.proxy(this.session.handle_output,this.session)},shell:{control_update_reply:function(e,t){"ok"===e.status&&r.control.prop("checked",e.result.value)}}})};var a=n();return a.prototype.create=function(e,n){this.control=this.session.output(t.createElement("div",{id:e.control_id}),n),this.session.output_blocks[this.control_id]=this.control,this.message_number=1},a.prototype.update=function(t,n,i){var r=this;this.message_number+=1;var o=this.message_number;this.session.send_message("control_update",{control_id:this.control_id,namespace:t,variable:n},{iopub:{output:function(t){o===r.message_number&&e.proxy(r.session.handle_output,r.session)(t,r.control_id)}}})},{Slider:r,ExpressionBox:o,Checkbox:s,OutputRegion:a}}),window.mpl={},mpl.get_websocket_type=function(){return"undefined"!=typeof WebSocket?WebSocket:"undefined"!=typeof MozWebSocket?MozWebSocket:void alert("Your browser does not have WebSocket support.Please try Chrome, Safari or Firefox â‰¥ 6. Firefox 4 and 5 are also supported but you have to enable WebSockets in about:config.")},mpl.figure=function(e,t,n,i){if(this.id=e,this.ws=t,this.supports_binary=void 0!=this.ws.binaryType,!this.supports_binary){var r=document.getElementById("mpl-warnings");r&&(r.style.display="block",r.textContent="This browser does not support binary websocket messages. Performance may be slow.")}this.imageObj=new Image,this.context=void 0,this.message=void 0,this.canvas=void 0,this.rubberband_canvas=void 0,this.rubberband_context=void 0,this.format_dropdown=void 0,this.image_mode="full",this.root=$("<div/>"),this._root_extra_style(this.root),this.root.attr("style","display: inline-block"),$(i).append(this.root),this._init_header(this),this._init_canvas(this),this._init_toolbar(this);var o=this;this.waiting=!1,this.ws.onopen=function(){o.send_message("supports_binary",{value:o.supports_binary}),o.send_message("send_image_mode",{}),o.send_message("refresh",{})},this.imageObj.onload=function(){"full"==o.image_mode&&o.context.clearRect(0,0,o.canvas.width,o.canvas.height),o.context.drawImage(o.imageObj,0,0)},this.imageObj.onunload=function(){this.ws.close()},this.ws.onmessage=this._make_on_message_function(this),this.ondownload=n},mpl.figure.prototype._init_header=function(){var e=$('<div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"/>'),t=$('<div class="ui-dialog-title" style="width: 100%; text-align: center; padding: 3px;"/>');e.append(t),this.root.append(e),this.header=t[0]},mpl.figure.prototype._canvas_extra_style=function(e){},mpl.figure.prototype._root_extra_style=function(e){},mpl.figure.prototype._init_canvas=function(){function e(e){return i.key_event(e,e.data)}function t(e){if(a)return i.mouse_event(e,e.data)}function n(){o.focus(),r.focus()}var i=this,r=$("<div/>");r.attr("style","position: relative; clear: both; outline: 0"),r.keydown("key_press",e),r.keyup("key_release",e),this.canvas_div=r,this._canvas_extra_style(r),this.root.append(r);var o=$("<canvas/>");o.addClass("mpl-canvas"),o.attr("style","left: 0; top: 0; z-index: 0; outline: 0"),this.canvas=o[0],this.context=o[0].getContext("2d");var s=$("<canvas/>");s.attr("style","position: absolute; left: 0; top: 0; z-index: 1;");var a=!0;r.resizable({start:function(e,t){a=!1},resize:function(e,t){i.request_resize(t.size.width,t.size.height)},stop:function(e,t){a=!0,i.request_resize(t.size.width,t.size.height)}}),s.mousedown("button_press",t),s.mouseup("button_release",t),s.mousemove("motion_notify",t),s.mouseenter("figure_enter",t),s.mouseleave("figure_leave",t),r.on("wheel",function(e){e=e.originalEvent,e.data="scroll",e.deltaY<0?e.step=1:e.step=-1,t(e)}),r.append(o),r.append(s),this.rubberband=s,this.rubberband_canvas=s[0],this.rubberband_context=s[0].getContext("2d"),this.rubberband_context.strokeStyle="#000000",this._resize_canvas=function(e,t){r.css("width",e),r.css("height",t),o.attr("width",e),o.attr("height",t),s.attr("width",e),s.attr("height",t)},this._resize_canvas(600,600),$(this.rubberband_canvas).bind("contextmenu",function(e){return!1}),window.setTimeout(n,100)},mpl.figure.prototype._init_toolbar=function(){function e(e){return n.toolbar_button_onclick(e.data)}function t(e){return n.toolbar_button_onmouseover(e.data)}var n=this,i=$("<div/>");i.attr("style","width: 100%"),this.root.append(i);for(var r in mpl.toolbar_items){var o=mpl.toolbar_items[r][0],s=mpl.toolbar_items[r][1],a=mpl.toolbar_items[r][2],l=mpl.toolbar_items[r][3];if(o){var c=$("<button/>");c.addClass("ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only"),c.attr("role","button"),c.attr("aria-disabled","false"),c.click(l,e),c.mouseover(s,t);var u=$("<span/>");u.addClass("ui-button-icon-primary ui-icon"),u.addClass(a),u.addClass("ui-corner-all");var d=$("<span/>");d.addClass("ui-button-text"),d.html(s),c.append(u),c.append(d),i.append(c)}}var h=$("<span/>"),p=$("<select/>");p.addClass("mpl-toolbar-option ui-widget ui-widget-content"),h.append(p),i.append(h),this.format_dropdown=p[0];for(var f in mpl.extensions){var m=mpl.extensions[f],g=$("<option/>",{selected:m===mpl.default_extension}).html(m);p.append(g)}$(".ui-button").hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")});var v=$('<span class="mpl-message"/>');i.append(v),this.message=v[0]},mpl.figure.prototype.request_resize=function(e,t){this.send_message("resize",{width:e,height:t})},mpl.figure.prototype.send_message=function(e,t){t.type=e,t.figure_id=this.id,this.ws.send(JSON.stringify(t))},mpl.figure.prototype.send_draw_message=function(){this.waiting||(this.waiting=!0,this.ws.send(JSON.stringify({type:"draw",figure_id:this.id})))},mpl.figure.prototype.handle_save=function(e,t){var n=e.format_dropdown,i=n.options[n.selectedIndex].value;e.ondownload(e,i)},mpl.figure.prototype.handle_resize=function(e,t){var n=t.size;n[0]==e.canvas.width&&n[1]==e.canvas.height||(e._resize_canvas(n[0],n[1]),e.send_message("refresh",{}))},mpl.figure.prototype.handle_rubberband=function(e,t){var n=t.x0,i=e.canvas.height-t.y0,r=t.x1,o=e.canvas.height-t.y1;n=Math.floor(n)+.5,i=Math.floor(i)+.5,r=Math.floor(r)+.5,o=Math.floor(o)+.5;var s=Math.min(n,r),a=Math.min(i,o),l=Math.abs(r-n),c=Math.abs(o-i);e.rubberband_context.clearRect(0,0,e.canvas.width,e.canvas.height),e.rubberband_context.strokeRect(s,a,l,c)},mpl.figure.prototype.handle_figure_label=function(e,t){e.header.textContent=t.label},mpl.figure.prototype.handle_cursor=function(e,t){var n=t.cursor;switch(n){case 0:n="pointer";break;case 1:n="default";break;case 2:n="crosshair";break;case 3:n="move"}e.rubberband_canvas.style.cursor=n},mpl.figure.prototype.handle_message=function(e,t){e.message.textContent=t.message},mpl.figure.prototype.handle_draw=function(e,t){e.send_draw_message()},mpl.figure.prototype.handle_image_mode=function(e,t){e.image_mode=t.mode},mpl.figure.prototype.updated_canvas_event=function(){this.send_message("ack",{})},mpl.figure.prototype._make_on_message_function=function(e){return function(t){if(t.data instanceof Blob)return t.data.type="image/png",e.imageObj.src&&(window.URL||window.webkitURL).revokeObjectURL(e.imageObj.src),e.imageObj.src=(window.URL||window.webkitURL).createObjectURL(t.data),e.updated_canvas_event(),void(e.waiting=!1);if("string"==typeof t.data&&"data:image/png;base64"==t.data.slice(0,21))return e.imageObj.src=t.data,e.updated_canvas_event(),void(e.waiting=!1);var n=JSON.parse(t.data),i=n.type;try{var r=e["handle_"+i]}catch(e){return void console.log("No handler for the '"+i+"' message type: ",n)}if(r)try{r(e,n)}catch(e){console.log("Exception inside the 'handler_"+i+"' callback:",e,e.stack,n)}}},mpl.findpos=function(e){
var t;e||(e=window.event),e.target?t=e.target:e.srcElement&&(t=e.srcElement),3==t.nodeType&&(t=t.parentNode);var n=e.pageX-$(t).offset().left,i=e.pageY-$(t).offset().top;return{x:n,y:i}},mpl.figure.prototype.mouse_event=function(e,t){var n=mpl.findpos(e);"button_press"===t&&(this.canvas.focus(),this.canvas_div.focus());var i=n.x,r=n.y;return this.send_message(t,{x:i,y:r,button:e.button,step:e.step,guiEvent:simpleKeys(e)}),e.preventDefault(),!1},mpl.figure.prototype._key_event_extra=function(e,t){},mpl.figure.prototype.key_event=function(e,t){if("key_press"==t){if(e.which===this._key)return;this._key=e.which}"key_release"==t&&(this._key=null);var n="";return e.ctrlKey&&17!=e.which&&(n+="ctrl+"),e.altKey&&18!=e.which&&(n+="alt+"),e.shiftKey&&16!=e.which&&(n+="shift+"),n+="k",n+=e.which.toString(),this._key_event_extra(e,t),this.send_message(t,{key:n,guiEvent:simpleKeys(e)}),!1},mpl.figure.prototype.toolbar_button_onclick=function(e){"download"==e?this.handle_save(this,null):this.send_message("toolbar_button",{name:e})},mpl.figure.prototype.toolbar_button_onmouseover=function(e){this.message.textContent=e},mpl.toolbar_items=[["Home","Reset original view","ui-icon ui-icon-home","home"],["Back","Back to  previous view","ui-icon ui-icon-circle-arrow-w","back"],["Forward","Forward to next view","ui-icon ui-icon-circle-arrow-e","forward"],["","","",""],["Pan","Pan axes with left mouse, zoom with right","ui-icon ui-icon-arrow-4","pan"],["Zoom","Zoom to rectangle","ui-icon ui-icon-search","zoom"],["","","",""],["Download","Download plot","ui-icon ui-icon-disk","download"]],mpl.extensions=["eps","jpeg","pdf","png","ps","raw","svg","tif"],mpl.default_extension="png",define("mpl",function(){}),define("widgets",["jquery","utils","mpl"],function(e,t){"use strict";return{Graphics:function(n){return function(i,r){var o={iopub:{output:e.proxy(n.handle_output,n)}},s=r.content.data.filename,a=n.kernel.kernel_url+"/files/",l=t.createElement("img",{src:a+s}),c=r.metadata.interact_id||null;n.output(l,c),e(l).click(function(t){var n=e(this).offset(),r=(t.pageX-n.left)/l.clientWidth,s=(t.pageY-n.top)/l.clientHeight;i.send({x:r,y:s,eventType:"click"},o)}),e(l).mousemove(function(t){var n=e(this).offset(),r=(t.pageX-n.left)/l.clientWidth,s=(t.pageY-n.top)/l.clientHeight;i.send({x:r,y:s,eventType:"mousemove"},o)})}},ThreeJS:function(n){return function(i,r){var o=this,s=({iopub:{output:e.proxy(n.handle_output,n)}},t.createElement("div",{style:"border: 2px solid blue;margin:0;padding:0;"})),a=r.metadata.interact_id||null;e(s).salvus_threejs(r.content.data),o.obj=t.proxy(["add_3dgraphics_obj","render_scene","set_frame","animate"]),run_when_defined({fn:function(){return e(s).data("salvus-threejs")},cb:function(e){o.obj._run_callbacks(e),o.obj=e},err:function(e){i.close(),console.log(e)}}),n.output(s,a),i.on_msg(function(e){var t=e.content.data,n=t.msg_type;delete t.msg_type,"add"===n?o.obj.add_3dgraphics_obj(t):"render"===n?o.obj.render_scene(t):"set_frame"===n?o.obj.set_frame(t):"animate"===n?o.obj.animate(t):"lights"===n&&o.obj.add_lights(t)})}},MPL:function(n){var i={iopub:{output:e.proxy(n.handle_output,n)}},r=function(e){var t={};return t.onopen=function(){},setTimeout(t.onopen(),0),t.close=function(){e.close()},t.send=function(t){e.send(t,i),console.log("sending",t)},e.on_msg(function(e){console.log("receiving",e),t.onmessage(e.content.data)}),t};return function(e,i){var o=i.content.data.id,s=t.createElement("div",{style:"border: 2px solid blue;margin:0;padding:0;"}),a=i.metadata.interact_id||null;n.output(s,a);var l=r(e);new mpl.figure(o,l,function(){console.log("download")},s)}}}}),define("session",["jquery","base/js/namespace","base/js/events","services/kernels/kernel","interact_cell","interact_controls","multisockjs","utils","widgets"],function($,IPython,events,Kernel,InteractCell,interact_controls,MultiSockJS,utils,widgets){"use strict";function Session(e,t,n,i,r){this.timer=utils.simpleTimer(),this.outputDiv=e,this.outputDiv[0].sagecell_session=this,this.language=t,this.interact_vals=n,this.linked=r,this.last_requests={},this.sessionContinue=!0,this.namespaces={},IPython.notification_widget={set_message:console.debug},this.interacts=[],window.addEventListener&&window.addEventListener("keydown",function(e){27===e.keyCode&&e.preventDefault()});var o=this;if(r&&sagecell.kernels[i])this.kernel=sagecell.kernels[i];else{var s=window.WebSocket;window.console,window.console&&console.log;window.WebSocket=MultiSockJS,window.console=window.console||{},this.kernel=sagecell.kernels[i]=new Kernel.Kernel(utils.URLs.kernel),this.kernel.comm_manager.register_target("threejs",utils.always_new(widgets.ThreeJS(this))),this.kernel.comm_manager.register_target("graphicswidget",utils.always_new(widgets.Graphics(this))),this.kernel.comm_manager.register_target("matplotlib",utils.always_new(widgets.MPL(this))),this.kernel.session=this,this.kernel.opened=!1,this.kernel.deferred_code=[],window.WebSocket=s,this.kernel.post=function(e,t){utils.sendRequest("POST",e,{},function(e){t(JSON.parse(e))})},this.kernel._ws_opened=function(e){if(this.is_connected()){for(this.opened=!0;this.deferred_code.length>0;)this.session.execute(this.deferred_code.shift());this._kernel_connected()}},this.kernel.start({CellSessionID:utils.cellSessionID(),timeout:r?"inf":0,accepted_tos:"true"})}var a,l,c,u,d,h;this.outputDiv.find(".sagecell_output").prepend(this.session_container=ce("div",{class:"sagecell_sessionContainer"},[ce("div",{class:"sagecell_permalink"},[a=ce("button",{},["Share"]),l=ce("div",{class:"sagecell_permalink_result"},[ce("div",{},[c=ce("a",{title:"Link that will work on any Sage Cell server"},["Permalink"])]),ce("div",{},[u=ce("a",{title:"Shortened link that will only work on this server"},["Short temporary link"])]),ce("div",{},[ce("a",{},[d=ce("img",{title:"QR code that will only work on this server",alt:""})])]),this.interact_pl=ce("label",{},["Share interact state",h=ce("input",{type:"checkbox"})])])]),this.output_block=ce("div",{class:"sagecell_sessionOutput sagecell_active"},[this.spinner=ce("img",{src:utils.URLs.spinner,alt:"Loading",class:"sagecell_spinner"})]),ce("div",{class:"sagecell_poweredBy"},[ce("a",{href:utils.URLs.help,target:"_blank"},["Help"])," | Powered by ",ce("a",{href:"http://www.sagemath.org",target:"_blank"},["SageMath"])]),this.session_files=ce("div",{class:"sagecell_sessionFiles"})])),l.style.display=this.interact_pl.style.display="none";var p=!0,f=function e(){l.style.display="none",window.removeEventListener("mousedown",e),p=!0,close=null},m=0,g={},v={},o=this,b="https://chart.googleapis.com/chart?cht=qr&chs=200x200&chl=";this.updateLinks=function(e){if(e&&(v={}),!p){var t=h.checked?v:g;if(t.zip===undefined){c.removeAttribute("href"),u.removeAttribute("href"),d.parentNode.removeAttribute("href"),d.removeAttribute("src"),console.debug("sending permalink request post:",o.timer());var n={code:o.rawcode,language:o.language,n:++m};if(h.checked){for(var i=[],r=0;r<o.interacts.length;r++)if(null===o.interacts[r].parent_block){for(var s=o.interacts[r],a={state:s.state(),bookmarks:[]},l=0;l<s.bookmarks.childNodes.length;l++){var f=s.bookmarks.childNodes[l];f.firstChild.firstChild.hasChildNodes()&&a.bookmarks.push({name:f.firstChild.firstChild.firstChild.nodeValue,state:$(f).data("values")})}i.push(a)}n.interacts=JSON.stringify(i)}utils.sendRequest("POST",utils.URLs.permalink,n,function(e){e=JSON.parse(e),console.debug("POST permalink request:",o.timer()),e.n===m&&(u.href=t.query=utils.URLs.root+"?q="+e.query,t.zip=utils.URLs.root+"?z="+e.zip+"&lang="+o.language,e.interacts&&(t.zip+="&interacts="+e.interacts),c.href=t.zip,d.parentNode.href=t.query,d.src=b+t.query)})}else u.href=d.parentNode.href=t.query,c.href=t.zip,d.src=b+t.query}},a.addEventListener("click",function(){p?(p=!1,o.updateLinks(!1),l.style.display="block",close&&close(),close=f,window.addEventListener("mousedown",f)):f()}),a.addEventListener("mousedown",stop),l.addEventListener("mousedown",stop),events.on("kernel_busy.Kernel",function(e,t){console.debug("kernel_busy.Kernel for",t.kernel.id),t.kernel.id===o.kernel.id&&(o.spinner.style.display="")}),h.addEventListener("change",function(){o.updateLinks(!1)}),events.on("kernel_idle.Kernel",function(e,t){if(console.debug("kernel_idle.Kernel for",t.kernel.id),t.kernel.id===o.kernel.id){o.spinner.style.display="none";for(var n=0,i=0;n<o.interact_vals.length;n++){for(;o.interacts[i]&&null!==o.interacts[i].parent_block;)i++;if(i===o.interacts.length)break;o.interacts[i].state(o.interact_vals[n].state,function(e,t){return function(){e.clearBookmarks();for(var n=0;n<t.bookmarks.length;n++)e.createBookmark(t.bookmarks[n].name,t.bookmarks[n].state)}}(o.interacts[i],o.interact_vals[n])),i++}o.interact_vals=[]}});var y=function(e,t){if(console.debug("killkernel for",t.kernel.id),t.kernel.id===o.kernel.id){for(var n=0;n<o.interacts.length;n++)o.interacts[n].disable();$(o.output_block).removeClass("sagecell_active"),t.kernel.shell_channel={},t.kernel.iopub_channel={},sagecell.kernels[i]=null}};events.on("kernel_dead.Kernel",y),events.on("kernel_disconnected.Kernel",y),this.lock_output=!1,this.files={},this.eventHandlers={}}var undefined;Kernel.Kernel.prototype.kill=function(){this.running&&(this.running=!1,utils.sendRequest("DELETE",this.kernel_url))};var ce=utils.createElement,interacts={},stop=function(e){e.stopPropagation()},close=null;return Session.prototype.send_message=function(){this.kernel.send_shell_message.apply(this.kernel,arguments)},Session.prototype.execute=function(e){if(this.kernel.opened){console.debug("opened and executing in kernel:",this.timer());var t;this.rawcode=e,"python"===this.language?t="exec ":"html"===this.language?t="html":"sage"!==this.language&&(t="print "+this.language+".eval"),t&&(e=t+'("""'+e.replace(/"/g,'\\"')+'""").strip()'),"r"===this.language&&(e+="\nr.eval('graphics.off()'); None"),"html"===this.language&&(e+="\nNone"),this.code=e;var n={iopub:{output:$.proxy(this.handle_output,this)},shell:{reply:$.proxy(this.handle_execute_reply,this)}};this.set_last_request(null,this.kernel.execute(e,n,{silent:!1,user_expressions:{_sagecell_files:"sys._sage_.new_files()"}}))}else this.kernel.deferred_code.push(e)},Session.prototype.set_last_request=function(e,t){this.kernel.set_callbacks_for_msg(this.last_requests[e]),this.last_requests[e]=t},Session.prototype.appendMsg=function(e,t){$(ce("div")).text(t+JSON.stringify(e)).prependTo(this.outputDiv.find(".sagecell_messages"))},Session.prototype.clear=function(e,t){var n=$(null===e?this.output_block:interacts[e].output_block);if(0!==n.length){if(n[0].style.minHeight=n.height()+"px",setTimeout(function(){n.animate({"min-height":"0px"},"slow")},3e3),n.empty(),t)for(var i=0;i<t.length;i++)$(interacts[e].cells[t[i]]).removeClass("sagecell_dirtyControl");for(var i=0;i<this.interacts.length;i++)this.interacts[i].parent_block===e&&(this.clear(this.interacts[i].interact_id),delete interacts[this.interacts[i].interact_id],this.interacts.splice(i--,1))}},Session.prototype.output=function(e,t){var n=$(null===t?this.output_block:interacts[t].output_block);if(0!==n.length)return $(e).appendTo(n)},Session.prototype.handle_message_reply=function(e){},Session.prototype.handle_execute_reply=function(e){console.debug("handle_execute_reply:",this.timer());var t=e.content.payload[0];if(t){if(t.new_files&&t.new_files.length>0){for(var n=t.new_files,i=this.outputDiv.find("div.sagecell_sessionFiles"),r="<div>\n",o=0,s=n.length;o<s;o++)this.files[n[o]]!==undefined?this.files[n[o]]++:this.files[n[o]]=0;var a=this.kernel.kernel_url+"/files/";for(o in this.files)r+='<a href="'+a+o+"?q="+this.files[o]+'" target="_blank">'+o+"</a> [Updated "+this.files[o]+" time(s)]<br>\n";r+="</div>",i.html(r).effect("pulsate",{times:1},500)}t.data&&t.data["text/plain"]&&this.output('<pre class="sagecell_payload"></pre>',null).html(utils.fixConsole(t.data["text/plain"]))}},Session.prototype.handle_output=function(e,t){console.debug("handle_output");var n=e.header.msg_type,i=e.content,r=e.metadata,o=r.interact_id||t||null;if(null===o||interacts.hasOwnProperty(o)){switch(n){case"stream":var s=$(null===o?this.output_block:interacts[o].output_block),a=s.children().last(),l=0===a.length?undefined:a;if(l&&l.hasClass("sagecell_"+i.name))l.text(l.text()+i.text);else{var c=ce("pre",{class:"sagecell_"+i.name},[i.text]);this.output(c,o)}break;case"error":i.traceback.join&&this.output('<pre class="sagecell_pyerr"></pre>',o).html(utils.fixConsole(i.traceback.join("\n")));break;case"display_data":case"execute_result":var u=this.kernel.kernel_url+"/files/",d=!1;for(var h in i.data)if(i.data.hasOwnProperty(h)&&this.display_handlers[h]){d=!1!==$.proxy(this.display_handlers[h],this)(i.data[h],o,u);break}!d&&i.data["text/plain"]&&this.output("<pre></pre>",o).text(i.data["text/plain"])}console.debug("handled output:",this.timer()),this.appendMsg(i,"Accepted: ");var p=this.outputDiv.find(".sagecell_output").get(0);MathJax.Hub.Queue(["Typeset",MathJax.Hub,p]),MathJax.Hub.Queue([function(){$(p).find(".math").removeClass("math")}])}},Session.prototype.display_handlers={"application/sage-interact":function(e,t){this.interacts.push(interacts[e.new_interact_id]=new InteractCell(this,e,t))},"application/sage-interact-update":function(e){interacts[e.interact_id].updateControl(e)},"application/sage-interact-new-control":function(e){interacts[e.interact_id].newControl(e)},"application/sage-interact-del-control":function(e){interacts[e.interact_id].delControl(e)},"application/sage-interact-bookmark":function(e){interacts[e.interact_id].createBookmark(e.name,e.values)},"application/sage-interact-control":function(e,t){var n=this,i=interact_controls[e.control_type];if(i===undefined)return!1;var r=new i(this,e.control_id);r.create(e,t),$.each(e.variable,function(t,i){n.register_control(e.namespace,i,r)}),r.update(e.namespace,e.variable)},"application/sage-interact-variable":function(e){this.update_variable(e.namespace,e.variable,e.control)},"application/sage-clear":function(e,t){this.clear(t,e.changed)},"text/html":function(e,t,n){this.output("<div></div>",t).html(e.replace(/cell:\/\//gi,n))},"application/javascript":function(data){eval(data)},"text/image-filename":function(e,t,n){this.output("<img src='"+n+e+"'/>",t)},"image/png":function(e,t){this.output("<img src='data:image/png;base64,"+e+"'/>",t)},"application/x-jmol":function(e,t,n){Jmol.setDocument(!1);var i={height:500,width:500,color:"white",j2sPath:utils.URLs.root+"static/jsmol/j2s",serverURL:utils.URLs.root+"static/jsmol/php/jsmol.php",coverImage:n+e+"/preview.png",deferUncover:!0,disableInitialConsole:!0,script:"set defaultdirectory '"+n+e+"/scene.zip';\n script SCRIPT;\n",menuFile:utils.URLs.root+"static/SageMenu.mnu"};this.output(Jmol.getAppletHtml("scJmol",i),t)},"application/x-canvas3d":function(e,t,n){var i=this.output(document.createElement("div"),t),r=[window.hasOwnProperty("cell_writer"),window.cell_writer],o=[window.hasOwnProperty("translations"),window.translations];window.cell_writer={write:function(e){i.html(e)}};var s="Sorry, but you need a browser that supports the &lt;canvas&gt; tag.";window.translations={},window.translations[s]=s,canvas3d.viewer(n+e),r[0]?window.cell_writer=r[1]:delete window.cell_writer,o[0]?window.translations=o[1]:delete window.translations}},Session.prototype.register_control=function(e,t,n){this.namespaces[e]===undefined&&(this.namespaces[e]={}),this.namespaces[e][t]===undefined&&(this.namespaces[e][t]=[]),this.namespaces[e][t].push(n)},Session.prototype.get_variable_controls=function(e,t){var n={};return this.namespaces[e]&&this.namespaces[e][t]&&$.each(this.namespaces[e][t],function(e,t){n[t.control_id]=t}),n},Session.prototype.update_variable=function(e,t,n){var i,r=this;$.isArray(t)?(i={},$.each(t,function(t,n){$.extend(i,r.get_variable_controls(e,n))})):i=this.get_variable_controls(e,t),$.each(i,function(i,r){$.proxy(r.update,r)(e,t,n)})},Session.prototype.destroy=function(){this.clear(null),$(this.session_container).remove()},Session}),define("text",["module"],function(e){"use strict";function t(e,t){return void 0===e||""===e?t:e}function n(e,n,i,r){if(n===r)return!0;if(e===i){if("http"===e)return t(n,"80")===t(r,"80");if("https"===e)return t(n,"443")===t(r,"443")}return!1}var i,r,o,s,a,l=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],c=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,u=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,d="undefined"!=typeof location&&location.href,h=d&&location.protocol&&location.protocol.replace(/\:/,""),p=d&&location.hostname,f=d&&(location.port||void 0),m={},g=e.config&&e.config()||{};return i={version:"2.0.15",strip:function(e){if(e){e=e.replace(c,"");var t=e.match(u);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:g.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;t<3;t+=1){n=l[t];try{e=new ActiveXObject(n)}catch(e){}if(e){l=[n];break}}return e},parseName:function(e){var t,n,i,r=!1,o=e.lastIndexOf("."),s=0===e.indexOf("./")||0===e.indexOf("../");return o!==-1&&(!s||o>1)?(t=e.substring(0,o),n=e.substring(o+1)):t=e,i=n||t,o=i.indexOf("!"),o!==-1&&(r="strip"===i.substring(o+1),i=i.substring(0,o),n?n=i:t=i),{moduleName:t,ext:n,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,r,o){var s,a,l,c=i.xdRegExp.exec(e);return!c||(s=c[2],a=c[3],a=a.split(":"),l=a[1],a=a[0],(!s||s===t)&&(!a||a.toLowerCase()===r.toLowerCase())&&(!l&&!a||n(s,l,t,o)))},finishLoad:function(e,t,n,r){n=t?i.strip(n):n,g.isBuild&&(m[e]=n),r(n)},load:function(e,t,n,r){if(r&&r.isBuild&&!r.inlineText)return void n();g.isBuild=r&&r.isBuild;var o=i.parseName(e),s=o.moduleName+(o.ext?"."+o.ext:""),a=t.toUrl(s),l=g.useXhr||i.useXhr;return 0===a.indexOf("empty:")?void n():void(!d||l(a,h,p,f)?i.get(a,function(t){i.finishLoad(e,o.strip,t,n)},function(e){n.error&&n.error(e)}):t([s],function(e){i.finishLoad(o.moduleName+"."+o.ext,o.strip,e,n)}))},write:function(e,t,n,r){if(m.hasOwnProperty(t)){var o=i.jsEscape(m[t]);n.asModule(e+"!"+t,"define(function () { return '"+o+"';});\n")}},writeFile:function(e,t,n,r,o){var s=i.parseName(t),a=s.ext?"."+s.ext:"",l=s.moduleName+a,c=n.toUrl(s.moduleName+a)+".js";i.load(l,n,function(t){var n=function(e){return r(c,e)};n.asModule=function(e,t){return r.asModule(e,c,t)},i.write(e,l,n,o)},o)}},"node"===g.env||!g.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(r=require.nodeRequire("fs"),i.get=function(e,t,n){try{var i=r.readFileSync(e,"utf8");"\ufeff"===i[0]&&(i=i.substring(1)),t(i)}catch(e){n&&n(e)}}):"xhr"===g.env||!g.env&&i.createXhr()?i.get=function(e,t,n,r){var o,s=i.createXhr();if(s.open("GET",e,!0),r)for(o in r)r.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),r[o]);g.onXhr&&g.onXhr(s,e),s.onreadystatechange=function(i){var r,o;4===s.readyState&&(r=s.status||0,r>399&&r<600?(o=new Error(e+" HTTP status: "+r),o.xhr=s,n&&n(o)):t(s.responseText),g.onXhrComplete&&g.onXhrComplete(s,e))},s.send(null)}:"rhino"===g.env||!g.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?i.get=function(e,t){var n,i,r="utf-8",o=new java.io.File(e),s=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),r)),l="";try{for(n=new java.lang.StringBuffer,i=a.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&n.append(i);null!==(i=a.readLine());)n.append(s),n.append(i);l=String(n.toString())}finally{a.close()}t(l)}:("xpconnect"===g.env||!g.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(o=Components.classes,s=Components.interfaces,Components.utils.import("resource://gre/modules/FileUtils.jsm"),a="@mozilla.org/windows-registry-key;1"in o,i.get=function(e,t){var n,i,r,l={};a&&(e=e.replace(/\//g,"\\")),r=new FileUtils.File(e);try{n=o["@mozilla.org/network/file-input-stream;1"].createInstance(s.nsIFileInputStream),n.init(r,1,0,!1),i=o["@mozilla.org/intl/converter-input-stream;1"].createInstance(s.nsIConverterInputStream),i.init(n,"utf-8",n.available(),s.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),i.readString(n.available(),l),i.close(),n.close(),t(l.value)}catch(e){throw new Error((r&&r.path||"")+": "+e)}}),i}),define("text!cell_body.html",[],function(){return'<div class="sagecell_input">\n  <div class="sagecell_editor">\n    <textarea class="sagecell_commands"\n      autocapitalize="off"\n      autocomplete="off"\n      autocorrect="off"\n      inputmode="verbatim"\n      x-inputmode="verbatim"></textarea>\n  </div>\n  <!-- Explicitly set a button type other than \'submit\' so it doesn\'t submit a form -->\n  <button type="button" class="sagecell_evalButton">Evaluate</button> \n  <div class="sagecell_options">\n    <div class="sagecell_language">\n      <label>\n        Language:\n        <select>\n          <option value="sage">Sage</option>\n          <option value="gap">Gap</option>\n          <option value="gp">GP</option>\n          <option value="html">HTML</option>\n          <option value="maxima">Maxima</option>\n          <option value="octave">Octave</option>\n          <option value="python">Python</option>\n          <option value="r">R</option>\n          <option value="singular">Singular</option>\n        </select>\n      </label>\n    </div>\n  </div>\n<!--  <div class="sagecell_advancedFrame">\n    <div class="sagecell_advancedTitle">Advanced</div>\n    <div style="display:none" class="sagecell_advancedFields">\n      <fieldset class="sagecell_files">\n        <legend>Upload files</legend>\n        <button class="sagecell_addFile">Add file</button>\n        <button class="sagecell_clearFiles">Clear files</button>\n        <ul class="sagecell_fileList"></ul>\n      </fieldset>\n    </div>\n  </div> -->\n</div>\n<div class="sagecell_output_elements">\n  <div class="sagecell_output"></div>\n  <div class="sagecell_messages">\n    <hr>\n    <span style="font-size:large;font-weight:bold">Messages</span>\n    <br><br>\n  </div>\n</div>\n<div class="sagecell-templates hide">\n</div>\n\n\n'}),define("text!all.min.css",[],function(){return'\n.CodeMirror {\n  \n  font-family: monospace;\n  height: 300px;\n  color: black;\n}\n.CodeMirror-lines {\n  padding: 4px 0; \n}\n.CodeMirror pre {\n  padding: 0 4px; \n}\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  background-color: white; \n}\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumbers {}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap;\n}\n.CodeMirror-guttermarker { color: black; }\n.CodeMirror-guttermarker-subtle { color: #999; }\n.CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0;\n}\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7;\n}\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n.cm-animate-fat-cursor {\n  width: auto;\n  border: 0;\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n  background-color: #7e7;\n}\n@-moz-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@-webkit-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n.CodeMirror-overwrite .CodeMirror-cursor {}\n.cm-tab { display: inline-block; text-decoration: inherit; }\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0; right: 0; top: -50px; bottom: -20px;\n  overflow: hidden;\n}\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0; bottom: 0;\n  position: absolute;\n}\n.cm-s-default .cm-header {color: blue;}\n.cm-s-default .cm-quote {color: #090;}\n.cm-negative {color: #d44;}\n.cm-positive {color: #292;}\n.cm-header, .cm-strong {font-weight: bold;}\n.cm-em {font-style: italic;}\n.cm-link {text-decoration: underline;}\n.cm-strikethrough {text-decoration: line-through;}\n.cm-s-default .cm-keyword {color: #708;}\n.cm-s-default .cm-atom {color: #219;}\n.cm-s-default .cm-number {color: #164;}\n.cm-s-default .cm-def {color: #00f;}\n.cm-s-default .cm-variable,\n.cm-s-default .cm-punctuation,\n.cm-s-default .cm-property,\n.cm-s-default .cm-operator {}\n.cm-s-default .cm-variable-2 {color: #05a;}\n.cm-s-default .cm-variable-3 {color: #085;}\n.cm-s-default .cm-comment {color: #a50;}\n.cm-s-default .cm-string {color: #a11;}\n.cm-s-default .cm-string-2 {color: #f50;}\n.cm-s-default .cm-meta {color: #555;}\n.cm-s-default .cm-qualifier {color: #555;}\n.cm-s-default .cm-builtin {color: #30a;}\n.cm-s-default .cm-bracket {color: #997;}\n.cm-s-default .cm-tag {color: #170;}\n.cm-s-default .cm-attribute {color: #00c;}\n.cm-s-default .cm-hr {color: #999;}\n.cm-s-default .cm-link {color: #00c;}\n.cm-s-default .cm-error {color: #f00;}\n.cm-invalidchar {color: #f00;}\n.CodeMirror-composing { border-bottom: 2px solid; }\ndiv.CodeMirror span.CodeMirror-matchingbracket {color: #0f0;}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {color: #f22;}\n.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\n.CodeMirror-activeline-background {background: #e8f2ff;}\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white;\n}\n.CodeMirror-scroll {\n  overflow: scroll !important; \n  \n  \n  margin-bottom: -30px; margin-right: -30px;\n  padding-bottom: 30px;\n  height: 100%;\n  outline: none; \n  position: relative;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 30px solid transparent;\n}\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0; top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0; left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0; bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0; bottom: 0;\n}\n.CodeMirror-gutters {\n  position: absolute; left: 0; top: 0;\n  min-height: 100%;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -30px;\n}\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important;\n}\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0; bottom: 0;\n  z-index: 4;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n.CodeMirror-gutter-wrapper {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n}\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px; \n}\n.CodeMirror pre {\n  \n  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  font-variant-ligatures: contextual;\n}\n.CodeMirror-wrap pre {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0; right: 0; top: 0; bottom: 0;\n  z-index: 0;\n}\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  overflow: auto;\n}\n.CodeMirror-widget {}\n.CodeMirror-code {\n  outline: none;\n}\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n.CodeMirror-measure pre { position: static; }\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\ndiv.CodeMirror-dragcursors {\n  visibility: visible;\n}\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n.CodeMirror-selected { background: #d9d9d9; }\n.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n.CodeMirror-crosshair { cursor: crosshair; }\n.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }\n.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\n.cm-searching {\n  background: #ffa;\n  background: rgba(255, 255, 0, .4);\n}\n.cm-force-border { padding-right: .1px; }\n@media print {\n  \n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n.cm-tab-wrap-hack:after { content: \'\'; }\nspan.CodeMirror-selectedtext { background: none; }\n.CodeMirror-fullscreen {\n  position: fixed;\n  top: 0; left: 0; right: 0; bottom: 0;\n  height: auto;\n  z-index: 9;\n}\n.CodeMirror-foldmarker {\n  color: blue;\n  text-shadow: #b9f 1px 1px 2px, #b9f -1px -1px 2px, #b9f 1px -1px 2px, #b9f -1px 1px 2px;\n  font-family: arial;\n  line-height: .3;\n  cursor: pointer;\n}\n.CodeMirror-foldgutter {\n  width: .7em;\n}\n.CodeMirror-foldgutter-open,\n.CodeMirror-foldgutter-folded {\n  cursor: pointer;\n}\n.CodeMirror-foldgutter-open:after {\n  content: "\\25BE";\n}\n.CodeMirror-foldgutter-folded:after {\n  content: "\\25B8";\n}\n.CodeMirror-hints {\n  position: absolute;\n  z-index: 10;\n  overflow: hidden;\n  list-style: none;\n  margin: 0;\n  padding: 2px;\n  -webkit-box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n  -moz-box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n  box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n  border-radius: 3px;\n  border: 1px solid silver;\n  background: white;\n  font-size: 90%;\n  font-family: monospace;\n  max-height: 20em;\n  overflow-y: auto;\n}\n.CodeMirror-hint {\n  margin: 0;\n  padding: 0 4px;\n  border-radius: 2px;\n  white-space: pre;\n  color: black;\n  cursor: pointer;\n}\nli.CodeMirror-hint-active {\n  background: #08f;\n  color: white;\n}\n/*! jQuery UI - v1.10.4 - 2014-01-17\n* http://jqueryui.com\n* Includes: jquery.ui.core.css, jquery.ui.accordion.css, jquery.ui.autocomplete.css, jquery.ui.button.css, jquery.ui.datepicker.css, jquery.ui.dialog.css, jquery.ui.menu.css, jquery.ui.progressbar.css, jquery.ui.resizable.css, jquery.ui.selectable.css, jquery.ui.slider.css, jquery.ui.spinner.css, jquery.ui.tabs.css, jquery.ui.tooltip.css, jquery.ui.theme.css\n* To view and modify this theme, visit http://jqueryui.com/themeroller/?ffDefault=Verdana%2CArial%2Csans-serif&fwDefault=normal&fsDefault=1.1em&cornerRadius=4px&bgColorHeader=cccccc&bgTextureHeader=highlight_soft&bgImgOpacityHeader=75&borderColorHeader=aaaaaa&fcHeader=222222&iconColorHeader=222222&bgColorContent=ffffff&bgTextureContent=flat&bgImgOpacityContent=75&borderColorContent=aaaaaa&fcContent=222222&iconColorContent=222222&bgColorDefault=e6e6e6&bgTextureDefault=glass&bgImgOpacityDefault=75&borderColorDefault=d3d3d3&fcDefault=555555&iconColorDefault=888888&bgColorHover=dadada&bgTextureHover=glass&bgImgOpacityHover=75&borderColorHover=999999&fcHover=212121&iconColorHover=454545&bgColorActive=ffffff&bgTextureActive=glass&bgImgOpacityActive=65&borderColorActive=aaaaaa&fcActive=212121&iconColorActive=454545&bgColorHighlight=fbf9ee&bgTextureHighlight=glass&bgImgOpacityHighlight=55&borderColorHighlight=fcefa1&fcHighlight=363636&iconColorHighlight=2e83ff&bgColorError=fef1ec&bgTextureError=glass&bgImgOpacityError=95&borderColorError=cd0a0a&fcError=cd0a0a&iconColorError=cd0a0a&bgColorOverlay=aaaaaa&bgTextureOverlay=flat&bgImgOpacityOverlay=0&opacityOverlay=30&bgColorShadow=aaaaaa&bgTextureShadow=flat&bgImgOpacityShadow=0&opacityShadow=30&thicknessShadow=8px&offsetTopShadow=-8px&offsetLeftShadow=-8px&cornerRadiusShadow=8px\n* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */\n.ui-helper-hidden{display:none}.ui-helper-hidden-accessible{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.ui-helper-reset{margin:0;padding:0;border:0;outline:0;line-height:1.3;text-decoration:none;font-size:100%;list-style:none}.ui-helper-clearfix:before,.ui-helper-clearfix:after{content:"";display:table;border-collapse:collapse}.ui-helper-clearfix:after{clear:both}.ui-helper-clearfix{min-height:0}.ui-helper-zfix{width:100%;height:100%;top:0;left:0;position:absolute;opacity:0;filter:Alpha(Opacity=0)}.ui-front{z-index:100}.ui-state-disabled{cursor:default!important}.ui-icon{display:block;text-indent:-99999px;overflow:hidden;background-repeat:no-repeat}.ui-widget-overlay{position:fixed;top:0;left:0;width:100%;height:100%}.ui-accordion .ui-accordion-header{display:block;cursor:pointer;position:relative;margin-top:2px;padding:.5em .5em .5em .7em;min-height:0}.ui-accordion .ui-accordion-icons{padding-left:2.2em}.ui-accordion .ui-accordion-noicons{padding-left:.7em}.ui-accordion .ui-accordion-icons .ui-accordion-icons{padding-left:2.2em}.ui-accordion .ui-accordion-header .ui-accordion-header-icon{position:absolute;left:.5em;top:50%;margin-top:-8px}.ui-accordion .ui-accordion-content{padding:1em 2.2em;border-top:0;overflow:auto}.ui-autocomplete{position:absolute;top:0;left:0;cursor:default}.ui-button{display:inline-block;position:relative;padding:0;line-height:normal;margin-right:.1em;cursor:pointer;vertical-align:middle;text-align:center;overflow:visible}.ui-button,.ui-button:link,.ui-button:visited,.ui-button:hover,.ui-button:active{text-decoration:none}.ui-button-icon-only{width:2.2em}button.ui-button-icon-only{width:2.4em}.ui-button-icons-only{width:3.4em}button.ui-button-icons-only{width:3.7em}.ui-button .ui-button-text{display:block;line-height:normal}.ui-button-text-only .ui-button-text{padding:.4em 1em}.ui-button-icon-only .ui-button-text,.ui-button-icons-only .ui-button-text{padding:.4em;text-indent:-9999999px}.ui-button-text-icon-primary .ui-button-text,.ui-button-text-icons .ui-button-text{padding:.4em 1em .4em 2.1em}.ui-button-text-icon-secondary .ui-button-text,.ui-button-text-icons .ui-button-text{padding:.4em 2.1em .4em 1em}.ui-button-text-icons .ui-button-text{padding-left:2.1em;padding-right:2.1em}input.ui-button{padding:.4em 1em}.ui-button-icon-only .ui-icon,.ui-button-text-icon-primary .ui-icon,.ui-button-text-icon-secondary .ui-icon,.ui-button-text-icons .ui-icon,.ui-button-icons-only .ui-icon{position:absolute;top:50%;margin-top:-8px}.ui-button-icon-only .ui-icon{left:50%;margin-left:-8px}.ui-button-text-icon-primary .ui-button-icon-primary,.ui-button-text-icons .ui-button-icon-primary,.ui-button-icons-only .ui-button-icon-primary{left:.5em}.ui-button-text-icon-secondary .ui-button-icon-secondary,.ui-button-text-icons .ui-button-icon-secondary,.ui-button-icons-only .ui-button-icon-secondary{right:.5em}.ui-buttonset{margin-right:7px}.ui-buttonset .ui-button{margin-left:0;margin-right:-.3em}input.ui-button::-moz-focus-inner,button.ui-button::-moz-focus-inner{border:0;padding:0}.ui-datepicker{width:17em;padding:.2em .2em 0;display:none}.ui-datepicker .ui-datepicker-header{position:relative;padding:.2em 0}.ui-datepicker .ui-datepicker-prev,.ui-datepicker .ui-datepicker-next{position:absolute;top:2px;width:1.8em;height:1.8em}.ui-datepicker .ui-datepicker-prev-hover,.ui-datepicker .ui-datepicker-next-hover{top:1px}.ui-datepicker .ui-datepicker-prev{left:2px}.ui-datepicker .ui-datepicker-next{right:2px}.ui-datepicker .ui-datepicker-prev-hover{left:1px}.ui-datepicker .ui-datepicker-next-hover{right:1px}.ui-datepicker .ui-datepicker-prev span,.ui-datepicker .ui-datepicker-next span{display:block;position:absolute;left:50%;margin-left:-8px;top:50%;margin-top:-8px}.ui-datepicker .ui-datepicker-title{margin:0 2.3em;line-height:1.8em;text-align:center}.ui-datepicker .ui-datepicker-title select{font-size:1em;margin:1px 0}.ui-datepicker select.ui-datepicker-month,.ui-datepicker select.ui-datepicker-year{width:49%}.ui-datepicker table{width:100%;font-size:.9em;border-collapse:collapse;margin:0 0 .4em}.ui-datepicker th{padding:.7em .3em;text-align:center;font-weight:bold;border:0}.ui-datepicker td{border:0;padding:1px}.ui-datepicker td span,.ui-datepicker td a{display:block;padding:.2em;text-align:right;text-decoration:none}.ui-datepicker .ui-datepicker-buttonpane{background-image:none;margin:.7em 0 0 0;padding:0 .2em;border-left:0;border-right:0;border-bottom:0}.ui-datepicker .ui-datepicker-buttonpane button{float:right;margin:.5em .2em .4em;cursor:pointer;padding:.2em .6em .3em .6em;width:auto;overflow:visible}.ui-datepicker .ui-datepicker-buttonpane button.ui-datepicker-current{float:left}.ui-datepicker.ui-datepicker-multi{width:auto}.ui-datepicker-multi .ui-datepicker-group{float:left}.ui-datepicker-multi .ui-datepicker-group table{width:95%;margin:0 auto .4em}.ui-datepicker-multi-2 .ui-datepicker-group{width:50%}.ui-datepicker-multi-3 .ui-datepicker-group{width:33.3%}.ui-datepicker-multi-4 .ui-datepicker-group{width:25%}.ui-datepicker-multi .ui-datepicker-group-last .ui-datepicker-header,.ui-datepicker-multi .ui-datepicker-group-middle .ui-datepicker-header{border-left-width:0}.ui-datepicker-multi .ui-datepicker-buttonpane{clear:left}.ui-datepicker-row-break{clear:both;width:100%;font-size:0}.ui-datepicker-rtl{direction:rtl}.ui-datepicker-rtl .ui-datepicker-prev{right:2px;left:auto}.ui-datepicker-rtl .ui-datepicker-next{left:2px;right:auto}.ui-datepicker-rtl .ui-datepicker-prev:hover{right:1px;left:auto}.ui-datepicker-rtl .ui-datepicker-next:hover{left:1px;right:auto}.ui-datepicker-rtl .ui-datepicker-buttonpane{clear:right}.ui-datepicker-rtl .ui-datepicker-buttonpane button{float:left}.ui-datepicker-rtl .ui-datepicker-buttonpane button.ui-datepicker-current,.ui-datepicker-rtl .ui-datepicker-group{float:right}.ui-datepicker-rtl .ui-datepicker-group-last .ui-datepicker-header,.ui-datepicker-rtl .ui-datepicker-group-middle .ui-datepicker-header{border-right-width:0;border-left-width:1px}.ui-dialog{overflow:hidden;position:absolute;top:0;left:0;padding:.2em;outline:0}.ui-dialog .ui-dialog-titlebar{padding:.4em 1em;position:relative}.ui-dialog .ui-dialog-title{float:left;margin:.1em 0;white-space:nowrap;width:90%;overflow:hidden;text-overflow:ellipsis}.ui-dialog .ui-dialog-titlebar-close{position:absolute;right:.3em;top:50%;width:20px;margin:-10px 0 0 0;padding:1px;height:20px}.ui-dialog .ui-dialog-content{position:relative;border:0;padding:.5em 1em;background:none;overflow:auto}.ui-dialog .ui-dialog-buttonpane{text-align:left;border-width:1px 0 0 0;background-image:none;margin-top:.5em;padding:.3em 1em .5em .4em}.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset{float:right}.ui-dialog .ui-dialog-buttonpane button{margin:.5em .4em .5em 0;cursor:pointer}.ui-dialog .ui-resizable-se{width:12px;height:12px;right:-5px;bottom:-5px;background-position:16px 16px}.ui-draggable .ui-dialog-titlebar{cursor:move}.ui-menu{list-style:none;padding:2px;margin:0;display:block;outline:none}.ui-menu .ui-menu{margin-top:-3px;position:absolute}.ui-menu .ui-menu-item{margin:0;padding:0;width:100%;list-style-image:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)}.ui-menu .ui-menu-divider{margin:5px -2px 5px -2px;height:0;font-size:0;line-height:0;border-width:1px 0 0 0}.ui-menu .ui-menu-item a{text-decoration:none;display:block;padding:2px .4em;line-height:1.5;min-height:0;font-weight:normal}.ui-menu .ui-menu-item a.ui-state-focus,.ui-menu .ui-menu-item a.ui-state-active{font-weight:normal;margin:-1px}.ui-menu .ui-state-disabled{font-weight:normal;margin:.4em 0 .2em;line-height:1.5}.ui-menu .ui-state-disabled a{cursor:default}.ui-menu-icons{position:relative}.ui-menu-icons .ui-menu-item a{position:relative;padding-left:2em}.ui-menu .ui-icon{position:absolute;top:.2em;left:.2em}.ui-menu .ui-menu-icon{position:static;float:right}.ui-progressbar{height:2em;text-align:left;overflow:hidden}.ui-progressbar .ui-progressbar-value{margin:-1px;height:100%}.ui-progressbar .ui-progressbar-overlay{background:url(images/animated-overlay.gif);height:100%;filter:alpha(opacity=25);opacity:0.25}.ui-progressbar-indeterminate .ui-progressbar-value{background-image:none}.ui-resizable{position:relative}.ui-resizable-handle{position:absolute;font-size:0.1px;display:block}.ui-resizable-disabled .ui-resizable-handle,.ui-resizable-autohide .ui-resizable-handle{display:none}.ui-resizable-n{cursor:n-resize;height:7px;width:100%;top:-5px;left:0}.ui-resizable-s{cursor:s-resize;height:7px;width:100%;bottom:-5px;left:0}.ui-resizable-e{cursor:e-resize;width:7px;right:-5px;top:0;height:100%}.ui-resizable-w{cursor:w-resize;width:7px;left:-5px;top:0;height:100%}.ui-resizable-se{cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.ui-resizable-sw{cursor:sw-resize;width:9px;height:9px;left:-5px;bottom:-5px}.ui-resizable-nw{cursor:nw-resize;width:9px;height:9px;left:-5px;top:-5px}.ui-resizable-ne{cursor:ne-resize;width:9px;height:9px;right:-5px;top:-5px}.ui-selectable-helper{position:absolute;z-index:100;border:1px dotted black}.ui-slider{position:relative;text-align:left}.ui-slider .ui-slider-handle{position:absolute;z-index:2;width:1.2em;height:1.2em;cursor:default}.ui-slider .ui-slider-range{position:absolute;z-index:1;font-size:.7em;display:block;border:0;background-position:0 0}.ui-slider.ui-state-disabled .ui-slider-handle,.ui-slider.ui-state-disabled .ui-slider-range{filter:inherit}.ui-slider-horizontal{height:.8em}.ui-slider-horizontal .ui-slider-handle{top:-.3em;margin-left:-.6em}.ui-slider-horizontal .ui-slider-range{top:0;height:100%}.ui-slider-horizontal .ui-slider-range-min{left:0}.ui-slider-horizontal .ui-slider-range-max{right:0}.ui-slider-vertical{width:.8em;height:100px}.ui-slider-vertical .ui-slider-handle{left:-.3em;margin-left:0;margin-bottom:-.6em}.ui-slider-vertical .ui-slider-range{left:0;width:100%}.ui-slider-vertical .ui-slider-range-min{bottom:0}.ui-slider-vertical .ui-slider-range-max{top:0}.ui-spinner{position:relative;display:inline-block;overflow:hidden;padding:0;vertical-align:middle}.ui-spinner-input{border:none;background:none;color:inherit;padding:0;margin:.2em 0;vertical-align:middle;margin-left:.4em;margin-right:22px}.ui-spinner-button{width:16px;height:50%;font-size:.5em;padding:0;margin:0;text-align:center;position:absolute;cursor:default;display:block;overflow:hidden;right:0}.ui-spinner a.ui-spinner-button{border-top:none;border-bottom:none;border-right:none}.ui-spinner .ui-icon{position:absolute;margin-top:-8px;top:50%;left:0}.ui-spinner-up{top:0}.ui-spinner-down{bottom:0}.ui-spinner .ui-icon-triangle-1-s{background-position:-65px -16px}.ui-tabs{position:relative;padding:.2em}.ui-tabs .ui-tabs-nav{margin:0;padding:.2em .2em 0}.ui-tabs .ui-tabs-nav li{list-style:none;float:left;position:relative;top:0;margin:1px .2em 0 0;border-bottom-width:0;padding:0;white-space:nowrap}.ui-tabs .ui-tabs-nav .ui-tabs-anchor{float:left;padding:.5em 1em;text-decoration:none}.ui-tabs .ui-tabs-nav li.ui-tabs-active{margin-bottom:-1px;padding-bottom:1px}.ui-tabs .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor,.ui-tabs .ui-tabs-nav li.ui-state-disabled .ui-tabs-anchor,.ui-tabs .ui-tabs-nav li.ui-tabs-loading .ui-tabs-anchor{cursor:text}.ui-tabs-collapsible .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor{cursor:pointer}.ui-tabs .ui-tabs-panel{display:block;border-width:0;padding:1em 1.4em;background:none}.ui-tooltip{padding:8px;position:absolute;z-index:9999;max-width:300px;-webkit-box-shadow:0 0 5px #aaa;box-shadow:0 0 5px #aaa}body .ui-tooltip{border-width:2px}.ui-widget{font-family:Verdana,Arial,sans-serif;font-size:1.1em}.ui-widget .ui-widget{font-size:1em}.ui-widget input,.ui-widget select,.ui-widget textarea,.ui-widget button{font-family:Verdana,Arial,sans-serif;font-size:1em}.ui-widget-content{border:1px solid #aaa;background:#fff url(images/ui-bg_flat_75_ffffff_40x100.png) 50% 50% repeat-x;color:#222}.ui-widget-content a{color:#222}.ui-widget-header{border:1px solid #aaa;background:#ccc url(images/ui-bg_highlight-soft_75_cccccc_1x100.png) 50% 50% repeat-x;color:#222;font-weight:bold}.ui-widget-header a{color:#222}.ui-state-default,.ui-widget-content .ui-state-default,.ui-widget-header .ui-state-default{border:1px solid #d3d3d3;background:#e6e6e6 url(images/ui-bg_glass_75_e6e6e6_1x400.png) 50% 50% repeat-x;font-weight:normal;color:#555}.ui-state-default a,.ui-state-default a:link,.ui-state-default a:visited{color:#555;text-decoration:none}.ui-state-hover,.ui-widget-content .ui-state-hover,.ui-widget-header .ui-state-hover,.ui-state-focus,.ui-widget-content .ui-state-focus,.ui-widget-header .ui-state-focus{border:1px solid #999;background:#dadada url(images/ui-bg_glass_75_dadada_1x400.png) 50% 50% repeat-x;font-weight:normal;color:#212121}.ui-state-hover a,.ui-state-hover a:hover,.ui-state-hover a:link,.ui-state-hover a:visited,.ui-state-focus a,.ui-state-focus a:hover,.ui-state-focus a:link,.ui-state-focus a:visited{color:#212121;text-decoration:none}.ui-state-active,.ui-widget-content .ui-state-active,.ui-widget-header .ui-state-active{border:1px solid #aaa;background:#fff url(images/ui-bg_glass_65_ffffff_1x400.png) 50% 50% repeat-x;font-weight:normal;color:#212121}.ui-state-active a,.ui-state-active a:link,.ui-state-active a:visited{color:#212121;text-decoration:none}.ui-state-highlight,.ui-widget-content .ui-state-highlight,.ui-widget-header .ui-state-highlight{border:1px solid #fcefa1;background:#fbf9ee url(images/ui-bg_glass_55_fbf9ee_1x400.png) 50% 50% repeat-x;color:#363636}.ui-state-highlight a,.ui-widget-content .ui-state-highlight a,.ui-widget-header .ui-state-highlight a{color:#363636}.ui-state-error,.ui-widget-content .ui-state-error,.ui-widget-header .ui-state-error{border:1px solid #cd0a0a;background:#fef1ec url(images/ui-bg_glass_95_fef1ec_1x400.png) 50% 50% repeat-x;color:#cd0a0a}.ui-state-error a,.ui-widget-content .ui-state-error a,.ui-widget-header .ui-state-error a{color:#cd0a0a}.ui-state-error-text,.ui-widget-content .ui-state-error-text,.ui-widget-header .ui-state-error-text{color:#cd0a0a}.ui-priority-primary,.ui-widget-content .ui-priority-primary,.ui-widget-header .ui-priority-primary{font-weight:bold}.ui-priority-secondary,.ui-widget-content .ui-priority-secondary,.ui-widget-header .ui-priority-secondary{opacity:.7;filter:Alpha(Opacity=70);font-weight:normal}.ui-state-disabled,.ui-widget-content .ui-state-disabled,.ui-widget-header .ui-state-disabled{opacity:.35;filter:Alpha(Opacity=35);background-image:none}.ui-state-disabled .ui-icon{filter:Alpha(Opacity=35)}.ui-icon{width:16px;height:16px}.ui-icon,.ui-widget-content .ui-icon{background-image:url(images/ui-icons_222222_256x240.png)}.ui-widget-header .ui-icon{background-image:url(images/ui-icons_222222_256x240.png)}.ui-state-default .ui-icon{background-image:url(images/ui-icons_888888_256x240.png)}.ui-state-hover .ui-icon,.ui-state-focus .ui-icon{background-image:url(images/ui-icons_454545_256x240.png)}.ui-state-active .ui-icon{background-image:url(images/ui-icons_454545_256x240.png)}.ui-state-highlight .ui-icon{background-image:url(images/ui-icons_2e83ff_256x240.png)}.ui-state-error .ui-icon,.ui-state-error-text .ui-icon{background-image:url(images/ui-icons_cd0a0a_256x240.png)}.ui-icon-blank{background-position:16px 16px}.ui-icon-carat-1-n{background-position:0 0}.ui-icon-carat-1-ne{background-position:-16px 0}.ui-icon-carat-1-e{background-position:-32px 0}.ui-icon-carat-1-se{background-position:-48px 0}.ui-icon-carat-1-s{background-position:-64px 0}.ui-icon-carat-1-sw{background-position:-80px 0}.ui-icon-carat-1-w{background-position:-96px 0}.ui-icon-carat-1-nw{background-position:-112px 0}.ui-icon-carat-2-n-s{background-position:-128px 0}.ui-icon-carat-2-e-w{background-position:-144px 0}.ui-icon-triangle-1-n{background-position:0 -16px}.ui-icon-triangle-1-ne{background-position:-16px -16px}.ui-icon-triangle-1-e{background-position:-32px -16px}.ui-icon-triangle-1-se{background-position:-48px -16px}.ui-icon-triangle-1-s{background-position:-64px -16px}.ui-icon-triangle-1-sw{background-position:-80px -16px}.ui-icon-triangle-1-w{background-position:-96px -16px}.ui-icon-triangle-1-nw{background-position:-112px -16px}.ui-icon-triangle-2-n-s{background-position:-128px -16px}.ui-icon-triangle-2-e-w{background-position:-144px -16px}.ui-icon-arrow-1-n{background-position:0 -32px}.ui-icon-arrow-1-ne{background-position:-16px -32px}.ui-icon-arrow-1-e{background-position:-32px -32px}.ui-icon-arrow-1-se{background-position:-48px -32px}.ui-icon-arrow-1-s{background-position:-64px -32px}.ui-icon-arrow-1-sw{background-position:-80px -32px}.ui-icon-arrow-1-w{background-position:-96px -32px}.ui-icon-arrow-1-nw{background-position:-112px -32px}.ui-icon-arrow-2-n-s{background-position:-128px -32px}.ui-icon-arrow-2-ne-sw{background-position:-144px -32px}.ui-icon-arrow-2-e-w{background-position:-160px -32px}.ui-icon-arrow-2-se-nw{background-position:-176px -32px}.ui-icon-arrowstop-1-n{background-position:-192px -32px}.ui-icon-arrowstop-1-e{background-position:-208px -32px}.ui-icon-arrowstop-1-s{background-position:-224px -32px}.ui-icon-arrowstop-1-w{background-position:-240px -32px}.ui-icon-arrowthick-1-n{background-position:0 -48px}.ui-icon-arrowthick-1-ne{background-position:-16px -48px}.ui-icon-arrowthick-1-e{background-position:-32px -48px}.ui-icon-arrowthick-1-se{background-position:-48px -48px}.ui-icon-arrowthick-1-s{background-position:-64px -48px}.ui-icon-arrowthick-1-sw{background-position:-80px -48px}.ui-icon-arrowthick-1-w{background-position:-96px -48px}.ui-icon-arrowthick-1-nw{background-position:-112px -48px}.ui-icon-arrowthick-2-n-s{background-position:-128px -48px}.ui-icon-arrowthick-2-ne-sw{background-position:-144px -48px}.ui-icon-arrowthick-2-e-w{background-position:-160px -48px}.ui-icon-arrowthick-2-se-nw{background-position:-176px -48px}.ui-icon-arrowthickstop-1-n{background-position:-192px -48px}.ui-icon-arrowthickstop-1-e{background-position:-208px -48px}.ui-icon-arrowthickstop-1-s{background-position:-224px -48px}.ui-icon-arrowthickstop-1-w{background-position:-240px -48px}.ui-icon-arrowreturnthick-1-w{background-position:0 -64px}.ui-icon-arrowreturnthick-1-n{background-position:-16px -64px}.ui-icon-arrowreturnthick-1-e{background-position:-32px -64px}.ui-icon-arrowreturnthick-1-s{background-position:-48px -64px}.ui-icon-arrowreturn-1-w{background-position:-64px -64px}.ui-icon-arrowreturn-1-n{background-position:-80px -64px}.ui-icon-arrowreturn-1-e{background-position:-96px -64px}.ui-icon-arrowreturn-1-s{background-position:-112px -64px}.ui-icon-arrowrefresh-1-w{background-position:-128px -64px}.ui-icon-arrowrefresh-1-n{background-position:-144px -64px}.ui-icon-arrowrefresh-1-e{background-position:-160px -64px}.ui-icon-arrowrefresh-1-s{background-position:-176px -64px}.ui-icon-arrow-4{background-position:0 -80px}.ui-icon-arrow-4-diag{background-position:-16px -80px}.ui-icon-extlink{background-position:-32px -80px}.ui-icon-newwin{background-position:-48px -80px}.ui-icon-refresh{background-position:-64px -80px}.ui-icon-shuffle{background-position:-80px -80px}.ui-icon-transfer-e-w{background-position:-96px -80px}.ui-icon-transferthick-e-w{background-position:-112px -80px}.ui-icon-folder-collapsed{background-position:0 -96px}.ui-icon-folder-open{background-position:-16px -96px}.ui-icon-document{background-position:-32px -96px}.ui-icon-document-b{background-position:-48px -96px}.ui-icon-note{background-position:-64px -96px}.ui-icon-mail-closed{background-position:-80px -96px}.ui-icon-mail-open{background-position:-96px -96px}.ui-icon-suitcase{background-position:-112px -96px}.ui-icon-comment{background-position:-128px -96px}.ui-icon-person{background-position:-144px -96px}.ui-icon-print{background-position:-160px -96px}.ui-icon-trash{background-position:-176px -96px}.ui-icon-locked{background-position:-192px -96px}.ui-icon-unlocked{background-position:-208px -96px}.ui-icon-bookmark{background-position:-224px -96px}.ui-icon-tag{background-position:-240px -96px}.ui-icon-home{background-position:0 -112px}.ui-icon-flag{background-position:-16px -112px}.ui-icon-calendar{background-position:-32px -112px}.ui-icon-cart{background-position:-48px -112px}.ui-icon-pencil{background-position:-64px -112px}.ui-icon-clock{background-position:-80px -112px}.ui-icon-disk{background-position:-96px -112px}.ui-icon-calculator{background-position:-112px -112px}.ui-icon-zoomin{background-position:-128px -112px}.ui-icon-zoomout{background-position:-144px -112px}.ui-icon-search{background-position:-160px -112px}.ui-icon-wrench{background-position:-176px -112px}.ui-icon-gear{background-position:-192px -112px}.ui-icon-heart{background-position:-208px -112px}.ui-icon-star{background-position:-224px -112px}.ui-icon-link{background-position:-240px -112px}.ui-icon-cancel{background-position:0 -128px}.ui-icon-plus{background-position:-16px -128px}.ui-icon-plusthick{background-position:-32px -128px}.ui-icon-minus{background-position:-48px -128px}.ui-icon-minusthick{background-position:-64px -128px}.ui-icon-close{background-position:-80px -128px}.ui-icon-closethick{background-position:-96px -128px}.ui-icon-key{background-position:-112px -128px}.ui-icon-lightbulb{background-position:-128px -128px}.ui-icon-scissors{background-position:-144px -128px}.ui-icon-clipboard{background-position:-160px -128px}.ui-icon-copy{background-position:-176px -128px}.ui-icon-contact{background-position:-192px -128px}.ui-icon-image{background-position:-208px -128px}.ui-icon-video{background-position:-224px -128px}.ui-icon-script{background-position:-240px -128px}.ui-icon-alert{background-position:0 -144px}.ui-icon-info{background-position:-16px -144px}.ui-icon-notice{background-position:-32px -144px}.ui-icon-help{background-position:-48px -144px}.ui-icon-check{background-position:-64px -144px}.ui-icon-bullet{background-position:-80px -144px}.ui-icon-radio-on{background-position:-96px -144px}.ui-icon-radio-off{background-position:-112px -144px}.ui-icon-pin-w{background-position:-128px -144px}.ui-icon-pin-s{background-position:-144px -144px}.ui-icon-play{background-position:0 -160px}.ui-icon-pause{background-position:-16px -160px}.ui-icon-seek-next{background-position:-32px -160px}.ui-icon-seek-prev{background-position:-48px -160px}.ui-icon-seek-end{background-position:-64px -160px}.ui-icon-seek-start{background-position:-80px -160px}.ui-icon-seek-first{background-position:-80px -160px}.ui-icon-stop{background-position:-96px -160px}.ui-icon-eject{background-position:-112px -160px}.ui-icon-volume-off{background-position:-128px -160px}.ui-icon-volume-on{background-position:-144px -160px}.ui-icon-power{background-position:0 -176px}.ui-icon-signal-diag{background-position:-16px -176px}.ui-icon-signal{background-position:-32px -176px}.ui-icon-battery-0{background-position:-48px -176px}.ui-icon-battery-1{background-position:-64px -176px}.ui-icon-battery-2{background-position:-80px -176px}.ui-icon-battery-3{background-position:-96px -176px}.ui-icon-circle-plus{background-position:0 -192px}.ui-icon-circle-minus{background-position:-16px -192px}.ui-icon-circle-close{background-position:-32px -192px}.ui-icon-circle-triangle-e{background-position:-48px -192px}.ui-icon-circle-triangle-s{background-position:-64px -192px}.ui-icon-circle-triangle-w{background-position:-80px -192px}.ui-icon-circle-triangle-n{background-position:-96px -192px}.ui-icon-circle-arrow-e{background-position:-112px -192px}.ui-icon-circle-arrow-s{background-position:-128px -192px}.ui-icon-circle-arrow-w{background-position:-144px -192px}.ui-icon-circle-arrow-n{background-position:-160px -192px}.ui-icon-circle-zoomin{background-position:-176px -192px}.ui-icon-circle-zoomout{background-position:-192px -192px}.ui-icon-circle-check{background-position:-208px -192px}.ui-icon-circlesmall-plus{background-position:0 -208px}.ui-icon-circlesmall-minus{background-position:-16px -208px}.ui-icon-circlesmall-close{background-position:-32px -208px}.ui-icon-squaresmall-plus{background-position:-48px -208px}.ui-icon-squaresmall-minus{background-position:-64px -208px}.ui-icon-squaresmall-close{background-position:-80px -208px}.ui-icon-grip-dotted-vertical{background-position:0 -224px}.ui-icon-grip-dotted-horizontal{background-position:-16px -224px}.ui-icon-grip-solid-vertical{background-position:-32px -224px}.ui-icon-grip-solid-horizontal{background-position:-48px -224px}.ui-icon-gripsmall-diagonal-se{background-position:-64px -224px}.ui-icon-grip-diagonal-se{background-position:-80px -224px}.ui-corner-all,.ui-corner-top,.ui-corner-left,.ui-corner-tl{border-top-left-radius:4px}.ui-corner-all,.ui-corner-top,.ui-corner-right,.ui-corner-tr{border-top-right-radius:4px}.ui-corner-all,.ui-corner-bottom,.ui-corner-left,.ui-corner-bl{border-bottom-left-radius:4px}.ui-corner-all,.ui-corner-bottom,.ui-corner-right,.ui-corner-br{border-bottom-right-radius:4px}.ui-widget-overlay{background:#aaa url(images/ui-bg_flat_0_aaaaaa_40x100.png) 50% 50% repeat-x;opacity:.3;filter:Alpha(Opacity=30)}.ui-widget-shadow{margin:-8px 0 0 -8px;padding:8px;background:#aaa url(images/ui-bg_flat_0_aaaaaa_40x100.png) 50% 50% repeat-x;opacity:.3;filter:Alpha(Opacity=30);border-radius:8px}\n.colorpicker {\r\n\twidth: 356px;\r\n\theight: 176px;\r\n\toverflow: hidden;\r\n\tposition: absolute;\r\n\tbackground: url(colorpicker/images/colorpicker_background.png);\r\n\tfont-family: Arial, Helvetica, sans-serif;\r\n\tdisplay: none;\r\n}\r\n.colorpicker_color {\r\n\twidth: 150px;\r\n\theight: 150px;\r\n\tleft: 14px;\r\n\ttop: 13px;\r\n\tposition: absolute;\r\n\tbackground: #f00;\r\n\toverflow: hidden;\r\n\tcursor: crosshair;\r\n}\r\n.colorpicker_color div {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 150px;\r\n\theight: 150px;\r\n\tbackground: url(colorpicker/images/colorpicker_overlay.png);\r\n}\r\n.colorpicker_color div div {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 11px;\r\n\theight: 11px;\r\n\toverflow: hidden;\r\n\tbackground: url(colorpicker/images/colorpicker_select.gif);\r\n\tmargin: -5px 0 0 -5px;\r\n}\r\n.colorpicker_hue {\r\n\tposition: absolute;\r\n\ttop: 13px;\r\n\tleft: 171px;\r\n\twidth: 35px;\r\n\theight: 150px;\r\n\tcursor: n-resize;\r\n}\r\n.colorpicker_hue div {\r\n\tposition: absolute;\r\n\twidth: 35px;\r\n\theight: 9px;\r\n\toverflow: hidden;\r\n\tbackground: url(colorpicker/images/colorpicker_indic.gif) left top;\r\n\tmargin: -4px 0 0 0;\r\n\tleft: 0px;\r\n}\r\n.colorpicker_new_color {\r\n\tposition: absolute;\r\n\twidth: 60px;\r\n\theight: 30px;\r\n\tleft: 213px;\r\n\ttop: 13px;\r\n\tbackground: #f00;\r\n}\r\n.colorpicker_current_color {\r\n\tposition: absolute;\r\n\twidth: 60px;\r\n\theight: 30px;\r\n\tleft: 283px;\r\n\ttop: 13px;\r\n\tbackground: #f00;\r\n}\r\n.colorpicker input {\r\n\tbackground-color: transparent;\r\n\tborder: 1px solid transparent;\r\n\tposition: absolute;\r\n\tfont-size: 10px;\r\n\tfont-family: Arial, Helvetica, sans-serif;\r\n\tcolor: #898989;\r\n\ttop: 4px;\r\n\tright: 11px;\r\n\ttext-align: right;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\theight: 11px;\r\n}\r\n.colorpicker_hex {\r\n\tposition: absolute;\r\n\twidth: 72px;\r\n\theight: 22px;\r\n\tbackground: url(colorpicker/images/colorpicker_hex.png) top;\r\n\tleft: 212px;\r\n\ttop: 142px;\r\n}\r\n.colorpicker_hex input {\r\n\tright: 6px;\r\n}\r\n.colorpicker_field {\r\n\theight: 22px;\r\n\twidth: 62px;\r\n\tbackground-position: top;\r\n\tposition: absolute;\r\n}\r\n.colorpicker_field span {\r\n\tposition: absolute;\r\n\twidth: 12px;\r\n\theight: 22px;\r\n\toverflow: hidden;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tcursor: n-resize;\r\n}\r\n.colorpicker_rgb_r {\r\n\tbackground-image: url(colorpicker/images/colorpicker_rgb_r.png);\r\n\ttop: 52px;\r\n\tleft: 212px;\r\n}\r\n.colorpicker_rgb_g {\r\n\tbackground-image: url(colorpicker/images/colorpicker_rgb_g.png);\r\n\ttop: 82px;\r\n\tleft: 212px;\r\n}\r\n.colorpicker_rgb_b {\r\n\tbackground-image: url(colorpicker/images/colorpicker_rgb_b.png);\r\n\ttop: 112px;\r\n\tleft: 212px;\r\n}\r\n.colorpicker_hsb_h {\r\n\tbackground-image: url(colorpicker/images/colorpicker_hsb_h.png);\r\n\ttop: 52px;\r\n\tleft: 282px;\r\n}\r\n.colorpicker_hsb_s {\r\n\tbackground-image: url(colorpicker/images/colorpicker_hsb_s.png);\r\n\ttop: 82px;\r\n\tleft: 282px;\r\n}\r\n.colorpicker_hsb_b {\r\n\tbackground-image: url(colorpicker/images/colorpicker_hsb_b.png);\r\n\ttop: 112px;\r\n\tleft: 282px;\r\n}\r\n.colorpicker_submit {\r\n\tposition: absolute;\r\n\twidth: 22px;\r\n\theight: 22px;\r\n\tbackground: url(colorpicker/images/colorpicker_submit.png) top;\r\n\tleft: 322px;\r\n\ttop: 142px;\r\n\toverflow: hidden;\r\n}\r\n.colorpicker_focus {\r\n\tbackground-position: center;\r\n}\r\n.colorpicker_hex.colorpicker_focus {\r\n\tbackground-position: bottom;\r\n}\r\n.colorpicker_submit.colorpicker_focus {\r\n\tbackground-position: bottom;\r\n}\r\n.colorpicker_slider {\r\n\tbackground-position: bottom;\r\n}\r\n/*!\n *  Font Awesome 3.0.2\n *  the iconic font designed for use with Twitter Bootstrap\n *  -------------------------------------------------------\n *  The full suite of pictographic icons, examples, and documentation\n *  can be found at: http://fortawesome.github.com/Font-Awesome/\n *\n *  License\n *  -------------------------------------------------------\n *  - The Font Awesome font is licensed under the SIL Open Font License - http://scripts.sil.org/OFL\n *  - Font Awesome CSS, LESS, and SASS files are licensed under the MIT License -\n *    http://opensource.org/licenses/mit-license.html\n *  - The Font Awesome pictograms are licensed under the CC BY 3.0 License - http://creativecommons.org/licenses/by/3.0/\n *  - Attribution is no longer required in Font Awesome 3.0, but much appreciated:\n *    "Font Awesome by Dave Gandy - http://fortawesome.github.com/Font-Awesome"\n *  Contact\n *  -------------------------------------------------------\n *  Email: dave@davegandy.com\n *  Twitter: http://twitter.com/fortaweso_me\n *  Work: Lead Product Designer @ http://kyruus.com\n */\n@font-face {\n  font-family: \'FontAwesomeSagecell\';\n  src: url(fontawesome-webfont.eot?v=3.0.1);\n  src: url(fontawesome-webfont.eot?#iefix&v=3.0.1) format(\'embedded-opentype\'),\n    url(fontawesome-webfont.woff?v=3.0.1) format(\'woff\'),\n    url(fontawesome-webfont.ttf?v=3.0.1) format(\'truetype\');\n  font-weight: normal;\n  font-style: normal;\n}\n.sagecell [class^="sagecell_icon-"],\n.sagecell [class*=" sagecell_icon-"] {\n  font-family: FontAwesomeSagecell;\n  font-weight: normal;\n  font-style: normal;\n  text-decoration: inherit;\n  -webkit-font-smoothing: antialiased;\n  font-size: 125%;\n  background: transparent;\n  \n  display: inline;\n  width: auto;\n  height: auto;\n  line-height: normal;\n  vertical-align: baseline;\n  margin-top: 0;\n}\n.sagecell [class^="sagecell_icon-"]:before,\n.sagecell [class*=" sagecell_icon-"]:before {\n  text-decoration: inherit;\n  display: inline-block;\n  speak: none;\n}\n.sagecell .sagecell_icon-resize-full:before\t\t{ content: "\\f021"; }\n.sagecell .sagecell_icon-resize-small:before\t\t{ content: "\\f022"; }\n.sagecell_messages div {\n    margin-bottom: 12pt;\n}\n.sagecell_sliderControl {\n    max-width: 40em;\n    margin-right: 1.0em;\n    margin-left: 0.5em;\n}\n.sagecell_multiSliderContainer {\n    margin-left: 1.0em;\n    whitespace: nowrap;\n}\n.sagecell_multiSliderControl {\n    display: inline-block;\n    margin-right: 0.5em;\n    margin-left: 0.5em;\n    margin-top: 0.25em;\n}\n.sagecell_colorSelector {\n    display: inline-block;\n    width: 2em;\n    height: 2em;\n    border: 2px solid gray;\n    border-radius: 3px;\n    padding: 1px;\n    cursor: pointer;\n    vertical-align: middle;\n}\n.sagecell .error, .sagecell .stderr {\n    color: red;\n}\n.sagecell .colorpicker {\n    z-index: 10;\n}\n.sagecell .CodeMirror {\n    border: 1px solid;\n    height: auto;\n}\n.sagecell .CodeMirror-scroll {\n    min-height: 3em;\n    max-height: 14em;\n}\n.sagecell .CodeMirror-fullscreen .CodeMirror-scroll {\n    max-height: none;\n}\n.sagecell .CodeMirror-hints {\n    padding-right: 10px;\n}\n.sagecell .ui-dialog-content {\n    font-size: 80%;\n}\n.sagecell_input {\n    overflow: hidden;\n    padding-right: 2px;\n}\n.sagecell button.sagecell_evalButton {\n    cursor: default;\n}\n.sagecell_output {\n    padding-right: 2px;\n}\n.sagecell_output_elements {\n    margin-top: 0.5em;\n}\n.sagecell_permalink {\n    padding-right: 5px;\n    text-align: right;\n    position: relative;\n}\n.sagecell_permalink_result {\n    position: absolute;\n    padding-right: 5px;\n    text-align: right;\n    right: 3px;\n    z-index: 100;\n    background-color: white;\n    border: 1px solid black;\n    border-radius: 3px;\n    padding: 5px;\n}\n.sagecell_permalink_result a:not([href]) {\n    color: gray;\n    text-decoration: none;\n    cursor: default;\n}\n.sagecell_permalink_result img {\n    display: inline-block;\n    background-color: lightgray;\n    width: 200px;\n    height: 200px;\n}\n.sagecell_sessionContainer {\n    position: relative;\n}\n.sagecell_sessionContainer:after {\n    display: table;\n    content: " ";\n    clear: both;\n}\n.sagecell_sessionOutput {\n    position: relative;\n    border: 2px solid;\n    padding: 5px;\n    margin-top: 2px;\n    min-height: 16px;\n    overflow-x: auto;\n}\n.sagecell_sessionOutput pre {\n    margin: 0px;\n}\n.sagecell_sessionOutput.sagecell_active {\n    border-color: #080;\n}\n.sagecell_poweredBy {\n    float: right;\n    padding: 3px 5px 5px 0px;\n    text-align: right;\n    overflow: visible;\n    font-size: 80%;\n}\n.sagecell_poweredBy img {\n    vertical-align: -5px;\n    border-style: none;\n    text-decoration: none;\n}\n.sagecell_spinner {\n    position: absolute;\n    right: 5px;\n    top: 5px;\n}\n.sagecell_sessionFiles {\n    width: 80%;\n    padding-bottom: 1.0em;\n}\n.sagecell_interactContainer {\n    position: relative;\n    padding: 15px 5px 5px 5px;\n    border: 2px solid lightgray;\n    margin-bottom: 2px;\n}\n.sagecell_bookmarks {\n    cursor: default;\n}\n.sagecell_interactContainer .sagecell_bookmarks {\n    position: absolute;\n    right: 3px;\n    top: 3px;\n}\n.sagecell_bookmarks div {\n    display: inline-block;\n    height: 1.5em;\n    vertical-align: bottom;\n    overflow-y: hidden;\n    font-size: 1.3em;\n    font-family: Arial;\n    color: #8c8c8c;\n    transition: color 0.25s ease-out;\n}\n.sagecell_bookmarks div:first-child {\n    color: transparent;\n    visibility: hidden;\n}\n.sagecell_bookmarks div:last-child {\n    margin-left: 10px;\n    width: 1.5em;\n}\n.sagecell_bookmarks div:last-child:before {\n    display: inline-block;\n    content: "\\2605";\n}\n.sagecell_bookmarks div.sagecell_export {\n    visibility: visible;\n    transition: color 0.5s 0.5s;\n    color: inherit;\n    cursor: pointer;\n}\n.sagecell_export:before {\n    content: "\\22ef";\n}\n.sagecell_bookmarks input {\n    border: 1px solid black;\n    border-radius: 3px;\n    vertical-align: 50%;\n    background-color: rgba(0, 0, 0, 0.1);\n    font-family: monospace;\n}\n.sagecell_sessionOutput.sagecell_active .sagecell_bookmarks div:last-child:hover {\n    color: #ffa500;\n    cursor: pointer;\n}\n.sagecell_bookmarks_list.ui-menu {\n    display: inline-block;\n    min-width: 15em;\n    cursor: default;\n    z-index: 99;\n}\n.sagecell_bookmarks_list.ui-menu li.ui-state-disabled {\n    opacity: 1;\n    margin: 0px;\n}\n.sagecell_bookmarks_list > li > a > input,\n.sagecell_bookmarks_list > li > a > div:first-child {\n    display: inline-block;\n    width: 85%;\n    border: none;\n    border-radius: 3px;\n}\n.sagecell_bookmarks_list > li > a > div:last-child {\n    float: right;\n    width: 1.5em;\n    text-align: center;\n    font-weight: bold;\n    color: #777;\n    cursor: pointer;\n    transition: 0.25s color;\n}\n.sagecell_bookmarks_list > li:not(:last-child):not(:hover) > a > div:last-child {\n     display: none;\n}\n.sagecell_bookmarks_list > li > a > div:last-child:hover {\n    color: darkred;\n}\n.sagecell_bookmarks_list > li > a > div:last-child:before {\n    content: "\\2716";\n}\n.sagecell_bookmarks_list > li:last-child > a > div:hover {\n    color: darkblue;\n}\n.sagecell_bookmarks_list > li:last-child > a > div:before {\n    content: "+";\n}\n.sagecell_interactOutput {\n    padding: 10px;\n    padding-right: 2em;\n    padding-left: 2em;\n    overflow-x: auto;\n    vertical-align: top;\n}\n.sagecell_interactValueBox {\n    border: 1px solid transparent;\n    background-color: transparent;\n    vertical-align: baseline;\n    font-family: monospace;  \n    max-width: 10ex;\n}\n.sagecell_interactValueBox:hover {\n    border-color: lightgray;\n}\n.sagecell_interactValueBox:focus {\n    border-color: gray;\n}\n.sagecell_interactControlCell {\n    display: inline-table;\n    vertical-align: top;\n    min-width: 200px;\n}\n.sagecell_interactControlLabel {\n    display: table-cell;\n    text-align: right !important;\n    vertical-align: middle !important;\n    padding-right: 0.5ex !important;\n    padding-top: 0.6ex !important;\n    padding-bottom: 0.6ex !important;\n    min-width: 10ex;\n    overflow-wrap: break-word;\n}\n.sagecell_interactControl {\n    display: table-cell;\n    width: 100%;\n    height: 100%;\n    vertical-align: middle;\n}\n.sagecell_interactContainer .sagecell_interactControl {\n    \n    padding: 1ex;\n}\n.sagecell_sliderContainer {\n    display: table;\n    width: 100%;\n    height: 100%;\n    max-width: 700px;\n    min-width: 200px;\n}\n.sagecell_sliderContainer > div:first-child {\n    display: table-cell;\n    width: 100%;\n    vertical-align: middle;\n}\n.sagecell_sliderContainer > div:first-child + div {\n    display: table-cell;\n    min-width: 11ex;\n}\n.sagecell_interactTextbox[size="0"] {\n    width: 100%;\n    max-width: 40em;\n}\n.sagecell_dirtyControl {\n    box-shadow: 0px 0px 2px 1px #c00;\n    transition: box-shadow 1s;\n    border-radius: 2px;\n}\n.sagecell_commands, .sagecell .ui-widget .sagecell_commands {\n    width: 100%;\n    height: 200px;\n    border: 1px solid;\n    font-family: monospace;\n    font-size: 10pt;\n}\n.sagecell_editor {\n    line-height: 13px;\n    margin-bottom: 8px;\n}\n.sagecell_options {\n    display: inline-block;\n    margin-right: 2px;\n    float: right;\n    text-align: right;\n    font-size: 80%;\n}\n.sagecell_fullScreen {\n    position: absolute;\n    right: 1.5em;\n    top: 0.5em;\n    z-index: 10;\n    padding: 2px;\n    color: rgb(128,128,128);\n}\n.sagecell_editor div.ui-accordion-content.ui-helper-reset {\n    padding: 1em 0.5em;\n    font-size: 90.9%;\n}\n.sagecell_advancedFrame {\n    border-radius: 5px;\n    background-color: #ddf;\n    border: 1px solid;\n    padding: 0.2em;\n    display: inline-block;\n    width: 300px;\n    overflow: hidden;\n    margin-left: 3em;\n    margin-bottom: 1em;\n    vertical-align: top;\n}\n.sagecell_advancedTitle {\n    cursor: default;\n}\n.sagecell_advancedFields {\n    border: 1px solid gray;\n    background-color: white;\n    padding: 5px;\n}\n.sagecell_fileList li {\n    list-style: none;\n    position: relative;\n}\n.sagecell_fileName {\n    position: relative;\n    display: inline-block;\n    white-space: nowrap;\n    width: 230px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n.sagecell_deleteButton {\n    position: absolute;\n    left: -1.2em;\n    cursor: pointer;\n    margin-right: 5px;\n}\n.sagecell_deleteButton:hover {\n    color: red;\n}\n.sagecell_deleteButton:active {\n    color: darkred;\n}\n.sagecell_deleteButton:before {\n    content: "\\2716";\n}\n.sagecell table.table_form tr.row-a {\n    background-color: #f8f8f8;\n}\n.sagecell table.table_form tr.row-b {\n    background-color: #efefef;\n}\n.sagecell table.table_form td {\n    padding: 5px 15px;\n    color: #00a;\n}\n.sagecell .sagecell-templates .hide {\n display: none;   \n}\n.sagecell .sagecell-templates .pull-right {\n    float: right;\n}\n.sagecell .sagecell-templates .lighten {\n    color: gray;\n}\n.sagecell .ansiblack {color: black;}\n.sagecell .ansired {color: darkred;}\n.sagecell .ansigreen {color: darkgreen;}\n.sagecell .ansiyellow {color: brown;}\n.sagecell .ansiblue {color: darkblue;}\n.sagecell .ansipurple {color: darkviolet;}\n.sagecell .ansicyan {color: steelblue;}\n.sagecell .ansigrey {color: grey;}\n.sagecell .ansibold {font-weight: bold;}\n';
}),define("domReady",[],function(){"use strict";function e(e){var t;for(t=0;t<e.length;t+=1)e[t](c)}function t(){var t=u;l&&t.length&&(u=[],e(t))}function n(){l||(l=!0,s&&clearInterval(s),t())}function i(e){return l?e(c):u.push(e),i}var r,o,s,a="undefined"!=typeof window&&window.document,l=!a,c=a?document:null,u=[];if(a){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(window.attachEvent){window.attachEvent("onload",n),o=document.createElement("div");try{r=null===window.frameElement}catch(e){}o.doScroll&&r&&window.external&&(s=setInterval(function(){try{o.doScroll(),n()}catch(e){}},30))}"complete"===document.readyState&&n()}return i.version="2.0.1",i.load=function(e,t,n,r){r.isBuild?n(null):i(n)},i}),function(e,t){function n(t,n){var r,o,s,a=t.nodeName.toLowerCase();return"area"===a?(r=t.parentNode,o=r.name,!(!t.href||!o||"map"!==r.nodeName.toLowerCase())&&(s=e("img[usemap=#"+o+"]")[0],!!s&&i(s))):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,r,o=e(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,i){function r(t,n,i,r){return e.each(o,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?a["inner"+i].call(this):this.each(function(){e(this).css(s,r(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?a["outer"+i].call(this,t):this.each(function(){e(this).css(s,r(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,i){var r,o=e.ui[t].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(e,t,n){var i,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;r.length>i;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0||(t[i]=1,r=t[i]>0,t[i]=0,r)}})}(jQuery),function(e,t){var n=0,i=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(e){}r(t)},e.widget=function(n,i,r){var o,s,a,l,c={},u=n.split(".")[0];n=n.split(".")[1],o=u+"-"+n,r||(r=i,i=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[u]=e[u]||{},s=e[u][n],a=e[u][n]=function(e,n){return this._createWidget?(arguments.length&&this._createWidget(e,n),t):new a(e,n)},e.extend(a,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),l=new i,l.options=e.widget.extend({},l.options),e.each(r,function(n,r){return e.isFunction(r)?(c[n]=function(){var e=function(){return i.prototype[n].apply(this,arguments)},t=function(e){return i.prototype[n].apply(this,e)};return function(){var n,i=this._super,o=this._superApply;return this._super=e,this._superApply=t,n=r.apply(this,arguments),this._super=i,this._superApply=o,n}}(),t):(c[n]=r,t)}),a.prototype=e.widget.extend(l,{widgetEventPrefix:s?l.widgetEventPrefix||n:n},c,{constructor:a,namespace:u,widgetName:n,widgetFullName:o}),s?(e.each(s._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete s._childConstructors):i._childConstructors.push(a),e.widget.bridge(n,a)},e.widget.extend=function(n){for(var r,o,s=i.call(arguments,1),a=0,l=s.length;l>a;a++)for(r in s[a])o=s[a][r],s[a].hasOwnProperty(r)&&o!==t&&(n[r]=e.isPlainObject(o)?e.isPlainObject(n[r])?e.widget.extend({},n[r],o):e.widget.extend({},o):o);return n},e.widget.bridge=function(n,r){var o=r.prototype.widgetFullName||n;e.fn[n]=function(s){var a="string"==typeof s,l=i.call(arguments,1),c=this;return s=!a&&l.length?e.widget.extend.apply(null,[s].concat(l)):s,a?this.each(function(){var i,r=e.data(this,o);return r?e.isFunction(r[s])&&"_"!==s.charAt(0)?(i=r[s].apply(r,l),i!==r&&i!==t?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):t):e.error("no such method '"+s+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+s+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(s||{})._init():e.data(this,o,new r(s,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var r,o,s,a=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(a={},r=n.split("."),n=r.shift(),r.length){for(o=a[n]=e.widget.extend({},this.options[n]),s=0;r.length-1>s;s++)o[r[s]]=o[r[s]]||{},o=o[r[s]];if(n=r.pop(),1===arguments.length)return o[n]===t?null:o[n];o[n]=i}else{if(1===arguments.length)return this.options[n]===t?null:this.options[n];a[n]=i}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(n,i,r){var o,s=this;"boolean"!=typeof n&&(r=i,i=n,n=!1),r?(i=o=e(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,o=this.widget()),e.each(r,function(r,a){function l(){return n||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?s[a]:a).apply(s,arguments):t}"string"!=typeof a&&(l.guid=a.guid=a.guid||l.guid||e.guid++);var c=r.match(/^(\w+)\s*(.*)$/),u=c[1]+s.eventNamespace,d=c[2];d?o.delegate(d,u,l):i.bind(u,l)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,o,s=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),s=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&e.effects&&e.effects.effect[a]?i[t](r):a!==t&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}})}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,o=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&e(n.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(n))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0))}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e,t){function n(e,t,n){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?n/100:1)]}function i(t,n){return parseInt(e.css(t,n),10)||0}function r(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var o,s=Math.max,a=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(o!==t)return o;var n,i,r=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=r.children()[0];return e("body").append(r),n=s.offsetWidth,r.css("overflow","scroll"),i=s.offsetWidth,n===i&&(i=r[0].clientWidth),r.remove(),o=n-i},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,o="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:o?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i?n.width():n.outerWidth(),height:i?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return f.apply(this,arguments);t=e.extend({},t);var o,p,m,g,v,b,y=e(t.of),_=e.position.getWithinInfo(t.within),x=e.position.getScrollInfo(_),w=(t.collision||"flip").split(" "),k={};return b=r(y),y[0].preventDefault&&(t.at="left top"),p=b.width,m=b.height,g=b.offset,v=e.extend({},g),e.each(["my","at"],function(){var e,n,i=(t[this]||"").split(" ");1===i.length&&(i=c.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=d.exec(i[0]),n=d.exec(i[1]),k[this]=[e?e[0]:0,n?n[0]:0],t[this]=[h.exec(i[0])[0],h.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===t.at[0]?v.left+=p:"center"===t.at[0]&&(v.left+=p/2),"bottom"===t.at[1]?v.top+=m:"center"===t.at[1]&&(v.top+=m/2),o=n(k.at,p,m),v.left+=o[0],v.top+=o[1],this.each(function(){var r,c,u=e(this),d=u.outerWidth(),h=u.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),C=d+f+i(this,"marginRight")+x.width,S=h+b+i(this,"marginBottom")+x.height,T=e.extend({},v),M=n(k.my,u.outerWidth(),u.outerHeight());"right"===t.my[0]?T.left-=d:"center"===t.my[0]&&(T.left-=d/2),"bottom"===t.my[1]?T.top-=h:"center"===t.my[1]&&(T.top-=h/2),T.left+=M[0],T.top+=M[1],e.support.offsetFractions||(T.left=l(T.left),T.top=l(T.top)),r={marginLeft:f,marginTop:b},e.each(["left","top"],function(n,i){e.ui.position[w[n]]&&e.ui.position[w[n]][i](T,{targetWidth:p,targetHeight:m,elemWidth:d,elemHeight:h,collisionPosition:r,collisionWidth:C,collisionHeight:S,offset:[o[0]+M[0],o[1]+M[1]],my:t.my,at:t.at,within:_,elem:u})}),t.using&&(c=function(e){var n=g.left-T.left,i=n+p-d,r=g.top-T.top,o=r+m-h,l={target:{element:y,left:g.left,top:g.top,width:p,height:m},element:{element:u,left:T.left,top:T.top,width:d,height:h},horizontal:0>i?"left":n>0?"right":"center",vertical:0>o?"top":r>0?"bottom":"middle"};d>p&&p>a(n+i)&&(l.horizontal="center"),h>m&&m>a(r+o)&&(l.vertical="middle"),l.important=s(a(n),a(i))>s(a(r),a(o))?"horizontal":"vertical",t.using.call(this,e,l)}),u.offset(e.extend(T,{using:c}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,a=e.left-t.collisionPosition.marginLeft,l=r-a,c=a+t.collisionWidth-o-r;t.collisionWidth>o?l>0&&0>=c?(n=e.left+l+t.collisionWidth-o-r,e.left+=l-n):e.left=c>0&&0>=l?r:l>c?r+o-t.collisionWidth:r:l>0?e.left+=l:c>0?e.left-=c:e.left=s(e.left-a,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,o=t.within.height,a=e.top-t.collisionPosition.marginTop,l=r-a,c=a+t.collisionHeight-o-r;t.collisionHeight>o?l>0&&0>=c?(n=e.top+l+t.collisionHeight-o-r,e.top+=l-n):e.top=c>0&&0>=l?r:l>c?r+o-t.collisionHeight:r:l>0?e.top+=l:c>0?e.top-=c:e.top=s(e.top-a,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,o=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-s-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(n=e.left+h+p+f+t.collisionWidth-s-o,(0>n||a(u)>n)&&(e.left+=h+p+f)):d>0&&(i=e.left-t.collisionPosition.marginLeft+h+p+f-l,(i>0||d>a(i))&&(e.left+=h+p+f))},top:function(e,t){var n,i,r=t.within,o=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-s-l,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(i=e.top+p+f+m+t.collisionHeight-s-o,e.top+p+f+m>u&&(0>i||a(u)>i)&&(e.top+=p+f+m)):d>0&&(n=e.top-t.collisionPosition.marginTop+p+f+m-l,e.top+p+f+m>d&&(n>0||d>a(n))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,r,o,s=document.getElementsByTagName("body")[0],a=document.createElement("div");t=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in i)t.style[o]=i[o];t.appendChild(a),n=s||document.documentElement,n.insertBefore(t,n.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",r=e(a).offset().left,e.support.offsetFractions=r>10&&11>r,t.innerHTML="",n.removeChild(t)}()}(jQuery),function(e){var t=0,n={},i={};n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="hide",i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e(),content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var n=e.ui.keyCode,i=this.headers.length,r=this.headers.index(t.target),o=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(e(t.target).attr("tabIndex",-1),e(o).attr("tabIndex",0),o.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var n,i=this.options,r=i.heightStyle,o=this.element.parent(),s=this.accordionId="ui-accordion-"+(this.element.attr("id")||++t);this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(t){var n=e(this),i=n.attr("id"),r=n.next(),o=r.attr("id");i||(i=s+"-header-"+t,n.attr("id",i)),o||(o=s+"-panel-"+t,r.attr("id",o)),n.attr("aria-controls",o),r.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===r?(n=o.height(),this.element.siblings(":visible").each(function(){var t=e(this),i=t.css("position");"absolute"!==i&&"fixed"!==i&&(n-=t.outerHeight(!0))}),this.headers.each(function(){n-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===r&&(n=0,this.headers.next().each(function(){n=Math.max(n,e(this).css("height","").height())}).height(n))},_activate:function(t){var n=this._findActive(t)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var n=this.options,i=this.active,r=e(t.currentTarget),o=r[0]===i[0],s=o&&n.collapsible,a=s?e():r.next(),l=i.next(),c={oldHeader:i,oldPanel:l,newHeader:s?e():r,newPanel:a};t.preventDefault(),o&&!n.collapsible||this._trigger("beforeActivate",t,c)===!1||(n.active=!s&&this.headers.index(r),this.active=o?e():r,this._toggle(c),i.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),o||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&r.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var n=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,t):(i.hide(),n.show(),this._toggleComplete(t)),i.attr({"aria-hidden":"true"}),i.prev().attr("aria-selected","false"),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(e,t,r){var o,s,a,l=this,c=0,u=e.length&&(!t.length||e.index()<t.index()),d=this.options.animate||{},h=u&&d.down||d,p=function(){l._toggleComplete(r)};return"number"==typeof h&&(a=h),"string"==typeof h&&(s=h),s=s||h.easing||d.easing,a=a||h.duration||d.duration,t.length?e.length?(o=e.show().outerHeight(),t.animate(n,{duration:a,easing:s,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(i,{duration:a,easing:s,complete:p,step:function(e,n){n.now=Math.round(e),"height"!==n.prop?c+=n.now:"content"!==l.options.heightStyle&&(n.now=Math.round(o-t.outerHeight()-c),c=0)}})):t.animate(n,a,s,p):e.animate(i,a,s,p)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})}(jQuery),function(e){e.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=!!o||!s&&this.element.prop("isContentEditable"),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,i=!0,void(n=!0);t=!1,i=!1,n=!1;var o=e.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case o.UP:t=!0,this._keyEvent("previous",r);break;case o.DOWN:t=!0,this._keyEvent("next",r);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!n){var r=e.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(e){return i?(i=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(i){i.target===t.element[0]||i.target===n||e.contains(n,i.target)||t.close()})})},menufocus:function(t,n){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});var i=n.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:i})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value):this.liveRegion.text(i.value)},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),
this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,r){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,function(e,n){i._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<a>").text(n.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(e){var t,n="ui-button ui-widget ui-state-default ui-corner-all",i="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",r=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},o=function(t){var n=t.name,i=t.form,r=e([]);return n&&(n=n.replace(/'/g,"\\'"),r=i?e(i).find("[name='"+n+"']"):e("[name='"+n+"']",t.ownerDocument).filter(function(){return!this.form})),r};e.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,r),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var i=this,s=this.options,a="checkbox"===this.type||"radio"===this.type,l=a?"":"ui-state-active";null===s.label&&(s.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(n).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){s.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){s.disabled||e(this).removeClass(l)}).bind("click"+this.eventNamespace,function(e){s.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),a&&this.element.bind("change"+this.eventNamespace,function(){i.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return!s.disabled&&void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(s.disabled)return!1;e(this).addClass("ui-state-active"),i.buttonElement.attr("aria-pressed","true");var t=i.element[0];o(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!s.disabled&&(e(this).addClass("ui-state-active"),t=this,void i.document.one("mouseup",function(){t=null}))}).bind("mouseup"+this.eventNamespace,function(){return!s.disabled&&void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return!s.disabled&&void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",s.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),n=this.element.is(":checked"),n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(n+" ui-state-active "+i).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.element.prop("disabled",!!t),void(t&&this.buttonElement.removeClass("ui-state-focus"))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?o(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(i),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),r=this.options.icons,o=r.primary&&r.secondary,s=[];r.primary||r.secondary?(this.options.text&&s.push("ui-button-text-icon"+(o?"s":r.primary?"-primary":"-secondary")),r.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+r.primary+"'></span>"),r.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+r.secondary+"'></span>"),this.options.text||(s.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):s.push("ui-button-text-only"),t.addClass(s.join(" "))}}),e.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(e,t){function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=i(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",function(){e.datepicker._isDisabledDatepicker(o.inline?t.parent()[0]:o.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function r(t,n){e.extend(t,n);for(var i in n)null==n[i]&&(t[i]=n[i]);return t}e.extend(e.ui,{datepicker:{version:"1.10.4"}});var o,s="datepicker";e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var i,r,o;i=t.nodeName.toLowerCase(),r="div"===i||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),o=this._newInst(e(t),r),o.settings=e.extend({},n||{}),"input"===i?this._connectDatepicker(t,o):r&&this._inlineDatepicker(t,o)},_newInst:function(t,n){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?i(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var i=e(t);n.append=e([]),n.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,s,n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var i,r,o,s=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove(),s&&(n.append=e("<span class='"+this._appendClass+"'>"+s+"</span>"),t[a?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),("focus"===i||"both"===i)&&t.focus(this._showDatepicker),("button"===i||"both"===i)&&(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:r,title:r}):r)),t[a?"before":"after"](n.trigger),n.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,r,o=new Date(2009,11,20),s=this._get(e,"dateFormat");s.match(/[DM]/)&&(t=function(e){for(n=0,i=0,r=0;e.length>r;r++)e[r].length>n&&(n=e[r].length,i=r);return i},o.setMonth(t(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,n){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),e.data(t,s,n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,i,o,a){var l,c,u,d,h,p=this._dialogInst;return p||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],s,p)),r(p.settings,o||{}),n=n&&n.constructor===Date?this._formatDate(p,n):n,this._dialogInput.val(n),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(c=document.documentElement.clientWidth,u=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+d,u/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],s,p),this},_destroyDatepicker:function(t){var n,i=e(t),r=e.data(t,s);i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,s),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var n,i,r=e(t),o=e.data(t,s);r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,i,r=e(t),o=e.data(t,s);r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,s)}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(n,i,o){var s,a,l,c,u=this._getInst(n);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):u?"all"===i?e.extend({},u.settings):this._get(u,i):null:(s=i||{},"string"==typeof i&&(s={},s[i]=o),u&&(this._curInst===u&&this._hideDatepicker(),a=this._getDateDatepicker(n,!0),l=this._getMinMaxDate(u,"min"),c=this._getMinMaxDate(u,"max"),r(u.settings,s),null!==l&&s.dateFormat!==t&&s.minDate===t&&(u.settings.minDate=this._formatDate(u,l)),null!==c&&s.dateFormat!==t&&s.maxDate===t&&(u.settings.maxDate=this._formatDate(u,c)),"disabled"in s&&(s.disabled?this._disableDatepicker(n):this._enableDatepicker(n)),this._attachments(e(n),u),this._autoSize(u),this._setDate(u,a),this._updateAlternate(u),this._updateDatepicker(u)),t)},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,i,r,o=e.datepicker._getInst(t.target),s=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),s=!1;break;case 13:return r=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv),r[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,r[0]),n=e.datepicker._get(o,"onSelect"),n?(i=e.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),s=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),s=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?1:-1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),s=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?-1:1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),s=t.ctrlKey||t.metaKey;break;default:s=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):s=!1;s&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(n){var i,r,o=e.datepicker._getInst(n.target);return e.datepicker._get(o,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(o,"dateFormat")),r=String.fromCharCode(null==n.charCode?n.keyCode:n.charCode),n.ctrlKey||n.metaKey||" ">r||!i||i.indexOf(r)>-1):t},_doKeyUp:function(t){var n,i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i)),n&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(e){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var n,i,o,s,a,l,c;n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),i=e.datepicker._get(n,"beforeShow"),o=i?i.apply(t,[t,n]):{},o!==!1&&(r(n.settings,o),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),s=!1,e(t).parents().each(function(){return s|="fixed"===e(this).css("position"),!s}),a={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),a=e.datepicker._checkOffset(n,a,s),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":s?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),n.inline||(l=e.datepicker._get(n,"showAnim"),c=e.datepicker._get(n,"duration"),n.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?n.dpDiv.show(l,e.datepicker._get(n,"showOptions"),c):n.dpDiv[l||"show"](l?c:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n))}},_updateDatepicker:function(t){this.maxRows=4,o=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var n,i=this._getNumberOfMonths(t),r=i[1],s=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",s*r+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,i){var r=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),s=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?r-s:0,n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=i&&n.top===t.input.offset().top+a?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+o>c&&c>o?Math.abs(o+a):0),n},_findPos:function(t){for(var n,i=this._getInst(t),r=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[r?"previousSibling":"nextSibling"];return n=e(t).offset(),[n.left,n.top]},_hideDatepicker:function(t){var n,i,r,o,a=this._curInst;!a||t&&a!==e.data(t,s)||this._datepickerShowing&&(n=this._get(a,"showAnim"),i=this._get(a,"duration"),r=function(){e.datepicker._tidyDialog(a)},e.effects&&(e.effects.effect[n]||e.effects[n])?a.dpDiv.hide(n,e.datepicker._get(a,"showOptions"),i,r):a.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id!==e.datepicker._mainDivId&&0===n.parents("#"+e.datepicker._mainDivId).length&&!n.hasClass(e.datepicker.markerClassName)&&!n.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||n.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==i)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,i){var r=e(t),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(t){var n,i=e(t),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(t,n,i){var r=e(t),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(t,n,i,r){var o,s=e(t);e(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(o=this._getInst(s[0]),o.selectedDay=o.currentDay=e("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var i,r=e(t),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),i=this._get(o,"onSelect"),i?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,i,r,o=this._get(t,"altField");o&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),r=this.formatDate(n,i,this._getFormatConfig(t)),e(o).each(function(){e(this).val(r)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(n,i,r){if(null==n||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var o,s,a,l,c=0,u=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),h=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,p=(r?r.dayNames:null)||this._defaults.dayNames,f=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,m=(r?r.monthNames:null)||this._defaults.monthNames,g=-1,v=-1,b=-1,y=-1,_=!1,x=function(e){var t=n.length>o+1&&n.charAt(o+1)===e;return t&&o++,t},w=function(e){var t=x(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,r=RegExp("^\\d{1,"+n+"}"),o=i.substring(c).match(r);if(!o)throw"Missing number at position "+c;return c+=o[0].length,parseInt(o[0],10)},k=function(n,r,o){var s=-1,a=e.map(x(n)?o:r,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(a,function(e,n){var r=n[1];return i.substr(c,r.length).toLowerCase()===r.toLowerCase()?(s=n[0],c+=r.length,!1):t}),-1!==s)return s+1;throw"Unknown name at position "+c},C=function(){if(i.charAt(c)!==n.charAt(o))throw"Unexpected literal at position "+c;c++};for(o=0;n.length>o;o++)if(_)"'"!==n.charAt(o)||x("'")?C():_=!1;else switch(n.charAt(o)){case"d":b=w("d");break;case"D":k("D",h,p);break;case"o":y=w("o");break;case"m":v=w("m");break;case"M":v=k("M",f,m);break;case"y":g=w("y");break;case"@":l=new Date(w("@")),g=l.getFullYear(),v=l.getMonth()+1,b=l.getDate();break;case"!":l=new Date((w("!")-this._ticksTo1970)/1e4),g=l.getFullYear(),v=l.getMonth()+1,b=l.getDate();break;case"'":x("'")?C():_=!0;break;default:C()}if(i.length>c&&(a=i.substr(c),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=g?0:-100)),y>-1)for(v=1,b=y;s=this._getDaysInMonth(g,v-1),!(s>=b);)v++,b-=s;if(l=this._daylightSavingAdjust(new Date(g,v-1,b)),l.getFullYear()!==g||l.getMonth()+1!==v||l.getDate()!==b)throw"Invalid date";return l},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,n){
if(!t)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){var n=e.length>i+1&&e.charAt(i+1)===t;return n&&i++,n},c=function(e,t,n){var i=""+t;if(l(e))for(;n>i.length;)i="0"+i;return i},u=function(e,t,n,i){return l(e)?i[t]:n[t]},d="",h=!1;if(t)for(i=0;e.length>i;i++)if(h)"'"!==e.charAt(i)||l("'")?d+=e.charAt(i):h=!1;else switch(e.charAt(i)){case"d":d+=c("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),r,o);break;case"o":d+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),s,a);break;case"y":d+=l("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=e.charAt(i)}return d},_possibleChars:function(e){var t,n="",i=!1,r=function(n){var i=e.length>t+1&&e.charAt(t+1)===n;return i&&t++,i};for(t=0;e.length>t;t++)if(i)"'"!==e.charAt(t)||r("'")?n+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,n){return e.settings[n]!==t?e.settings[n]:this._defaults[n]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),o=r,s=this._getFormatConfig(e);try{o=this.parseDate(n,i,s)||r}catch(e){i=t?"":i}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=i?o.getDate():0,e.currentMonth=i?o.getMonth():0,e.currentYear=i?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,i){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},o=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(e){}for(var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,r=i.getFullYear(),o=i.getMonth(),s=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(n);l;){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(l[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(r,o))}l=a.exec(n)}return new Date(r,o,s)},s=null==n||""===n?i:"string"==typeof n?o(n):"number"==typeof n?isNaN(n)?i:r(n):new Date(n.getTime());return s=s&&"Invalid Date"==""+s?i:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,r=e.selectedMonth,o=e.selectedYear,s=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=s.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=s.getMonth(),e.drawYear=e.selectedYear=e.currentYear=s.getFullYear(),r===e.selectedMonth&&o===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(i,-n,"M")},next:function(){e.datepicker._adjustDate(i,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,i,r,o,s,a,l,c,u,d,h,p,f,m,g,v,b,y,_,x,w,k,C,S,T,M,D,A,E,O,j,L,N,I,P,z,F,H,W=new Date,R=this._daylightSavingAdjust(new Date(W.getFullYear(),W.getMonth(),W.getDate())),q=this._get(e,"isRTL"),B=this._get(e,"showButtonPanel"),U=this._get(e,"hideIfNoPrevNext"),$=this._get(e,"navigationAsDateFormat"),Y=this._getNumberOfMonths(e),J=this._get(e,"showCurrentAtPos"),V=this._get(e,"stepMonths"),G=1!==Y[0]||1!==Y[1],K=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),Q=this._getMinMaxDate(e,"max"),Z=e.drawMonth-J,ee=e.drawYear;if(0>Z&&(Z+=12,ee--),Q)for(t=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-Y[0]*Y[1]+1,Q.getDate())),t=X&&X>t?X:t;this._daylightSavingAdjust(new Date(ee,Z,1))>t;)Z--,0>Z&&(Z=11,ee--);for(e.drawMonth=Z,e.drawYear=ee,n=this._get(e,"prevText"),n=$?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Z-V,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,ee,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"e":"w")+"'>"+n+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"e":"w")+"'>"+n+"</span></a>",r=this._get(e,"nextText"),r=$?this.formatDate(r,this._daylightSavingAdjust(new Date(ee,Z+V,1)),this._getFormatConfig(e)):r,o=this._canAdjustMonth(e,1,ee,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"w":"e")+"'>"+r+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"w":"e")+"'>"+r+"</span></a>",s=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?K:R,s=$?this.formatDate(s,a,this._getFormatConfig(e)):s,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(q?l:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(q?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),b=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),_="",w=0;Y[0]>w;w++){for(k="",this.maxRows=4,C=0;Y[1]>C;C++){if(S=this._daylightSavingAdjust(new Date(ee,Z,e.selectedDay)),T=" ui-corner-all",M="",G){if(M+="<div class='ui-datepicker-group",Y[1]>1)switch(C){case 0:M+=" ui-datepicker-group-first",T=" ui-corner-"+(q?"right":"left");break;case Y[1]-1:M+=" ui-datepicker-group-last",T=" ui-corner-"+(q?"left":"right");break;default:M+=" ui-datepicker-group-middle",T=""}M+="'>"}for(M+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===w?q?o:i:"")+(/all|right/.test(T)&&0===w?q?i:o:"")+this._generateMonthYearHeader(e,Z,ee,X,Q,w>0||C>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",D=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;7>x;x++)A=(x+u)%7,D+="<th"+((x+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[A]+"'>"+p[A]+"</span></th>";for(M+=D+"</tr></thead><tbody>",E=this._getDaysInMonth(ee,Z),ee===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,E)),O=(this._getFirstDayOfMonth(ee,Z)-u+7)%7,j=Math.ceil((O+E)/7),L=G&&this.maxRows>j?this.maxRows:j,this.maxRows=L,N=this._daylightSavingAdjust(new Date(ee,Z,1-O)),I=0;L>I;I++){for(M+="<tr>",P=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(N)+"</td>":"",x=0;7>x;x++)z=g?g.apply(e.input?e.input[0]:null,[N]):[!0,""],F=N.getMonth()!==Z,H=F&&!b||!z[0]||X&&X>N||Q&&N>Q,P+="<td class='"+((x+u+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(N.getTime()===S.getTime()&&Z===e.selectedMonth&&e._keyEvent||y.getTime()===N.getTime()&&y.getTime()===S.getTime()?" "+this._dayOverClass:"")+(H?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+z[1]+(N.getTime()===K.getTime()?" "+this._currentClass:"")+(N.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!z[2]?"":" title='"+z[2].replace(/'/g,"&#39;")+"'")+(H?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":H?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===R.getTime()?" ui-state-highlight":"")+(N.getTime()===K.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);M+=P+"</tr>"}Z++,Z>11&&(Z=0,ee++),M+="</tbody></table>"+(G?"</div>"+(Y[0]>0&&C===Y[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=M}_+=k}return _+=c,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,n,i,r,o,s,a){var l,c,u,d,h,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",_="";if(o||!g)_+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{for(l=i&&i.getFullYear()===n,c=r&&r.getFullYear()===n,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=i.getMonth())&&(!c||r.getMonth()>=u)&&(_+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+a[u]+"</option>");_+="</select>"}if(b||(y+=_+(!o&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=i?Math.max(f,i.getFullYear()):f,m=r?Math.min(m,r.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),b&&(y+=(!o&&g&&v?"":"&#xa0;")+_),y+="</div>"},_adjustInstDate:function(e,t,n){var i=e.drawYear+("Y"===n?t:0),r=e.drawMonth+("M"===n?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(i,r))+("D"===n?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,r,o)));e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),r=n&&n>t?n:t;return i&&r>i?i:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var r=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,i+(0>t?t:r[0]*r[1]),1));return 0>t&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var n,i,r=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),s=null,a=null,l=this._get(e,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=i),n[1].match(/[+\-].*/)&&(a+=i)),(!r||t.getTime()>=r.getTime())&&(!o||t.getTime()<=o.getTime())&&(!s||t.getFullYear()>=s)&&(!a||a>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.4"}(jQuery),function(e){var t={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},n={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;0>n&&e(this).css("top",t.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n,i=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._destroyOverlay(),!this.opener.filter(":focusable").focus().length)try{n=this.document[0].activeElement,n&&"body"!==n.nodeName.toLowerCase()&&e(n).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var n=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return n&&!t&&this._trigger("focus",e),n},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var e=this.element.find("[autofocus]");e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function n(){var t=this.document[0].activeElement,n=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);n||this._focusTabbable()}t.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");t.target!==r[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(r.focus(1),t.preventDefault()):(i.focus(1),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(n)||e.isArray(n)&&!n.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(n,function(n,i){var r,o;i=e.isFunction(i)?{click:i,text:n}:i,i=e.extend({type:"button"},i),r=i.click,i.click=function(){r.apply(t.element[0],arguments)},o={icons:i.icons,text:i.showText},delete i.icons,delete i.showText,e("<button></button>",i).button(o).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){e(this).addClass("ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,t(r))},drag:function(e,i){n._trigger("drag",e,t(i))},stop:function(r,o){i.position=[o.position.left-n.document.scrollLeft(),o.position.top-n.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",r,t(o))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var n=this,i=this.options,r=i.resizable,o=this.uiDialog.css("position"),s="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:s,start:function(i,r){e(this).addClass("ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,t(r))},resize:function(e,i){n._trigger("resize",e,t(i))},stop:function(r,o){i.height=e(this).height(),i.width=e(this).width(),e(this).removeClass("ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",r,t(o))}}).css("position",o)},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(i){var r=this,o=!1,s={};e.each(i,function(e,i){r._setOption(e,i),e in t&&(o=!0),e in n&&(s[e]=i)}),o&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(e,t){var n,i,r=this.uiDialog;"dialogClass"===e&&r.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(n=r.is(":data(ui-draggable)"),n&&!t&&r.draggable("destroy"),!n&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(i=r.is(":data(ui-resizable)"),i&&!t&&r.resizable("destroy"),i&&"string"==typeof t&&r.resizable("option","handles",t),i||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),t=Math.max(0,i.minHeight-e),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none","auto"===i.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,n=this.widgetFullName;e.ui.dialog.overlayInstances||this._delay(function(){e.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(i){t._allowInteraction(i)||(i.preventDefault(),e(".ui-dialog:visible:last .ui-dialog-content").data(n)._focusTabbable())})}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),e.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(e.ui.dialog.overlayInstances--,e.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),e.ui.dialog.overlayInstances=0,e.uiBackCompat!==!1&&e.widget("ui.dialog",e.ui.dialog,{_position:function(){var t,n=this.options.position,i=[],r=[0,0];n?(("string"==typeof n||"object"==typeof n&&"0"in n)&&(i=n.split?n.split(" "):[n[0],n[1]],1===i.length&&(i[1]=i[0]),e.each(["left","top"],function(e,t){+i[e]===i[e]&&(r[e]=i[e],i[e]=t)}),n={my:i[0]+(0>r[0]?r[0]:"+"+r[0])+" "+i[1]+(0>r[1]?r[1]:"+"+r[1]),at:i.join(" ")}),n=e.extend({},e.ui.dialog.prototype.options.position,n)):n=e.ui.dialog.prototype.options.position,t=this.uiDialog.is(":visible"),t||this.uiDialog.show(),this.uiDialog.position(n),t||this.uiDialog.hide()}})}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0))},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),!("original"===this.options.helper&&!e.contains(this.element[0].ownerDocument,this.element[0]))&&("invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1)},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;return r.containment?"window"===r.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),
n=e(r.containment),i=n[0],void(i&&(t="hidden"!==n.css("overflow"),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n))):void(this.containment=null)},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*i}},_generatePosition:function(t){var n,i,r,o,s=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=t.pageX,c=t.pageY;return this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(i=this.relative_container.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var i=e(this).data("ui-draggable"),r=i.options,o=e.extend({},n,{item:i.element});i.sortables=[],e(r.connectToSortable).each(function(){var n=e.data(this,"ui-sortable");n&&!n.options.disabled&&(i.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,o))})},stop:function(t,n){var i=e(this).data("ui-draggable"),r=e.extend({},n,{item:i.element});e.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,r))})},drag:function(t,n){var i=e(this).data("ui-draggable"),r=this;e.each(i.sortables,function(){var o=!1,s=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,e.each(i.sortables,function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!==s&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(s.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",t),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",t),i.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),n=e(this).data("ui-draggable").options;t.css("cursor")&&(n._cursor=t.css("cursor")),t.css("cursor",n.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var i=e(n.helper),r=e(this).data("ui-draggable").options;i.css("opacity")&&(r._opacity=i.css("opacity")),i.css("opacity",r.opacity)},stop:function(t,n){var i=e(this).data("ui-draggable").options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var n=e(this).data("ui-draggable"),i=n.options,r=!1;n.scrollParent[0]!==document&&"HTML"!==n.scrollParent[0].tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-n.overflowOffset.top<i.scrollSensitivity&&(n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-n.overflowOffset.left<i.scrollSensitivity&&(n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(document).scrollTop()<i.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(document).scrollLeft()<i.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed)))),r!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),n=t.options;t.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var n=e(this),i=n.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:i.top,left:i.left})})},drag:function(t,n){var i,r,o,s,a,l,c,u,d,h,p=e(this).data("ui-draggable"),f=p.options,m=f.snapTolerance,g=n.offset.left,v=g+p.helperProportions.width,b=n.offset.top,y=b+p.helperProportions.height;for(d=p.snapElements.length-1;d>=0;d--)a=p.snapElements[d].left,l=a+p.snapElements[d].width,c=p.snapElements[d].top,u=c+p.snapElements[d].height,a-m>v||g>l+m||c-m>y||b>u+m||!e.contains(p.snapElements[d].item.ownerDocument,p.snapElements[d].item)?(p.snapElements[d].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[d].item})),p.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(i=m>=Math.abs(c-y),r=m>=Math.abs(u-b),o=m>=Math.abs(a-v),s=m>=Math.abs(l-g),i&&(n.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),r&&(n.position.top=p._convertPositionTo("relative",{top:u,left:0}).top-p.margins.top),o&&(n.position.left=p._convertPositionTo("relative",{top:0,left:a-p.helperProportions.width}).left-p.margins.left),s&&(n.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),h=i||r||o||s,"outer"!==f.snapMode&&(i=m>=Math.abs(c-b),r=m>=Math.abs(u-y),o=m>=Math.abs(a-g),s=m>=Math.abs(l-v),i&&(n.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),r&&(n.position.top=p._convertPositionTo("relative",{top:u-p.helperProportions.height,left:0}).top-p.margins.top),o&&(n.position.left=p._convertPositionTo("relative",{top:0,left:a}).left-p.margins.left),s&&(n.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[d].snapping&&(i||r||o||s||h)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[d].item})),p.snapElements[d].snapping=i||r||o||s||h)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,n=this.data("ui-draggable").options,i=e.makeArray(e(n.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});i.length&&(t=parseInt(e(i[0]).css("zIndex"),10)||0,e(i).each(function(n){e(this).css("zIndex",t+n)}),this.css("zIndex",t+i.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var i=e(n.helper),r=e(this).data("ui-draggable").options;i.css("zIndex")&&(r._zIndex=i.css("zIndex")),i.css("zIndex",r.zIndex)},stop:function(t,n){var i=e(this).data("ui-draggable").options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}})}(jQuery),function(e){function t(e,t,n){return e>t&&t+n>e}e.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},e.ui.ddmanager.droppables[n.scope]=e.ui.ddmanager.droppables[n.scope]||[],e.ui.ddmanager.droppables[n.scope].push(this),n.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,n=e.ui.ddmanager.droppables[this.options.scope];n.length>t;t++)n[t]===this&&n.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){"accept"===t&&(this.accept=e.isFunction(n)?n:function(e){return e.is(n)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var i=n||e.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope===i.options.scope&&t.accept.call(t.element[0],i.currentItem||i.element)&&e.ui.intersect(i,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(r=!0,!1):void 0}),!r&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(i)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,n,i){if(!n.offset)return!1;var r,o,s=(e.positionAbs||e.position.absolute).left,a=(e.positionAbs||e.position.absolute).top,l=s+e.helperProportions.width,c=a+e.helperProportions.height,u=n.offset.left,d=n.offset.top,h=u+n.proportions().width,p=d+n.proportions().height;switch(i){case"fit":return s>=u&&h>=l&&a>=d&&p>=c;case"intersect":return s+e.helperProportions.width/2>u&&h>l-e.helperProportions.width/2&&a+e.helperProportions.height/2>d&&p>c-e.helperProportions.height/2;case"pointer":return r=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,o=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,t(o,d,n.proportions().height)&&t(r,u,n.proportions().width);case"touch":return(a>=d&&p>=a||c>=d&&p>=c||d>a&&c>p)&&(s>=u&&h>=s||l>=u&&h>=l||u>s&&l>h);default:return!1}},e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,n){var i,r,o=e.ui.ddmanager.droppables[t.options.scope]||[],s=n?n.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(i=0;o.length>i;i++)if(!(o[i].options.disabled||t&&!o[i].accept.call(o[i].element[0],t.currentItem||t.element))){for(r=0;a.length>r;r++)if(a[r]===o[i].element[0]){o[i].proportions().height=0;continue e}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===s&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(t,n){var i=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,s=e.ui.intersect(t,this,this.options.tolerance),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===r}),o.length&&(i=e.data(o[0],"ui-droppable"),i.greedyChild="isover"===a)),i&&"isover"===a&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),i&&"isout"===a&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}}}(jQuery),function(e,t){var n="ui-effects-";e.effects={effect:{}},function(e,t){function n(e,t,n){var i=d[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:e>i.max?i.max:e)}function i(n){var i=c(),r=i._rgba=[];return n=n.toLowerCase(),f(l,function(e,o){var s,a=o.re.exec(n),l=a&&o.parse(a),c=o.space||"rgba";return l?(s=i[c](l),i[u[c].cache]=s[u[c].cache],r=i._rgba=s._rgba,!1):t}),r.length?("0,0,0,0"===r.join()&&e.extend(r,o.transparent),i):o[n]}function r(e,t,n){return n=(n+1)%1,1>6*n?e+6*(t-e)*n:1>2*n?t:2>3*n?e+6*(t-e)*(2/3-n):e}var o,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=e.Color=function(t,n,i,r){return new e.Color.fn.parse(t,n,i,r)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=c.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.fn=e.extend(c.prototype,{parse:function(r,s,a,l){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(s),s=t);var d=this,h=e.type(r),p=this._rgba=[];return s!==t&&(r=[r,s,a,l],h="array"),"string"===h?this.parse(i(r)||o._default):"array"===h?(f(u.rgba.props,function(e,t){p[t.idx]=n(r[t.idx],t)}),this):"object"===h?(r instanceof c?f(u,function(e,t){r[t.cache]&&(d[t.cache]=r[t.cache].slice())}):f(u,function(t,i){var o=i.cache;f(i.props,function(e,t){if(!d[o]&&i.to){if("alpha"===e||null==r[e])return;d[o]=i.to(d._rgba)}d[o][t.idx]=n(r[e],t,!0)}),d[o]&&0>e.inArray(null,d[o].slice(0,3))&&(d[o][3]=1,i.from&&(d._rgba=i.from(d[o])))}),this):t},is:function(e){var n=c(e),i=!0,r=this;return f(u,function(e,o){var s,a=n[o.cache];return a&&(s=r[o.cache]||o.to&&o.to(r._rgba)||[],f(o.props,function(e,n){return null!=a[n.idx]?i=a[n.idx]===s[n.idx]:t})),i}),i},_space:function(){var e=[],t=this;return f(u,function(n,i){t[i.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var i=c(e),r=i._space(),o=u[r],s=0===this.alpha()?c("transparent"):this,a=s[o.cache]||o.to(s._rgba),l=a.slice();return i=i[o.cache],f(o.props,function(e,r){var o=r.idx,s=a[o],c=i[o],u=d[r.type]||{};null!==c&&(null===s?l[o]=c:(u.mod&&(c-s>u.mod/2?s+=u.mod:s-c>u.mod/2&&(s-=u.mod)),l[o]=n((c-s)*t+s,r)))}),this[r](l)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=c(t)._rgba;return c(e.map(n,function(e,t){return(1-i)*r[t]+i*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+e.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,s=e[3],a=Math.max(i,r,o),l=Math.min(i,r,o),c=a-l,u=a+l,d=.5*u;return t=l===a?0:i===a?60*(r-o)/c+360:r===a?60*(o-i)/c+120:60*(i-r)/c+240,n=0===c?0:.5>=d?c/u:c/(2-u),[Math.round(t)%360,n,d,null==s?1:s]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],o=e[3],s=.5>=i?i*(1+n):i+n-i*n,a=2*i-s;return[Math.round(255*r(a,s,t+1/3)),Math.round(255*r(a,s,t)),Math.round(255*r(a,s,t-1/3)),o]},f(u,function(i,r){var o=r.props,s=r.cache,l=r.to,u=r.from;c.fn[i]=function(i){if(l&&!this[s]&&(this[s]=l(this._rgba)),i===t)return this[s].slice();var r,a=e.type(i),d="array"===a||"object"===a?i:arguments,h=this[s].slice();return f(o,function(e,t){var i=d["object"===a?e:t.idx];null==i&&(i=h[t.idx]),h[t.idx]=n(i,t)}),u?(r=c(u(h)),r[s]=h,r):c(h)},f(o,function(t,n){c.fn[t]||(c.fn[t]=function(r){var o,s=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":i,c=this[l](),u=c[n.idx];return"undefined"===s?u:("function"===s&&(r=r.call(this,u),s=e.type(r)),null==r&&n.empty?this:("string"===s&&(o=a.exec(r),o&&(r=u+parseFloat(o[2])*("+"===o[1]?1:-1))),c[n.idx]=r,this[l](c)))})})}),c.hook=function(t){var n=t.split(" ");f(n,function(t,n){e.cssHooks[n]={set:function(t,r){var o,s,a="";if("transparent"!==r&&("string"!==e.type(r)||(o=i(r)))){if(r=c(o||r),!h.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===n?t.parentNode:t;(""===a||"transparent"===a)&&s&&s.style;)try{a=e.css(s,"backgroundColor"),s=s.parentNode}catch(e){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{t.style[n]=r}catch(e){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=c(t.elem,n),t.end=c(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},c.hook(s),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(n,i){t["border"+i+"Color"]=e}),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function n(t){var n,i,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(o[e.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function i(t,n){var i,r,s={};for(i in n)r=n[i],t[i]!==r&&(o[i]||(e.fx.step[i]||!isNaN(parseFloat(r)))&&(s[i]=r));return s}var r=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,o,s,a){var l=e.speed(o,s,a);return this.queue(function(){var o,s=e(this),a=s.attr("class")||"",c=l.children?s.find("*").addBack():s;c=c.map(function(){var t=e(this);return{el:t,start:n(this)}}),o=function(){e.each(r,function(e,n){t[n]&&s[n+"Class"](t[n])})},o(),c=c.map(function(){return this.end=n(this.el[0]),this.diff=i(this.start,this.end),this}),s.attr("class",a),c=c.map(function(){var t=this,n=e.Deferred(),i=e.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,i),n.promise()}),e.when.apply(e,c.get()).done(function(){o(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(s[0])})})},e.fn.extend({addClass:function(t){return function(n,i,r,o){return i?e.effects.animateClass.call(this,{add:n},i,r,o):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,i,r,o){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},i,r,o):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(n){return function(i,r,o,s,a){return"boolean"==typeof r||r===t?o?e.effects.animateClass.call(this,r?{add:i}:{remove:i},o,s,a):n.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},r,o,s)}}(e.fn.toggleClass),switchClass:function(t,n,i,r,o){return e.effects.animateClass.call(this,{add:n,remove:t},i,r,o)}})}(),function(){function i(t,n,i,r){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(r=i,i=n,n={}),e.isFunction(i)&&(r=i,i=null),n&&e.extend(t,n),i=i||n.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=r||n.complete,t}function r(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}e.extend(e.effects,{version:"1.10.4",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data(n+t[i],e[0].style[t[i]])},restore:function(e,i){var r,o;for(o=0;i.length>o;o++)null!==i[o]&&(r=e.data(n+i[o]),r===t&&(r=""),e.css(i[o],r))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(e){o=document.body}return t.wrap(i),(t[0]===o||e.contains(t[0],o))&&e(o).focus(),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,i,r){return r=r||{},e.each(n,function(e,n){var o=t.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),e.fn.extend({effect:function(){function t(t){function i(){e.isFunction(o)&&o.call(r[0]),e.isFunction(t)&&t()}var r=e(this),o=n.complete,a=n.mode;(r.is(":hidden")?"hide"===a:"show"===a)?(r[a](),i()):s.call(r[0],n,i)}var n=i.apply(this,arguments),r=n.mode,o=n.queue,s=e.effects.effect[n.effect];return e.fx.off||!s?r?this[r](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):o===!1?this.each(t):this.queue(o||"fx",t)},show:function(e){return function(t){if(r(t))return e.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(t){if(r(t))return e.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(t){if(r(t)||"boolean"==typeof t)return e.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])}),i}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;((t=Math.pow(2,--n))-1)/11>e;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?n(2*e)/2:1-n(-2*e+2)/2}})}()}(jQuery),function(e){var t=/up|down|vertical/,n=/up|left|vertical|horizontal/;e.effects.effect.blind=function(i,r){var o,s,a,l=e(this),c=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(l,i.mode||"hide"),d=i.direction||"up",h=t.test(d),p=h?"height":"width",f=h?"top":"left",m=n.test(d),g={},v="show"===u;l.parent().is(".ui-effects-wrapper")?e.effects.save(l.parent(),c):e.effects.save(l,c),l.show(),o=e.effects.createWrapper(l).css({overflow:"hidden"}),s=o[p](),a=parseFloat(o.css(f))||0,g[p]=v?s:0,m||(l.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),g[f]=v?a:s+a),v&&(o.css(p,0),m||o.css(f,a+s)),o.animate(g,{duration:i.duration,easing:i.easing,queue:!1,complete:function(){"hide"===u&&l.hide(),e.effects.restore(l,c),e.effects.removeWrapper(l),r()}})}}(jQuery),function(e){e.effects.effect.bounce=function(t,n){var i,r,o,s=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(s,t.mode||"effect"),c="hide"===l,u="show"===l,d=t.direction||"up",h=t.distance,p=t.times||5,f=2*p+(u||c?1:0),m=t.duration/f,g=t.easing,v="up"===d||"down"===d?"top":"left",b="up"===d||"left"===d,y=s.queue(),_=y.length;for((u||c)&&a.push("opacity"),e.effects.save(s,a),s.show(),e.effects.createWrapper(s),h||(h=s["top"===v?"outerHeight":"outerWidth"]()/3),u&&(o={opacity:1},o[v]=0,s.css("opacity",0).css(v,b?2*-h:2*h).animate(o,m,g)),c&&(h/=Math.pow(2,p-1)),o={},o[v]=0,i=0;p>i;i++)r={},r[v]=(b?"-=":"+=")+h,s.animate(r,m,g).animate(o,m,g),h=c?2*h:h/2;c&&(r={opacity:0},r[v]=(b?"-=":"+=")+h,s.animate(r,m,g)),s.queue(function(){c&&s.hide(),e.effects.restore(s,a),e.effects.removeWrapper(s),n()}),_>1&&y.splice.apply(y,[1,0].concat(y.splice(_,f+1))),s.dequeue()}}(jQuery),function(e){e.effects.effect.clip=function(t,n){var i,r,o,s=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(s,t.mode||"hide"),c="show"===l,u=t.direction||"vertical",d="vertical"===u,h=d?"height":"width",p=d?"top":"left",f={};
e.effects.save(s,a),s.show(),i=e.effects.createWrapper(s).css({overflow:"hidden"}),r="IMG"===s[0].tagName?i:s,o=r[h](),c&&(r.css(h,0),r.css(p,o/2)),f[h]=c?o:0,f[p]=c?0:o/2,r.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c||s.hide(),e.effects.restore(s,a),e.effects.removeWrapper(s),n()}})}}(jQuery),function(e){e.effects.effect.drop=function(t,n){var i,r=e(this),o=["position","top","bottom","left","right","opacity","height","width"],s=e.effects.setMode(r,t.mode||"hide"),a="show"===s,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",d={opacity:a?1:0};e.effects.save(r,o),r.show(),e.effects.createWrapper(r),i=t.distance||r["top"===c?"outerHeight":"outerWidth"](!0)/2,a&&r.css("opacity",0).css(c,"pos"===u?-i:i),d[c]=(a?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+i,r.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),n()}})}}(jQuery),function(e){e.effects.effect.explode=function(t,n){function i(){y.push(this),y.length===d*h&&r()}function r(){p.css({visibility:"visible"}),e(y).remove(),m||p.hide(),n()}var o,s,a,l,c,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=d,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/h),b=Math.ceil(p.outerHeight()/d),y=[];for(o=0;d>o;o++)for(l=g.top+o*b,u=o-(d-1)/2,s=0;h>s;s++)a=g.left+s*v,c=s-(h-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,top:-o*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:a+(m?c*v:0),top:l+(m?u*b:0),opacity:m?0:1}).animate({left:a+(m?0:c*v),top:l+(m?0:u*b),opacity:m?1:0},t.duration||500,t.easing,i)}}(jQuery),function(e){e.effects.effect.fade=function(t,n){var i=e(this),r=e.effects.setMode(i,t.mode||"toggle");i.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.easing,complete:n})}}(jQuery),function(e){e.effects.effect.fold=function(t,n){var i,r,o=e(this),s=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(o,t.mode||"hide"),l="show"===a,c="hide"===a,u=t.size||15,d=/([0-9]+)%/.exec(u),h=!!t.horizFirst,p=l!==h,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(o,s),o.show(),i=e.effects.createWrapper(o).css({overflow:"hidden"}),r=p?[i.width(),i.height()]:[i.height(),i.width()],d&&(u=parseInt(d[1],10)/100*r[c?0:1]),l&&i.css(h?{height:0,width:u}:{height:u,width:0}),g[f[0]]=l?r[0]:u,v[f[1]]=l?r[1]:0,i.animate(g,m,t.easing).animate(v,m,t.easing,function(){c&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),n()})}}(jQuery),function(e){e.effects.effect.highlight=function(t,n){var i=e(this),r=["backgroundImage","backgroundColor","opacity"],o=e.effects.setMode(i,t.mode||"show"),s={backgroundColor:i.css("backgroundColor")};"hide"===o&&(s.opacity=0),e.effects.save(i,r),i.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&i.hide(),e.effects.restore(i,r),n()}})}}(jQuery),function(e){e.effects.effect.pulsate=function(t,n){var i,r=e(this),o=e.effects.setMode(r,t.mode||"show"),s="show"===o,a="hide"===o,l=s||"hide"===o,c=2*(t.times||5)+(l?1:0),u=t.duration/c,d=0,h=r.queue(),p=h.length;for((s||!r.is(":visible"))&&(r.css("opacity",0).show(),d=1),i=1;c>i;i++)r.animate({opacity:d},u,t.easing),d=1-d;r.animate({opacity:d},u,t.easing),r.queue(function(){a&&r.hide(),n()}),p>1&&h.splice.apply(h,[1,0].concat(h.splice(p,c+1))),r.dequeue()}}(jQuery),function(e){e.effects.effect.puff=function(t,n){var i=e(this),r=e.effects.setMode(i,t.mode||"hide"),o="hide"===r,s=parseInt(t.percent,10)||150,a=s/100,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:r,complete:n,percent:o?s:100,from:o?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),i.effect(t)},e.effects.effect.scale=function(t,n){var i=e(this),r=e.extend(!0,{},t),o=e.effects.setMode(i,t.mode||"effect"),s=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===o?0:100),a=t.direction||"both",l=t.origin,c={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},u={y:"horizontal"!==a?s/100:1,x:"vertical"!==a?s/100:1};r.effect="size",r.queue=!1,r.complete=n,"effect"!==o&&(r.origin=l||["middle","center"],r.restore=!0),r.from=t.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:c),r.to={height:c.height*u.y,width:c.width*u.x,outerHeight:c.outerHeight*u.y,outerWidth:c.outerWidth*u.x},r.fade&&("show"===o&&(r.from.opacity=0,r.to.opacity=1),"hide"===o&&(r.from.opacity=1,r.to.opacity=0)),i.effect(r)},e.effects.effect.size=function(t,n){var i,r,o,s=e(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(s,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=s.css("position"),b=f?a:l,y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&s.show(),i={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===t.mode&&"show"===p?(s.from=t.to||y,s.to=t.from||i):(s.from=t.from||("show"===p?y:i),s.to=t.to||("hide"===p?y:i)),o={from:{y:s.from.height/i.height,x:s.from.width/i.width},to:{y:s.to.height/i.height,x:s.to.width/i.width}},("box"===m||"both"===m)&&(o.from.y!==o.to.y&&(b=b.concat(d),s.from=e.effects.setTransition(s,d,o.from.y,s.from),s.to=e.effects.setTransition(s,d,o.to.y,s.to)),o.from.x!==o.to.x&&(b=b.concat(h),s.from=e.effects.setTransition(s,h,o.from.x,s.from),s.to=e.effects.setTransition(s,h,o.to.x,s.to))),("content"===m||"both"===m)&&o.from.y!==o.to.y&&(b=b.concat(u).concat(c),s.from=e.effects.setTransition(s,u,o.from.y,s.from),s.to=e.effects.setTransition(s,u,o.to.y,s.to)),e.effects.save(s,b),s.show(),e.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),g&&(r=e.effects.getBaseline(g,i),s.from.top=(i.outerHeight-s.outerHeight())*r.y,s.from.left=(i.outerWidth-s.outerWidth())*r.x,s.to.top=(i.outerHeight-s.to.outerHeight)*r.y,s.to.left=(i.outerWidth-s.to.outerWidth)*r.x),s.css(s.from),("content"===m||"both"===m)&&(d=d.concat(["marginTop","marginBottom"]).concat(u),h=h.concat(["marginLeft","marginRight"]),c=a.concat(d).concat(h),s.find("*[width]").each(function(){var n=e(this),i={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};f&&e.effects.save(n,c),n.from={height:i.height*o.from.y,width:i.width*o.from.x,outerHeight:i.outerHeight*o.from.y,outerWidth:i.outerWidth*o.from.x},n.to={height:i.height*o.to.y,width:i.width*o.to.x,outerHeight:i.height*o.to.y,outerWidth:i.width*o.to.x},o.from.y!==o.to.y&&(n.from=e.effects.setTransition(n,d,o.from.y,n.from),n.to=e.effects.setTransition(n,d,o.to.y,n.to)),o.from.x!==o.to.x&&(n.from=e.effects.setTransition(n,h,o.from.x,n.from),n.to=e.effects.setTransition(n,h,o.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.easing,function(){f&&e.effects.restore(n,c)})})),s.animate(s.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===p&&s.hide(),e.effects.restore(s,b),f||("static"===v?s.css({position:"relative",top:s.to.top,left:s.to.left}):e.each(["top","left"],function(e,t){s.css(t,function(t,n){var i=parseInt(n,10),r=e?s.to.left:s.to.top;return"auto"===n?r+"px":i+r+"px"})})),e.effects.removeWrapper(s),n()}})}}(jQuery),function(e){e.effects.effect.shake=function(t,n){var i,r=e(this),o=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"effect"),a=t.direction||"left",l=t.distance||20,c=t.times||3,u=2*c+1,d=Math.round(t.duration/u),h="up"===a||"down"===a?"top":"left",p="up"===a||"left"===a,f={},m={},g={},v=r.queue(),b=v.length;for(e.effects.save(r,o),r.show(),e.effects.createWrapper(r),f[h]=(p?"-=":"+=")+l,m[h]=(p?"+=":"-=")+2*l,g[h]=(p?"-=":"+=")+2*l,r.animate(f,d,t.easing),i=1;c>i;i++)r.animate(m,d,t.easing).animate(g,d,t.easing);r.animate(m,d,t.easing).animate(f,d/2,t.easing).queue(function(){"hide"===s&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),n()}),b>1&&v.splice.apply(v,[1,0].concat(v.splice(b,u+1))),r.dequeue()}}(jQuery),function(e){e.effects.effect.slide=function(t,n){var i,r=e(this),o=["position","top","bottom","left","right","width","height"],s=e.effects.setMode(r,t.mode||"show"),a="show"===s,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,d={};e.effects.save(r,o),r.show(),i=t.distance||r["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(r).css({overflow:"hidden"}),a&&r.css(c,u?isNaN(i)?"-"+i:-i:i),d[c]=(a?u?"+=":"-=":u?"-=":"+=")+i,r.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),n()}})}}(jQuery),function(e){e.effects.effect.transfer=function(t,n){var i=e(this),r=e(t.to),o="fixed"===r.css("position"),s=e("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,c=r.offset(),u={top:c.top-a,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},d=i.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:d.top-a,left:d.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){h.remove(),n()})}}(jQuery),function(e){e.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var n=e(t.target).closest(".ui-menu-item");!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var n=e(t.currentTarget);n.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,r,o,s,a,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,r=this.previousFilter||"",o=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),o===r?s=!0:o=r+o,a=RegExp("^"+n(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())}),i=s&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(o=String.fromCharCode(t.keyCode),a=RegExp("^"+n(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())})),i.length?(this.focus(t,i),i.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n=this.options.icons.submenu,i=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.prev("a"),r=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(r),t.attr("aria-labelledby",i.attr("id"))}),t=i.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var n,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,r,o,s,a;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=t.height(),0>r?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(n,i)},nextPage:function(t){var n,i,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=e(this),0>n.offset().top-i-r}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var n,i,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i+r>0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item").first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)}})}(jQuery),function(e,t){e.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return e===t?this.options.value:(this.options.value=this._constrainedValue(e),this._refreshValue(),t)},_constrainedValue:function(e){return e===t&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}(jQuery),function(e){function t(e){return parseInt(e,10)||0}function n(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,n,i,r,o,s=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;t.length>n;n++)i=e.trim(t[n]),o="ui-resizable-"+i,r=e("<div class='ui-resizable-handle "+o+"'></div>"),r.css({zIndex:a.zIndex}),"se"===i&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(r);this._renderAxis=function(t){var n,i,r,o;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String&&(this.handles[n]=e(this.handles[n],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=e(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(r,o),this._proportionallyResize()),e(this.handles[n]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=r&&r[1]?r[1]:"se")}),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(e(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,i,r=!1;for(n in this.handles)i=e(this.handles[n])[0],(i===t.target||e.contains(i,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(n){var i,r,o,s=this.options,a=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy(),i=t(this.helper.css("left")),r=t(this.helper.css("top")),s.containment&&(i+=e(s.containment).scrollLeft()||0,r+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:i,top:r},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:n.pageX,top:n.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===o?this.axis+"-resize":o),l.addClass("ui-resizable-resizing"),this._propagate("start",n),!0},_mouseDrag:function(t){var n,i=this.helper,r={},o=this.originalMousePosition,s=this.axis,a=this.position.top,l=this.position.left,c=this.size.width,u=this.size.height,d=t.pageX-o.left||0,h=t.pageY-o.top||0,p=this._change[s];return!!p&&(n=p.apply(this,[t,d,h]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),this.position.top!==a&&(r.top=this.position.top+"px"),this.position.left!==l&&(r.left=this.position.left+"px"),this.size.width!==c&&(r.width=this.size.width+"px"),this.size.height!==u&&(r.height=this.size.height+"px"),i.css(r),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||this._trigger("resize",t,this.ui()),!1)},_mouseStop:function(t){this.resizing=!1;var n,i,r,o,s,a,l,c=this.options,u=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&e.ui.hasScroll(n[0],"left")?0:u.sizeDiff.height,o=i?0:u.sizeDiff.width,s={width:u.helper.width()-o,height:u.helper.height()-r},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,i,r,o,s,a=this.options;s={minWidth:n(a.minWidth)?a.minWidth:0,maxWidth:n(a.maxWidth)?a.maxWidth:1/0,minHeight:n(a.minHeight)?a.minHeight:0,maxHeight:n(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,r=s.minWidth/this.aspectRatio,i=s.maxHeight*this.aspectRatio,o=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),r>s.minHeight&&(s.minHeight=r),s.maxWidth>i&&(s.maxWidth=i),s.maxHeight>o&&(s.maxHeight=o)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),n(e.left)&&(this.position.left=e.left),n(e.top)&&(this.position.top=e.top),n(e.height)&&(this.size.height=e.height),n(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,r=this.axis;return n(e.height)?e.width=e.height*this.aspectRatio:n(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,r=n(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=n(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=n(e.width)&&t.minWidth&&t.minWidth>e.width,a=n(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,u=/sw|nw|w/.test(i),d=/nw|ne|n/.test(i);return s&&(e.width=t.minWidth),a&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),s&&u&&(e.left=l-t.minWidth),r&&u&&(e.left=l-t.maxWidth),a&&d&&(e.top=c-t.minHeight),o&&d&&(e.top=c-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,n,i,r,o=this.helper||this.element;for(e=0;this._proportionallyResizeElements.length>e;e++){if(r=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],n=[r.css("borderTopWidth"),r.css("borderRightWidth"),r.css("borderBottomWidth"),r.css("borderLeftWidth")],i=[r.css("paddingTop"),r.css("paddingRight"),r.css("paddingBottom"),r.css("paddingLeft")],t=0;n.length>t;t++)this.borderDif[t]=(parseInt(n[t],10)||0)+(parseInt(i[t],10)||0);r.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,i=this.originalPosition;return{left:i.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]));
}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).data("ui-resizable"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&e.ui.hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&e(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var n,i,r,o,s,a,l,c=e(this).data("ui-resizable"),u=c.options,d=c.element,h=u.containment,p=h instanceof e?h.get(0):/parent/.test(h)?d.parent().get(0):h;p&&(c.containerElement=e(p),/document/.test(h)||h===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(n=e(p),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,r){i[e]=t(n.css("padding"+r))}),c.containerOffset=n.offset(),c.containerPosition=n.position(),c.containerSize={height:n.innerHeight()-i[3],width:n.innerWidth()-i[1]},r=c.containerOffset,o=c.containerSize.height,s=c.containerSize.width,a=e.ui.hasScroll(p,"left")?p.scrollWidth:s,l=e.ui.hasScroll(p)?p.scrollHeight:o,c.parentData={element:p,left:r.left,top:r.top,width:a,height:l}))},resize:function(t){var n,i,r,o,s=e(this).data("ui-resizable"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||t.shiftKey,d={top:0,left:0},h=s.containerElement;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-d.left),u&&(s.size.height=s.size.width/s.aspectRatio),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio),s.position.top=s._helper?l.top:0),s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top,n=Math.abs((s._helper?s.offset.left-d.left:s.offset.left-d.left)+s.sizeDiff.width),i=Math.abs((s._helper?s.offset.top-d.top:s.offset.top-l.top)+s.sizeDiff.height),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o&&(n-=Math.abs(s.parentData.left)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,u&&(s.size.height=s.size.width/s.aspectRatio)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,u&&(s.size.width=s.size.height*s.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),n=t.options,i=t.containerOffset,r=t.containerPosition,o=t.containerElement,s=e(t.helper),a=s.offset(),l=s.outerWidth()-t.sizeDiff.width,c=s.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:a.left-r.left-i.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:a.left-r.left-i.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,i=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof n.alsoResize||n.alsoResize.parentNode?i(n.alsoResize):n.alsoResize.length?(n.alsoResize=n.alsoResize[0],i(n.alsoResize)):e.each(n.alsoResize,function(e){i(e)})},resize:function(t,n){var i=e(this).data("ui-resizable"),r=i.options,o=i.originalSize,s=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0},l=function(t,i){e(t).each(function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),o={},s=i&&i.length?i:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var n=(r[t]||0)+(a[t]||0);n&&n>=0&&(o[t]=n||null)}),t.css(o)})};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?l(r.alsoResize):e.each(r.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),n=t.options,i=t.size,r=t.originalSize,o=t.originalPosition,s=t.axis,a="number"==typeof n.grid?[n.grid,n.grid]:n.grid,l=a[0]||1,c=a[1]||1,u=Math.round((i.width-r.width)/l)*l,d=Math.round((i.height-r.height)/c)*c,h=r.width+u,p=r.height+d,f=n.maxWidth&&h>n.maxWidth,m=n.maxHeight&&p>n.maxHeight,g=n.minWidth&&n.minWidth>h,v=n.minHeight&&n.minHeight>p;n.grid=a,g&&(h+=l),v&&(p+=c),f&&(h-=l),m&&(p-=c),/^(se|s|e)$/.test(s)?(t.size.width=h,t.size.height=p):/^(ne)$/.test(s)?(t.size.width=h,t.size.height=p,t.position.top=o.top-d):/^(sw)$/.test(s)?(t.size.width=h,t.size.height=p,t.position.left=o.left-u):(p-c>0?(t.size.height=p,t.position.top=o.top-d):(t.size.height=c,t.position.top=o.top+r.height-c),h-l>0?(t.size.width=h,t.position.left=o.left-u):(t.size.width=l,t.position.left=o.left+r.width-l))}})}(jQuery),function(e){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(n.options.filter,n.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this,i=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(i.filter,this.element[0]),this._trigger("start",t),e(i.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=e.data(this,"selectable-item");i.startselected=!0,t.metaKey||t.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element}))}),e(t.target).parents().addBack().each(function(){var i,r=e.data(this,"selectable-item");return r?(i=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",t,{selecting:r.element}):n._trigger("unselecting",t,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],s=this.opos[1],a=t.pageX,l=t.pageY;return o>a&&(n=a,a=o,o=n),s>l&&(n=l,l=s,s=n),this.helper.css({left:o,top:s,width:a-o,height:l-s}),this.selectees.each(function(){var n=e.data(this,"selectable-item"),c=!1;n&&n.element!==i.element[0]&&("touch"===r.tolerance?c=!(n.left>a||o>n.right||n.top>l||s>n.bottom):"fit"===r.tolerance&&(c=n.left>o&&a>n.right&&n.top>s&&l>n.bottom),c?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,i._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",t,{unselected:i.element})}),e(".ui-selecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",t,{selected:i.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(e){var t=5;e.widget("ui.slider",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,i=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",s=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),t=r.length;n>t;t++)s.push(o);this.handles=r.add(e(s.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,n="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,i,r,o,s,a,l,c,u=this,d=this.options;return!d.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(i-u.values(t));(r>n||r===n&&(t===u._lastChangedValue||u.values(t)===d.min))&&(r=n,o=e(this),s=t)}),a=this._start(t,s),a!==!1&&(this._mouseSliding=!0,this._handleIndex=s,o.addClass("ui-state-active").focus(),l=o.offset(),c=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-o.width()/2,top:t.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,s,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,r,o;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/t,i>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var i,r,o;this.options.values&&this.options.values.length?(i=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&n>i||1===t&&i>n)&&(n=i),n!==this.values(t)&&(r=this.values(),r[t]=n,o=this._trigger("slide",e,{handle:this.handles[t],value:n,values:r}),i=this.values(t?0:1),o!==!1&&this.values(t,n))):n!==this.value()&&(o=this._trigger("slide",e,{handle:this.handles[t],value:n}),o!==!1&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var i,r,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(i=this.options.values,r=arguments[0],o=0;i.length>o;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,n){var i,r=0;switch("range"===t&&this.options.range===!0&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(r=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;r>i;i+=1)this._change(null,i);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),i=0;n.length>i;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,n,i,r,o,s=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(i){n=100*((l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())),u["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](u,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},a.animate),1===i&&l.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:a.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&l.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:a.animate}))),t=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?100*((i-r)/(o-r)):0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:a.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(n){var i,r,o,s,a=e(n.target).data("ui-slider-handle-index");switch(n.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(n.target).addClass("ui-state-active"),i=this._start(n,a),i===!1))return}switch(s=this.options.step,r=o=this.options.values&&this.options.values.length?this.values(a):this.value(),n.keyCode){case e.ui.keyCode.HOME:o=this._valueMin();break;case e.ui.keyCode.END:o=this._valueMax();break;case e.ui.keyCode.PAGE_UP:o=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(r===this._valueMax())return;o=this._trimAlignValue(r+s);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(r===this._valueMin())return;o=this._trimAlignValue(r-s)}this._slide(n,a,o)},click:function(e){e.preventDefault()},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}})}(jQuery),function(e){function t(e,t,n){return e>t&&t+n>e}function n(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||n(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){"disabled"===t?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,o.widgetName+"-item")===o?(i=e(this),!1):void 0}),e.data(t.target,o.widgetName+"-item")===o&&(i=e(t.target)),!!i&&(!(this.options.handle&&!n&&(e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(t.pageY-e(document).scrollTop()<s.scrollSensitivity?a=e(document).scrollTop(e(document).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<s.scrollSensitivity&&(a=e(document).scrollTop(e(document).scrollTop()+s.scrollSpeed)),t.pageX-e(document).scrollLeft()<s.scrollSensitivity?a=e(document).scrollLeft(e(document).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<s.scrollSensitivity&&(a=e(document).scrollLeft(e(document).scrollLeft()+s.scrollSpeed))),a!==!1&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!e.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=e.left,s=o+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||i+c>a&&l>i+c,h="y"===this.options.axis||t+u>o&&s>t+u,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>o&&s>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>a&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(e){var n="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=n&&i,o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return!!r&&(this.floating?s&&"right"===s||"down"===o?2:1:o&&("down"===o?2:1))},_intersectsWithSides:function(e){var n=t(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:r&&("down"===r&&n||"up"===r&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){a.push(this)}var i,r,o,s,a=[],l=[],c=this._connectWith();if(c&&t)for(i=c.length-1;i>=0;i--)for(o=e(c[i]),r=o.length-1;r>=0;r--)s=e.data(o[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;t.length>n;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(r=e(h[n]),i=r.length-1;i>=0;i--)o=e.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(d.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),
this.containers.push(o));for(n=d.length-1;n>=0;n--)for(s=d[n][1],a=d[n][0],i=0,c=a.length;c>i;i++)l=e(a[i]),l.data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+i+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(r)}):"img"===i&&r.attr("src",t.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(e,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_contactContainers:function(i){var r,o,s,a,l,c,u,d,h,p,f=null,m=null;for(r=this.containers.length-1;r>=0;r--)if(!e.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(f&&e.contains(this.containers[r].element[0],f.element[0]))continue;f=this.containers[r],m=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",i,this._uiHash(this)),this.containers[r].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",i,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(s=1e4,a=null,p=f.floating||n(this.currentItem),l=p?"left":"top",c=p?"width":"height",u=this.positionAbs[l]+this.offset.click[l],o=this.items.length-1;o>=0;o--)e.contains(this.containers[m].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!p||t(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(d=this.items[o].item.offset()[l],h=!1,Math.abs(d-u)>Math.abs(d+this.items[o][c]-u)&&(h=!0,d+=this.items[o][c]),s>Math.abs(d-u)&&(s=Math.abs(d-u),a=this.items[o],this.direction=h?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;a?this._rearrange(i,a,null,!0):this._rearrange(i,null,this.containers[m].element,!0),this._trigger("change",i,this._uiHash()),this.containers[m]._trigger("change",i,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",i,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],n=e(r.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r=this.options,o=t.pageX,s=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){function n(e,t,n){return function(i){n._trigger(e,i,t._uiHash(t))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),i=0;r.length>i;i++)r[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(i=0;r.length>i;i++)r[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery),function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},n=this.element;return e.each(["min","max","step"],function(e,i){var r=n.attr(i);void 0!==r&&r.length&&(t[i]=r)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function n(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)!==!1&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var n=this.options,i=e.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,n.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&this._trigger("start",e)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:n})===!1||(this._value(n),this.counter++)},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,i=this.options;return t=null!==i.min?i.min:0,n=e-t,n=Math.round(n/i.step)*i.step,e=t+n,e=parseFloat(e.toFixed(this._precision())),null!==i.max&&e>i.max?i.max:null!==i.min&&i.min>e?i.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var n=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(n))}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(e){this._super(e),this._value(this.element.val())}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var n;""!==e&&(n=this._parse(e),null!==n&&(t||(n=this._adjustValue(n)),e=this._format(n))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void t(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(e,t){function n(){return++r}function i(e){return e=e.cloneNode(!1),e.hash.length>1&&decodeURIComponent(e.href.replace(o,""))===decodeURIComponent(location.href.replace(o,""))}var r=0,o=/#.*$/;e.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(n.active):e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var n=this.options.active,i=this.options.collapsible,r=location.hash.substring(1);return null===n&&(r&&this.tabs.each(function(i,o){return e(o).attr("aria-controls")===r?(n=i,!1):t}),null===n&&(n=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===n||-1===n)&&(n=!!this.tabs.length&&0)),n!==!1&&(n=this.tabs.index(this.tabs.eq(n)),-1===n&&(n=!i&&0)),!i&&n===!1&&this.anchors.length&&(n=0),n},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(n){var i=e(this.document[0].activeElement).closest("li"),r=this.tabs.index(i),o=!0;if(!this._handlePageNav(n)){switch(n.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:r++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:o=!1,r--;break;case e.ui.keyCode.END:r=this.anchors.length-1;break;case e.ui.keyCode.HOME:r=0;break;case e.ui.keyCode.SPACE:return n.preventDefault(),clearTimeout(this.activating),this._activate(r),t;case e.ui.keyCode.ENTER:return n.preventDefault(),clearTimeout(this.activating),this._activate(r!==this.options.active&&r),t;default:return}n.preventDefault(),clearTimeout(this.activating),r=this._focusNextTab(r,o),n.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(r).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",r)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(n){return n.altKey&&n.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):n.altKey&&n.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):t},_findNextTab:function(t,n){function i(){return t>r&&(t=0),0>t&&(t=r),t}for(var r=this.tabs.length-1;-1!==e.inArray(i(),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,n){return"active"===e?(this._activate(n),t):"disabled"===e?(this._setupDisabled(n),t):(this._super(e,n),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",n),n||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(n),"heightStyle"===e&&this._setupHeightStyle(n),t)},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+n()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(n,r){var o,s,a,l=e(r).uniqueId().attr("id"),c=e(r).closest("li"),u=c.attr("aria-controls");i(r)?(o=r.hash,s=t.element.find(t._sanitizeSelector(o))):(a=t._tabId(c),o="#"+a,s=t.element.find(o),s.length||(s=t._createPanel(a),s.insertAfter(t.panels[n-1]||t.tablist)),s.attr("aria-live","polite")),s.length&&(t.panels=t.panels.add(s)),u&&c.data("ui-tabs-aria-controls",u),c.attr({"aria-controls":o.substring(1),"aria-labelledby":l}),s.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var n,i=0;n=this.tabs[i];i++)t===!0||-1!==e.inArray(i,t)?e(n).addClass("ui-state-disabled").attr("aria-disabled","true"):e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,i=this.element.parent();"fill"===t?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),i=t.css("position");"absolute"!==i&&"fixed"!==i&&(n-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n))},_eventHandler:function(t){var n=this.options,i=this.active,r=e(t.currentTarget),o=r.closest("li"),s=o[0]===i[0],a=s&&n.collapsible,l=a?e():this._getPanelForTab(o),c=i.length?this._getPanelForTab(i):e(),u={oldTab:i,oldPanel:c,newTab:a?e():o,newPanel:l};t.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||s&&!n.collapsible||this._trigger("beforeActivate",t,u)===!1||(n.active=!a&&this.tabs.index(o),this.active=s?e():o,this.xhr&&this.xhr.abort(),c.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),t),this._toggle(t,u))},_toggle:function(t,n){function i(){o.running=!1,o._trigger("activate",t,n)}function r(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),s.length&&o.options.show?o._show(s,o.options.show,i):(s.show(),i())}var o=this,s=n.newPanel,a=n.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),r()),a.attr({"aria-expanded":"false","aria-hidden":"true"}),n.oldTab.attr("aria-selected","false"),s.length&&a.length?n.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr({"aria-expanded":"true","aria-hidden":"false"}),n.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var n,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(n){var i=this.options.disabled;i!==!1&&(n===t?i=!1:(n=this._getIndex(n),i=e.isArray(i)?e.map(i,function(e){return e!==n?e:null}):e.map(this.tabs,function(e,t){return t!==n?t:null})),this._setupDisabled(i))},disable:function(n){var i=this.options.disabled;if(i!==!0){if(n===t)i=!0;else{if(n=this._getIndex(n),-1!==e.inArray(n,i))return;i=e.isArray(i)?e.merge([n],i).sort():[n]}this._setupDisabled(i)}},load:function(t,n){t=this._getIndex(t);var r=this,o=this.tabs.eq(t),s=o.find(".ui-tabs-anchor"),a=this._getPanelForTab(o),l={tab:o,panel:a};i(s[0])||(this.xhr=e.ajax(this._ajaxSettings(s,n,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(o.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){a.html(e),r._trigger("load",n,l)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&r.panels.stop(!1,!0),o.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr},1)})))},_ajaxSettings:function(t,n,i){var r=this;return{url:t.attr("href"),beforeSend:function(t,o){return r._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:o},i))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}})}(jQuery),function(e){function t(t,n){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(i.join(" ")))}function n(t){var n=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=e.inArray(n,i);-1!==r&&i.splice(r,1),t.removeData("ui-tooltip-id"),i=e.trim(i.join(" ")),i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")}var i=0;e.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,n){var i=this;return"disabled"===t?(this[n?"_disable":"_enable"](),void(this.options[t]=n)):(this._super(t,n),void("content"===t&&e.each(this.tooltips,function(e,t){i._updateContent(t)})))},_disable:function(){var t=this;e.each(this.tooltips,function(n,i){var r=e.Event("blur");r.target=r.currentTarget=i[0],t.close(r,!0)}),this.element.find(this.options.items).addBack().each(function(){
var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var n=this,i=e(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each(function(){var t,i=e(this);i.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,n.close(t,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._updateContent(i,t))},_updateContent:function(e,t){var n,i=this.options.content,r=this,o=t?t.type:null;return"string"==typeof i?this._open(t,e,i):(n=i.call(e[0],function(n){e.data("ui-tooltip-open")&&r._delay(function(){t&&(t.type=o),this._open(t,e,n)})}),void(n&&this._open(t,e,n)))},_open:function(n,i,r){function o(e){c.of=e,s.is(":hidden")||s.position(c)}var s,a,l,c=e.extend({},this.options.position);if(r){if(s=this._find(i),s.length)return void s.find(".ui-tooltip-content").html(r);i.is("[title]")&&(n&&"mouseover"===n.type?i.attr("title",""):i.removeAttr("title")),s=this._tooltip(i),t(i,s.attr("id")),s.find(".ui-tooltip-content").html(r),this.options.track&&n&&/^mouse/.test(n.type)?(this._on(this.document,{mousemove:o}),o(n)):s.position(e.extend({of:i},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){s.is(":visible")&&(o(c.of),clearInterval(l))},e.fx.interval)),this._trigger("open",n,{tooltip:s}),a={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var n=e.Event(t);n.currentTarget=i[0],this.close(n,!0)}},remove:function(){this._removeTooltip(s)}},n&&"mouseover"!==n.type||(a.mouseleave="close"),n&&"focusin"!==n.type||(a.focusout="close"),this._on(!0,i,a)}},close:function(t){var i=this,r=e(t?t.currentTarget:this.element),o=this._find(r);this.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&r.attr("title",r.data("ui-tooltip-title")),n(r),o.stop(!0),this._hide(o,this.options.hide,function(){i._removeTooltip(e(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,n){e(n.element).attr("title",n.title),delete i.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:o}),this.closing=!1)},_tooltip:function(t){var n="ui-tooltip-"+i++,r=e("<div>").attr({id:n,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return e("<div>").addClass("ui-tooltip-content").appendTo(r),r.appendTo(this.document[0].body),this.tooltips[n]=t,r},_find:function(t){var n=t.data("ui-tooltip-id");return n?e("#"+n):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(n,i){var r=e.Event("blur");r.target=r.currentTarget=i[0],t.close(r,!0),e("#"+n).remove(),i.data("ui-tooltip-title")&&(i.attr("title",i.data("ui-tooltip-title")),i.removeData("ui-tooltip-title"))})}})}(jQuery),define("jquery-ui",function(){}),!function(e){function t(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var n=e.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}}if(e.support.touch="ontouchend"in document,e.support.touch){var n,i=e.ui.mouse.prototype,r=i._mouseInit,o=i._mouseDestroy;i._touchStart=function(e){var i=this;!n&&i._mouseCapture(e.originalEvent.changedTouches[0])&&(n=!0,i._touchMoved=!1,t(e,"mouseover"),t(e,"mousemove"),t(e,"mousedown"))},i._touchMove=function(e){n&&(this._touchMoved=!0,t(e,"mousemove"))},i._touchEnd=function(e){n&&(t(e,"mouseup"),t(e,"mouseout"),this._touchMoved||t(e,"click"),n=!1)},i._mouseInit=function(){var t=this;t.element.bind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),r.call(t)},i._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),o.call(t)}}}(jQuery),define("jquery-ui-tp",function(){}),function(e){var t=function(){var t=65,n='<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>',i={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:!0,flat:!1},r=function(t,n){var i=z(t);e(n).data("colorpicker").fields.eq(1).val(i.r).end().eq(2).val(i.g).end().eq(3).val(i.b).end()},o=function(t,n){e(n).data("colorpicker").fields.eq(4).val(t.h).end().eq(5).val(t.s).end().eq(6).val(t.b).end()},s=function(t,n){e(n).data("colorpicker").fields.eq(0).val(H(t)).end()},a=function(t,n){e(n).data("colorpicker").selector.css("backgroundColor","#"+H({h:t.h,s:100,b:100})),e(n).data("colorpicker").selectorIndic.css({left:parseInt(150*t.s/100,10),top:parseInt(150*(100-t.b)/100,10)})},l=function(t,n){e(n).data("colorpicker").hue.css("top",parseInt(150-150*t.h/360,10))},c=function(t,n){e(n).data("colorpicker").currentColor.css("backgroundColor","#"+H(t))},u=function(t,n){e(n).data("colorpicker").newColor.css("backgroundColor","#"+H(t))},d=function(n){var i=n.charCode||n.keyCode||-1;if(i>t&&i<=90||32==i)return!1;var r=e(this).parent().parent();r.data("colorpicker").livePreview===!0&&h.apply(this)},h=function(t){var n,i=e(this).parent().parent();this.parentNode.className.indexOf("_hex")>0?i.data("colorpicker").color=n=I(L(this.value)):this.parentNode.className.indexOf("_hsb")>0?i.data("colorpicker").color=n=O({h:parseInt(i.data("colorpicker").fields.eq(4).val(),10),s:parseInt(i.data("colorpicker").fields.eq(5).val(),10),b:parseInt(i.data("colorpicker").fields.eq(6).val(),10)}):i.data("colorpicker").color=n=P(j({r:parseInt(i.data("colorpicker").fields.eq(1).val(),10),g:parseInt(i.data("colorpicker").fields.eq(2).val(),10),b:parseInt(i.data("colorpicker").fields.eq(3).val(),10)})),t&&(r(n,i.get(0)),s(n,i.get(0)),o(n,i.get(0))),a(n,i.get(0)),l(n,i.get(0)),u(n,i.get(0)),i.data("colorpicker").onChange.apply(i,[n,H(n),z(n)])},p=function(t){var n=e(this).parent().parent();n.data("colorpicker").fields.parent().removeClass("colorpicker_focus")},f=function(){t=this.parentNode.className.indexOf("_hex")>0?70:65,e(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus"),e(this).parent().addClass("colorpicker_focus")},m=function(t){var n=e(this).parent().find("input").focus(),i={el:e(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:this.parentNode.className.indexOf("_hsb")>0?100:255,y:t.pageY,field:n,val:parseInt(n.val(),10),preview:e(this).parent().parent().data("colorpicker").livePreview};e(document).bind("mouseup",i,v),e(document).bind("mousemove",i,g)},g=function(e){return e.data.field.val(Math.max(0,Math.min(e.data.max,parseInt(e.data.val+e.pageY-e.data.y,10)))),e.data.preview&&h.apply(e.data.field.get(0),[!0]),!1},v=function(t){return h.apply(t.data.field.get(0),[!0]),t.data.el.removeClass("colorpicker_slider").find("input").focus(),e(document).unbind("mouseup",v),e(document).unbind("mousemove",g),!1},b=function(t){var n={cal:e(this).parent(),y:e(this).offset().top};n.preview=n.cal.data("colorpicker").livePreview,e(document).bind("mouseup",n,_),e(document).bind("mousemove",n,y)},y=function(e){return h.apply(e.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,e.pageY-e.data.y)))/150,10)).get(0),[e.data.preview]),!1},_=function(t){return r(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),s(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),e(document).unbind("mouseup",_),e(document).unbind("mousemove",y),!1},x=function(t){var n={cal:e(this).parent(),pos:e(this).offset()};n.preview=n.cal.data("colorpicker").livePreview,e(document).bind("mouseup",n,k),e(document).bind("mousemove",n,w)},w=function(e){return h.apply(e.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,e.pageY-e.data.pos.top)))/150,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(150,e.pageX-e.data.pos.left))/150,10)).get(0),[e.data.preview]),!1},k=function(t){return r(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),s(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),e(document).unbind("mouseup",k),e(document).unbind("mousemove",w),!1},C=function(t){e(this).addClass("colorpicker_focus")},S=function(t){e(this).removeClass("colorpicker_focus")},T=function(t){var n=e(this).parent(),i=n.data("colorpicker").color;n.data("colorpicker").origColor=i,c(i,n.get(0)),n.data("colorpicker").onSubmit(i,H(i),z(i),n.data("colorpicker").el)},M=function(t){var n=e("#"+e(this).data("colorpickerId"));n.data("colorpicker").onBeforeShow.apply(this,[n.get(0)]);var i=e(this).offset(),r=E(),o=i.top+this.offsetHeight,s=i.left;return o+176>r.t+r.h&&(o-=this.offsetHeight+176),s+356>r.l+r.w&&(s-=356),n.css({left:s+"px",top:o+"px"}),0!=n.data("colorpicker").onShow.apply(this,[n.get(0)])&&n.show(),e(document).bind("mousedown",{cal:n},D),!1},D=function(t){A(t.data.cal.get(0),t.target,t.data.cal.get(0))||(0!=t.data.cal.data("colorpicker").onHide.apply(this,[t.data.cal.get(0)])&&t.data.cal.hide(),e(document).unbind("mousedown",D))},A=function(e,t,n){if(e==t)return!0;if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return!!(16&e.compareDocumentPosition(t));for(var i=t.parentNode;i&&i!=n;){if(i==e)return!0;i=i.parentNode}return!1},E=function(){var e="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(e?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(e?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(e?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(e?document.documentElement.clientHeight:document.body.clientHeight)}},O=function(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}},j=function(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}},L=function(e){var t=6-e.length;if(t>0){for(var n=[],i=0;i<t;i++)n.push("0");n.push(e),e=n.join("")}return e},N=function(e){var e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16);return{r:e>>16,g:(65280&e)>>8,b:255&e}},I=function(e){return P(N(e))},P=function(e){var t={h:0,s:0,b:0},n=Math.min(e.r,e.g,e.b),i=Math.max(e.r,e.g,e.b),r=i-n;return t.b=i,t.s=0!=i?255*r/i:0,0!=t.s?e.r==i?t.h=(e.g-e.b)/r:e.g==i?t.h=2+(e.b-e.r)/r:t.h=4+(e.r-e.g)/r:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t},z=function(e){var t={},n=Math.round(e.h),i=Math.round(255*e.s/100),r=Math.round(255*e.b/100);if(0==i)t.r=t.g=t.b=r;else{var o=r,s=(255-i)*r/255,a=(o-s)*(n%60)/60;360==n&&(n=0),n<60?(t.r=o,t.b=s,t.g=s+a):n<120?(t.g=o,t.b=s,t.r=o-a):n<180?(t.g=o,t.r=s,t.b=s+a):n<240?(t.b=o,t.r=s,t.g=o-a):n<300?(t.b=o,t.g=s,t.r=s+a):n<360?(t.r=o,t.g=s,t.b=o-a):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}},F=function(t){var n=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return e.each(n,function(e,t){1==t.length&&(n[e]="0"+t)}),n.join("")},H=function(e){return F(z(e))},W=function(){var t=e(this).parent(),n=t.data("colorpicker").origColor;t.data("colorpicker").color=n,r(n,t.get(0)),s(n,t.get(0)),o(n,t.get(0)),a(n,t.get(0)),l(n,t.get(0)),u(n,t.get(0))};return{init:function(t){if(t=e.extend({},i,t||{}),"string"==typeof t.color)t.color=I(t.color);else if(void 0!=t.color.r&&void 0!=t.color.g&&void 0!=t.color.b)t.color=P(t.color);else{if(void 0==t.color.h||void 0==t.color.s||void 0==t.color.b)return this;t.color=O(t.color)}return this.each(function(){if(!e(this).data("colorpickerId")){var i=e.extend({},t);i.origColor=t.color;var g="collorpicker_"+parseInt(1e3*Math.random());e(this).data("colorpickerId",g);var v=e(n).attr("id",g);i.flat?v.appendTo(this).show():v.appendTo(document.body),i.fields=v.find("input").bind("keyup",d).bind("change",h).bind("blur",p).bind("focus",f),v.find("span").bind("mousedown",m).end().find(">div.colorpicker_current_color").bind("click",W),i.selector=v.find("div.colorpicker_color").bind("mousedown",x),i.selectorIndic=i.selector.find("div div"),i.el=this,i.hue=v.find("div.colorpicker_hue div"),v.find("div.colorpicker_hue").bind("mousedown",b),i.newColor=v.find("div.colorpicker_new_color"),i.currentColor=v.find("div.colorpicker_current_color"),v.data("colorpicker",i),v.find("div.colorpicker_submit").bind("mouseenter",C).bind("mouseleave",S).bind("click",T),r(i.color,v.get(0)),o(i.color,v.get(0)),s(i.color,v.get(0)),l(i.color,v.get(0)),a(i.color,v.get(0)),c(i.color,v.get(0)),u(i.color,v.get(0)),i.flat?v.css({position:"relative",display:"block"}):e(this).bind(i.eventName,M)}})},showPicker:function(){return this.each(function(){e(this).data("colorpickerId")&&M.apply(this)})},hidePicker:function(){return this.each(function(){e(this).data("colorpickerId")&&e("#"+e(this).data("colorpickerId")).hide()})},setColor:function(t){if("string"==typeof t)t=I(t);else if(void 0!=t.r&&void 0!=t.g&&void 0!=t.b)t=P(t);else{if(void 0==t.h||void 0==t.s||void 0==t.b)return this;t=O(t)}return this.each(function(){if(e(this).data("colorpickerId")){var n=e("#"+e(this).data("colorpickerId"));n.data("colorpicker").color=t,n.data("colorpicker").origColor=t,r(t,n.get(0)),o(t,n.get(0)),s(t,n.get(0)),l(t,n.get(0)),a(t,n.get(0)),c(t,n.get(0)),u(t,n.get(0))}})}}}();e.fn.extend({ColorPicker:t.init,ColorPickerHide:t.hidePicker,ColorPickerShow:t.showPicker,ColorPickerSetColor:t.setColor})}(jQuery),define("colorpicker",function(){}),canvas3d=function(){function make_identity_affine(){return[1,0,0,0,0,1,0,0,0,0,1,0]}function make_translation_affine(e,t,n){return[1,0,0,e,0,1,0,t,0,0,1,n]}function make_dilation_affine(e){return[e,0,0,0,0,e,0,0,0,0,e,0]}function mult_matrix(e,t){return[e[0]*t[0]+e[1]*t[4]+e[2]*t[8],e[0]*t[1]+e[1]*t[5]+e[2]*t[9],e[0]*t[2]+e[1]*t[6]+e[2]*t[10],e[0]*t[3]+e[1]*t[7]+e[2]*t[11]+e[3],e[4]*t[0]+e[5]*t[4]+e[6]*t[8],e[4]*t[1]+e[5]*t[5]+e[6]*t[9],e[4]*t[2]+e[5]*t[6]+e[6]*t[10],e[4]*t[3]+e[5]*t[7]+e[6]*t[11]+e[7],e[8]*t[0]+e[9]*t[4]+e[10]*t[8],e[8]*t[1]+e[9]*t[5]+e[10]*t[9],e[8]*t[2]+e[9]*t[6]+e[10]*t[10],e[8]*t[3]+e[9]*t[7]+e[10]*t[11]+e[11]]}function transform_point(e,t){return{x:t.x*e[0]+t.y*e[1]+t.z*e[2]+e[3],y:t.x*e[4]+t.y*e[5]+t.z*e[6]+e[7],z:t.x*e[8]+t.y*e[9]+t.z*e[10]+e[11]}}function vec3_dot(e,t){return e.x*t.x+e.y*t.y+e.z*t.z}function vec3_norm(e){var t=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);e.x/=t,e.y/=t,e.z/=t}function project_point(e){var t=FOCAL_LENGTH/e.z;return{x:t*e.x,y:t*e.y}}function Trackball(e){this.radius=e,this.transform=make_identity_affine(),this.anchor_vec=null,this.cursor_vec=null}function viewport_offset_for_element(e){var t=0,n=0,i=e;do if(t+=i.offsetTop||0,n+=i.offsetLeft||0,i.offsetParent==document.body&&"absolute"==i.style.position)break;while(i=i.offsetParent);i=e;do(!browser_opera||i.tagName&&"BODY"==i.tagName.toUpperCase())&&(t-=i.scrollTop||0,n-=i.scrollLeft||0);while(i=i.parentNode);return{x:n,y:t}}function setup(e){function t(t){var n=viewport_offset_for_element(e);return{x:t.clientX-n.x-CANVAS_SIZE/2,y:t.clientY-n.y-CANVAS_SIZE/2}}function n(){var t=make_identity_affine();t=mult_matrix(c,t),t=mult_matrix(u.transform,t),t=mult_matrix(make_dilation_affine(FIGURE_SCALE*l),t),t=mult_matrix(make_translation_affine(0,0,-FIGURE_ZOFFSET),t),draw(e,t),d=null}function i(){null!=d&&clearTimeout(d),d=setTimeout(n,0)}var r=!1,o=0,s=0,a=!1,l=1,c=make_identity_affine(),u=new Trackball(CANVAS_SIZE/2),d=null;e.addEventListener("mousedown",function(e){u.begin_drag(t(e)),r=!0},!1),e.addEventListener("mouseup",function(e){c=mult_matrix(u.end_drag(),c),r=!1},!1),e.addEventListener("mousemove",function(e){a?r&&(e.shiftKey?(l+=SCALING_SENSITIVITY*(e.clientY-s),l<.2&&(l=.2)):u.drag(t(e)),i()):a=!0,o=e.clientX,s=e.clientY},!1),n()}function render_model(e,t,n){"color"in n?e.strokeStyle=n.color:e.strokeStyle="black";for(var i=0;i<n.faces.length;i++){e.beginPath();for(var r=new Array(n.faces[i].length),o=0,s=0;s<n.faces[i].length;s++){var a=transform_point(t,n.vertices[n.faces[i][s]]);r[s]=project_point(a),(r[s].x<CANVAS_SIZE/-2||r[s].x>CANVAS_SIZE/2||r[s].y<CANVAS_SIZE/-2||r[s].y>CANVAS_SIZE/2||a.z<0)&&o++}if(o<n.faces[i].length)for(var s=0;s<n.faces[i].length;s++)0==s?e.moveTo(r[s].x,r[s].y):e.lineTo(r[s].x,r[s].y);"face_colors"in n&&(e.strokeStyle=n.face_colors[i]),e.closePath(),e.stroke()}}function draw(e,t){var n=e.getContext("2d");n.save(),n.clearRect(0,0,CANVAS_SIZE,CANVAS_SIZE),n.translate(CANVAS_SIZE/2,CANVAS_SIZE/2);for(var i=0;i<e.data.length;i++)render_model(n,t,e.data[i]);n.restore()}function viewer(url){var canvas_id="canvas3d-viewer"+viewer_count++;cell_writer.write('<canvas style="border: 2px solid black" id="'+canvas_id+'" width="'+CANVAS_SIZE+'" height="'+CANVAS_SIZE+'">'+translations["Sorry, but you need a browser that supports the &lt;canvas&gt; tag."]+"</canvas>");var xhr=new XMLHttpRequest;xhr.onreadystatechange=function(){if(4==xhr.readyState&&200==xhr.status&&null!=xhr.responseText){var canvas=document.getElementById(canvas_id);canvas.data=eval("("+xhr.responseText+")"),setup(canvas)}},xhr.open("GET",url,!0),xhr.send(null)}var CANVAS_SIZE=400,FOCAL_LENGTH=300,FIGURE_SCALE=90,FIGURE_ZOFFSET=-250,SCALING_SENSITIVITY=.04;Trackball.prototype.begin_drag=function(e){this.project_onto_surface(e),vec3_norm(e),this.anchor_vec=this.cursor_vec=e},Trackball.prototype.end_drag=function(){var e=this.transform;return this.transform=make_identity_affine(),e},Trackball.prototype.drag=function(e){this.project_onto_surface(e),vec3_norm(e),this.cursor_vec=e,this.compute_transform()},Trackball.prototype.compute_transform=function(){var e=vec3_dot(this.anchor_vec,this.cursor_vec),t=-(this.anchor_vec.y*this.cursor_vec.z-this.anchor_vec.z*this.cursor_vec.y),n=-(this.anchor_vec.z*this.cursor_vec.x-this.anchor_vec.x*this.cursor_vec.z),i=-(this.anchor_vec.x*this.cursor_vec.y-this.anchor_vec.y*this.cursor_vec.x);this.transform[0]=1-2*(n*n+i*i),this.transform[5]=1-2*(t*t+i*i),this.transform[10]=1-2*(n*n+t*t),this.transform[4]=2*(t*n+e*i),this.transform[1]=2*(t*n-e*i),this.transform[8]=2*(-(e*n)+t*i),this.transform[2]=2*(e*n+t*i),this.transform[9]=2*(i*n+e*t),this.transform[6]=2*(i*n-e*t)},Trackball.prototype.project_onto_surface=function(e){var t=this.radius*this.radius,n=e.x*e.x+e.y*e.y;n<=t/2?e.z=Math.sqrt(t-n):e.z=t/(2*Math.sqrt(n))};var browser_opera=navigator.userAgent.indexOf("Opera")>-1,viewer_count=0;return{viewer:viewer}}(),define("canvas3d_lib",function(){}),function(e){function t(e){try{return e?new window.ActiveXObject("Microsoft.XMLHTTP"):new window.XMLHttpRequest}catch(e){}}e.ajaxSettings.xhr=void 0===window.ActiveXObject?t:function(){return(this.url==document.location||0==this.url.indexOf("http")||!this.isLocal)&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&t()||t(1)},e.ajaxTransport("+script",function(e){var t,n=document.head||jQuery("head")[0]||document.documentElement;return{send:function(i,r){t=document.createElement("script"),e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||r(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}),e.extend(e.support,{iecors:!!window.XDomainRequest}),e.support.iecors?e.ajaxTransport(function(e){return{send:function(t,n){var i=new window.XDomainRequest;i.onload=function(){n(200,"OK",{text:i.responseText},{"Content-Type":i.contentType})},e.xhrFields&&(i.onerror=e.xhrFields.error,i.ontimeout=e.xhrFields.timeout),i.open(e.type,e.url),i.send(e.hasContent&&e.data||null)},abort:function(){xdr.abort()}}}):(e.ajaxSetup({accepts:{binary:"text/plain; charset=x-user-defined"},responseFields:{binary:"response"}}),e.ajaxTransport("binary",function(e){var t;return{send:function(n,i){var r=e.xhr();console.log("xhr.open binary async="+e.async+" url="+e.url),r.open(e.type,e.url,e.async);var o=!1;try{r.hasOwnProperty("responseType")&&(r.responseType="arraybuffer",o=!0)}catch(e){}try{!o&&r.overrideMimeType&&r.overrideMimeType("text/plain; charset=x-user-defined")}catch(e){}!e.crossDomain&&!n["X-Requested-With"]&&(n["X-Requested-With"]="XMLHttpRequest");try{for(var s in n)r.setRequestHeader(s,n[s])}catch(e){}r.send(e.hasContent&&e.data||null),t=function(){var n=r.status,o="",s=r.getAllResponseHeaders(),a={};try{if(t&&4===r.readyState){t=void 0;try{a.text="string"==typeof r.responseText?r.responseText:null}catch(e){}try{a.binary=r.response}catch(e){}try{o=r.statusText}catch(e){o=""}n||!e.isLocal||e.crossDomain?1223===n&&(n=204):n=a.text?200:404,i(n,o,a,s)}}catch(e){alert(e),i(-1,e)}},e.async?4===r.readyState?setTimeout(t):r.onreadystatechange=t:t()},abort:function(){}}}))}(jQuery),function(e,t,n,i){function r(n,r){function o(t){e(s).each(function(){self.Jmol&&(0<=r.indexOf("mouseup")||0<=r.indexOf("touchend"))&&Jmol._setMouseOwner(null);var n=e(this);this!==t.target&&!n.has(t.target).length&&n.triggerHandler(r,[t.target,t])})}r=r||n+i;var s=e(),a=n+"."+r+"-special-event";e.event.special[r]={setup:function(){s=s.add(this),1===s.length&&e(t).bind(a,o)},teardown:function(){self.Jmol&&Jmol._setMouseOwner(null),s=s.not(this),0===s.length&&e(t).unbind(a)},add:function(e){var t=e.handler;e.handler=function(e,n){e.target=n,t.apply(this,arguments)}}}}e.map(n.split(" "),function(e){r(e)}),r("focusin","focus"+i),r("focusout","blur"+i)}(jQuery,document,"click mousemove mouseup touchmove touchend","outjsmol"),"undefined"==typeof jQuery&&alert("Note -- JSmoljQuery is required for JSmol, but it's not defined."),self.Jmol||(Jmol={}),Jmol._version||(Jmol=function(e){var t=function(e){return{rear:e++,header:e++,main:e++,image:e++,front:e++,fileOpener:e++,coverImage:e++,dialog:e++,menu:e+9e4,console:e+91e3,consoleImage:e+91001,monitorZIndex:e+99999}},t={_version:"$Date: 2016-05-08 13:20:27 -0500 (Sun, 08 May 2016) $",_alertNoBinary:!0,_allowedJmolSize:[25,2048,300],_appletCssClass:"",_appletCssText:"",_fileCache:null,_jarFile:null,_j2sPath:null,_use:null,_j2sLoadMonitorOpacity:90,_applets:{},_asynchronous:!0,_ajaxQueue:[],_persistentMenu:!1,_getZOrders:t,_z:t(Jmol.z||9e3),_debugCode:!0,db:{_databasePrefixes:"$=:",_fileLoadScript:";if (_loadScript = '' && defaultLoadScript == '' && _filetype == 'Pdb') { select protein or nucleic;cartoons Only;color structure; select * };",_nciLoadScript:";n = ({molecule=1}.length < {molecule=2}.length ? 2 : 1); select molecule=n;display selected;center selected;",_pubChemLoadScript:"",_DirectDatabaseCalls:{"cactus.nci.nih.gov":null,".x3dna.org":null,"rruff.geo.arizona.edu":null,".rcsb.org":null,"ftp.wwpdb.org":null,"pdbe.org":null,"materialsproject.org":null,".ebi.ac.uk":null,"pubchem.ncbi.nlm.nih.gov":null,"http://www.nmrdb.org/tools/jmol/predict.php":null,$:"https://cactus.nci.nih.gov/chemical/structure/%FILENCI/file?format=sdf&get3d=True",$$:"https://cactus.nci.nih.gov/chemical/structure/%FILENCI/file?format=sdf","=":"http://files.rcsb.org/view/%FILE.pdb","*":"http://www.ebi.ac.uk/pdbe/entry-files/download/%FILE.cif","==":"http://www.rcsb.org/pdb/files/ligand/%FILE.cif",":":"https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/%FILE/SDF?record_type=3d"},_restQueryUrl:"http://www.rcsb.org/pdb/rest/search",_restQueryXml:"<orgPdbQuery><queryType>org.pdb.query.simple.AdvancedKeywordQuery</queryType><description>Text Search</description><keywords>QUERY</keywords></orgPdbQuery>",_restReportUrl:"http://www.pdb.org/pdb/rest/customReport?pdbids=IDLIST&customReportColumns=structureId,structureTitle"},_debugAlert:!1,_document:e,_isXHTML:!1,_lastAppletID:null,_mousePageX:null,_mouseOwner:null,_serverUrl:"http://your.server.here/jsmol.php",_syncId:(""+Math.random()).substring(3),_touching:!1,_XhtmlElement:null,_XhtmlAppendChild:!1};e=e.location.href.toLowerCase(),t._httpProto=0==e.indexOf("https")?"https://":"http://",t._isFile=0==e.indexOf("file:"),t._isFile&&$.ajaxSetup({mimeType:"text/plain"}),t._ajaxTestSite=t._httpProto+"google.com",e=t._isFile||0==e.indexOf("http://localhost")||0==e.indexOf("http://127."),t._tracker="http://"==t._httpProto&&!e&&"http://chemapps.stolaf.edu/jmol/JmolTracker.htm?id=UA-45940799-1",t._isChrome=0<=navigator.userAgent.toLowerCase().indexOf("chrome"),t._isSafari=!t._isChrome&&0<=navigator.userAgent.toLowerCase().indexOf("safari"),t._isMsie=void 0!==window.ActiveXObject,t._isEdge=0<=navigator.userAgent.indexOf("Edge/"),t._useDataURI=!t._isSafari&&!t._isMsie&&!t._isEdge,window.requestAnimationFrame||(window.requestAnimationFrame=window.setTimeout);for(var n in Jmol)t[n]=Jmol[n];return t}(document,Jmol)),function(a,j){a.__$=j,j(document).ready(function(){a._document=null}),a.$=function(e,t){return null==e&&alert(t+arguments.callee.caller.toString()),j(t?"#"+e._id+"_"+t:e)},a._$=function(e){return"string"==typeof e?j("#"+e):e},a.$ajax=function(e){return a._ajaxCall=e.url,e.cache="NO"!=e.cache,e.url=a._fixProtocol(e.url),j.ajax(e)},a._fixProtocol=function(e){return 0==e.indexOf("http://www.rcsb.org/pdb/files/")&&0>e.indexOf("/ligand/")?"http://files.rcsb.org/view/"+e.substring(30).replace(/\.gz/,""):0!=e.indexOf("http://")||0!=e.indexOf("http://pubchem")&&0!=e.indexOf("http://cactus")&&0!=e.indexOf("http://www.materialsproject")?e:"https"+e.substring(4)},a._getNCIInfo=function(e,t){return a._getFileData("https://cactus.nci.nih.gov/chemical/structure/"+e+"/"+("name"==t?"names":t))},a.$appEvent=function(e,t,n,i){e=a.$(e,t),e.off(n)&&i&&e.on(n,i)},a.$resize=function(e){return j(window).resize(e)},a.$after=function(e,t){return j(e).after(t)},a.$append=function(e,t){return j(e).append(t)},a.$bind=function(e,t,n){return n?j(e).bind(t,n):j(e).unbind(t)},a.$closest=function(e,t){return j(e).closest(t)},a.$get=function(e,t){return j(e).get(t)},a.$documentOff=function(e,t){return j(document).off(e,"#"+t)},a.$documentOn=function(e,t,n){return j(document).on(e,"#"+t,n)},a.$getAncestorDiv=function(e,t){return j("div."+t+":has(#"+e+")")[0]},a.$supportsIECrossDomainScripting=function(){return j.support.iecors},a.$attr=function(e,t,n){return a._$(e).attr(t,n)},a.$css=function(e,t){return a._$(e).css(t)},a.$find=function(e,t){return a._$(e).find(t)},a.$focus=function(e){return a._$(e).focus()},a.$html=function(e,t){return a._$(e).html(t)},a.$offset=function(e){return a._$(e).offset()},a.$windowOn=function(e,t){return j(window).on(e,t)},a.$prop=function(e,t,n){var i=a._$(e);return 3==arguments.length?i.prop(t,n):i.prop(t)},a.$remove=function(e){return a._$(e).remove()},a.$scrollTo=function(e,t){var n=a._$(e);return n.scrollTop(0>t?n[0].scrollHeight:t)},a.$setEnabled=function(e,t){return a._$(e).attr("disabled",t?null:"disabled")},a.$getSize=function(e){return e=a._$(e),[e.width(),e.height()]},a.$setSize=function(e,t,n){return a._$(e).width(t).height(n)},a.$is=function(e,t){return a._$(e).is(t)},a.$setVisible=function(e,t){var n=a._$(e);return t?n.show():n.hide()},a.$submit=function(e){return a._$(e).submit()},a.$val=function(e,t){var n=a._$(e);return 1==arguments.length?n.val():n.val(t)},a._clearVars=function(){delete jQuery,delete j,delete a,delete SwingController,delete J,delete JM,delete JS,delete JSV,delete JU,delete JV,delete java,delete javajs,delete Clazz,delete c$};var g=document,c=window,b={};b.ua=navigator.userAgent.toLowerCase();var d;e:{d=["linux","unix","mac","win"];for(var k=d.length;k--;)if(-1!=b.ua.indexOf(d[k])){d=d[k];break e}d="unknown"}b.os=d,b.browser=function(){for(var e=b.ua,t="konqueror webkit omniweb opera webtv icab msie mozilla".split(" "),n=0;n<t.length;n++)if(0<=e.indexOf(t[n]))return t[n];return"unknown"},b.browserName=b.browser(),b.browserVersion=parseFloat(b.ua.substring(b.ua.indexOf(b.browserName)+b.browserName.length+1)),b.supportsXhr2=function(){return j.support.cors||j.support.iecors},b.allowDestroy="msie"!=b.browserName,b.allowHTML5="msie"!=b.browserName||0>navigator.appVersion.indexOf("MSIE 8"),b.getDefaultLanguage=function(){return navigator.language||navigator.userLanguage||"en-US"},b._webGLtest=0,b.supportsWebGL=function(){if(!a.featureDetection._webGLtest){var e;a.featureDetection._webGLtest=c.WebGLRenderingContext&&((e=g.createElement("canvas")).getContext("webgl")||e.getContext("experimental-webgl"))?1:-1}return 0<a.featureDetection._webGLtest},b.supportsLocalization=function(){for(var e=g.getElementsByTagName("meta"),t=e.length;0<=--t;)if(0<=e[t].outerHTML.toLowerCase().indexOf("utf-8"))return!0;return!1},b.supportsJava=function(){return a.featureDetection._javaEnabled||(a.featureDetection._javaEnabled=a._isMsie?navigator.javaEnabled()?1:-1:!navigator.javaEnabled()||navigator.mimeTypes&&!navigator.mimeTypes["application/x-java-applet"]?-1:1),0<a.featureDetection._javaEnabled},b.compliantBrowser=function(){var e=!!g.getElementById,t=b.os;return("opera"==b.browserName&&7.54>=b.browserVersion&&"mac"==t||"webkit"==b.browserName&&125.12>b.browserVersion||"msie"==b.browserName&&"mac"==t||"konqueror"==b.browserName&&3.3>=b.browserVersion)&&(e=!1),e},b.isFullyCompliant=function(){return b.compliantBrowser()&&b.supportsJava()},b.useIEObject="win"==b.os&&"msie"==b.browserName&&5.5<=b.browserVersion,b.useHtml4Object="mozilla"==b.browserName&&5<=b.browserVersion||"opera"==b.browserName&&8<=b.browserVersion||"webkit"==b.browserName,b.hasFileReader=c.File&&c.FileReader,a.featureDetection=b,a._ajax=function(e){return e.async?(a._ajaxQueue.push(e),void(1==a._ajaxQueue.length&&a._ajaxDone())):a.$ajax(e).responseText},a._ajaxDone=function(){var e=a._ajaxQueue.shift();e&&a.$ajax(e)},a._grabberOptions=[["$","NCI(small molecules)"],[":","PubChem(small molecules)"],["=","RCSB(macromolecules)"],["*","PDBe(macromolecules)"]],a._getGrabberOptions=function(e){if(0==a._grabberOptions.length)return"";var t='<input type="text" id="ID_query" onfocus="jQuery(this).select()" onkeypress="if(13==event.which){Jmol._applets[\'ID\']._search();return false}" size="32" value="" />',n='<button id="ID_submit" onclick="Jmol._applets[\'ID\']._search()">Search</button></nobr>';1==a._grabberOptions.length?(t="<nobr>"+t+'<span style="display:none">',n="</span>"+n):t+="<br /><nobr>";for(var t=t+'<select id="ID_select">',i=0;i<a._grabberOptions.length;i++)var r=a._grabberOptions[i],t=t+('<option value="'+r[0]+'" '+(0==i?"selected":"")+">"+r[1]+"</option>");return t=(t+"</select>"+n).replace(/ID/g,e._id),"<br />"+t},a._getScriptForDatabase=function(e){return"$"==e?a.db._nciLoadScript:":"==e?a.db._pubChemLoadScript:a.db._fileLoadScript},a._setInfo=function(e,t,n){var i=[],r="";if(0==n.indexOf("ERROR"))r=n;else switch(t){case"=":
for(t=n.split("<dimStructure.structureId>"),i=["<table>"],n=1;n<t.length;n++)i.push('<tr><td valign=top><a href="javascript:Jmol.search('+e._id+",'="+t[n].substring(0,4)+"')\">"+t[n].substring(0,4)+"</a></td>"),i.push("<td>"+t[n].split("Title>")[1].split("</")[0]+"</td></tr>");i.push("</table>"),r=t.length-1+" matches";break;case"$":case":":break;default:return}e._infoHeader=r,e._info=i.join(""),e._showInfo(!0)},a._loadSuccess=function(e,t){t&&(a._ajaxDone(),t(e))},a._loadError=function(e){a._ajaxDone(),a.say("Error connecting to server: "+a._ajaxCall),null!=e&&e()},a._isDatabaseCall=function(e){return 0<=a.db._databasePrefixes.indexOf(e.substring(0,1))},a._getDirectDatabaseCall=function(e,t){if(t&&!a.featureDetection.supportsXhr2())return e;var n=2,i=e.substring(0,n),r=a.db._DirectDatabaseCalls[i]||a.db._DirectDatabaseCalls[i=e.substring(0,--n)];return r&&(":"==i?(i=e.toLowerCase(),isNaN(parseInt(e.substring(1)))?0==i.indexOf(":smiles:")?(r+="?POST?smiles="+e.substring(8),e="smiles"):0==i.indexOf(":cid:")?e="cid/"+e.substring(5):(0==i.indexOf(":name:")?e=e.substring(5):0==i.indexOf(":cas:")&&(e=e.substring(4)),e="name/"+encodeURIComponent(e.substring(n))):e="cid/"+e.substring(1)):e=encodeURIComponent(e.substring(n)),0<=e.indexOf(".mmtf")?e="http://mmtf.rcsb.org/full/"+e:0<=r.indexOf("FILENCI")?(e=e.replace(/\%2F/g,"/"),e=r.replace(/\%FILENCI/,e)):e=r.replace(/\%FILE/,e)),e},a._getRawDataFromServer=function(e,t,n,i,r,o){return e="?call=getRawDataFromDatabase&database="+e+(0<=t.indexOf("?POST?")?"?POST?":"")+"&query="+encodeURIComponent(t)+(r?"&encoding=base64":"")+(o?"":"&script="+encodeURIComponent(a._getScriptForDatabase(e))),a._contactServer(e,n,i)},a._checkFileName=function(e,t,n){return a._isDatabaseCall(t)&&(n&&a._setQueryTerm(e,t),t=a._getDirectDatabaseCall(t,!0),a._isDatabaseCall(t)&&(t=a._getDirectDatabaseCall(t,!1),n&&(n[0]=!0))),t},a._checkCache=function(e,t,n){if(e._cacheFiles&&a._fileCache&&!t.endsWith(".js")){if(e=a._fileCache[t])return System.out.println("using "+e.length+" bytes of cached data for "+t),n(e),null;n=function(e,t){n(a._fileCache[e]=t)}}return n},a._playAudio=function(e){var t=document.createElement("audio");t.controls="true",t.src=e,t.play()},a._loadFileData=function(e,t,n,i){var r=[];t=a._checkFileName(e,t,r),n=a._checkCache(e,t,n),r[0]?a._getRawDataFromServer("_",t,n,i):(e={type:"GET",dataType:"text",url:t,async:a._asynchronous,success:function(e){a._loadSuccess(e,n)},error:function(){a._loadError(i)}},a._checkAjaxPost(e),a._ajax(e))},a._getInfoFromDatabase=function(e,t,n){if("===="==t){var i=a.db._restQueryXml.replace(/QUERY/,n),i={dataType:"text",type:"POST",contentType:"application/x-www-form-urlencoded",url:a.db._restQueryUrl,data:encodeURIComponent(i)+"&req=browser",success:function(i){a._ajaxDone(),a._extractInfoFromRCSB(e,t,n,i)},error:function(){a._loadError(null)},async:a._asynchronous};return a._ajax(i)}return n="?call=getInfoFromDatabase&database="+t+"&query="+encodeURIComponent(n),a._contactServer(n,function(n){a._setInfo(e,t,n)})},a._extractInfoFromRCSB=function(e,t,n,i){var r=i.length/5;if(0!=r&&4==n.length&&1!=r){n=n.toUpperCase();var o=i.indexOf(n);0<o&&0<="123456789".indexOf(n.substring(0,1))&&(i=n+","+i.substring(0,o)+i.substring(o+5)),50<r&&(i=i.substring(0,250)),i=i.replace(/\n/g,","),i=a._restReportUrl.replace(/IDLIST/,i),a._loadFileData(e,i,function(n){a._setInfo(e,t,n)})}},a._checkAjaxPost=function(e){var t=e.url.indexOf("?POST?");0<t&&(e.data=e.url.substring(t+6),e.url=e.url.substring(0,t),e.type="POST",e.contentType="application/x-www-form-urlencoded")},a._contactServer=function(e,t,n){return e={dataType:"text",type:"GET",url:a._serverUrl+e,success:function(e){a._loadSuccess(e,t)},error:function(){a._loadError(n)},async:!!t&&a._asynchronous},a._checkAjaxPost(e),a._ajax(e)},a._setQueryTerm=function(e,t){if(t&&e._hasOptions&&"http://"!=t.substring(0,7)){if(a._isDatabaseCall(t)){var n=t.substring(0,1);t=t.substring(1),t.substring(0,1)==n&&0<="=$".indexOf(n)&&(t=t.substring(1));var i=a._getElement(e,"select");if(i&&i.options)for(var r=0;r<i.options.length;r++)i[r].value==n&&(i[r].selected=!0)}a.$val(a.$(e,"query"),t)}},a._search=function(e,t,n){1<arguments.length||(t=null),a._setQueryTerm(e,t),t||(t=a.$val(a.$(e,"query"))),0==t.indexOf("!")?e._script(t.substring(1)):(t&&(t=t.replace(/\"/g,"")),e._showInfo(!1),a._searchMol(e,t,n,!0))},a._searchMol=function(e,t,n,i){var r;a._isDatabaseCall(t)?(r=t.substring(0,1),t=t.substring(1)):r=e._hasOptions?a.$val(a.$(e,"select")):"$","="==r&&3==t.length&&(t="="+t);var o=r+t;if(t&&!(0>o.indexOf("?")&&o==e._thisJmolModel)){e._thisJmolModel=o;var s;i&&null!=e._viewSet&&null!=(s=a.View.__findView(e._viewSet,{chemID:o}))?a.View.__setView(s,e,!1):("$"==r||":"==r?e._jmolFileType="MOL":"="==r&&(e._jmolFileType="PDB"),e._searchDatabase(t,r,n))}},a._searchDatabase=function(e,t,n,i){return e._showInfo(!1),0<=t.indexOf("?")?(a._getInfoFromDatabase(e,n,t.split("?")[0]),!0):!!a.db._DirectDatabaseCalls[n]&&(e._loadFile(n+t,i),!0)},a._syncBinaryOK="?",a._canSyncBinary=function(e){if(a._isAsync)return!0;if(self.VBArray)return a._syncBinaryOK=!1;if("?"!=a._syncBinaryOK)return a._syncBinaryOK;a._syncBinaryOK=!0;try{var t=new window.XMLHttpRequest;t.open("text",a._ajaxTestSite,!1),t.hasOwnProperty("responseType")?t.responseType="arraybuffer":t.overrideMimeType&&t.overrideMimeType("text/plain; charset=x-user-defined")}catch(t){return System.out.println("JSmolCore.js: synchronous binary file transfer is requested but not available"),a._alertNoBinary&&!e&&alert("JSmolCore.js: synchronous binary file transfer is requested but not available"),a._syncBinaryOK=!1}return!0},a._binaryTypes="mmtf .gz .jpg .gif .png .zip .jmol .bin .smol .spartan .mrc .map .ccp4 .dn6 .delphi .omap .pse .dcd".split(" "),a._isBinaryUrl=function(e){for(var t=a._binaryTypes.length;0<=--t;)if(0<=e.indexOf(a._binaryTypes[t]))return!0;return!1},a._getFileData=function(e,t,n){var i=a._isBinaryUrl(e),r=0<=e.indexOf(".gz")&&0<=e.indexOf("rcsb.org");r&&(e=e.replace(/\.gz/,""),i=!1);var r=i&&!t&&!a._canSyncBinary(r),o=0<=e.indexOf("?POST?");0==e.indexOf("file:/")&&0!=e.indexOf("file:///")&&(e="file://"+e.substring(5));var s=0>e.indexOf("://")||0==e.indexOf(document.location.protocol)&&0<=e.indexOf(document.location.host),l="https://"==a._httpProto&&0==e.indexOf("http://"),c=a._isDirectCall(e);!c&&0<=e.indexOf("?ALLOWSORIGIN?")&&(c=!0,e=e.replace(/\?ALLOWSORIGIN\?/,""));var u=!s&&a.$supportsIECrossDomainScripting(),d=null;if(l||r||!s&&!c||!t&&u)d=a._getRawDataFromServer("_",e,t,t,r,!0);else{e=e.replace(/file:\/\/\/\//,"file://");var h={dataType:i?"binary":"text",async:!!t};o?(h.type="POST",h.url=e.split("?POST?")[0],h.data=e.split("?POST?")[1]):(h.type="GET",h.url=e),t&&(h.success=function(){t(a._xhrReturn(h.xhr))},h.error=function(){t(h.xhr.statusText)}),h.xhr=a.$ajax(h),t||(d=a._xhrReturn(h.xhr))}return n?(null==d&&(d="",i=!1),i&&(i=a._canSyncBinary(!0)),i?a._strToBytes(d):JU.SB.newS(d)):d},a._xhrReturn=function(e){return!e.responseText||self.Clazz&&Clazz.instanceOf(e.response,self.ArrayBuffer)?e.response||e.statusText:e.responseText},a._isDirectCall=function(e){if(0<=e.indexOf("?ALLOWSORIGIN?"))return!0;for(var t in a.db._DirectDatabaseCalls)if(0<=t.indexOf(".")&&0<=e.indexOf(t))return!0;return!1},a._cleanFileData=function(e){return 0<=e.indexOf("\r")&&0<=e.indexOf("\n")?e.replace(/\r\n/g,"\n"):0<=e.indexOf("\r")?e.replace(/\r/g,"\n"):e},a._getFileType=function(e){var t=e.substring(0,1);return"$"==t||":"==t?"MOL":"="==t?"="==e.substring(1,2)?"LCIF":"PDB":(e=e.split(".").pop().toUpperCase(),e.substring(0,Math.min(e.length,3)))},a._getZ=function(e,t){return e&&e._z&&e._z[t]||a._z[t]},a._incrZ=function(e,t){return e&&e._z&&++e._z[t]||++a._z[t]},a._hideLocalFileReader=function(e){e._localReader&&a.$setVisible(e._localReader,!1),e._readingLocal=!1,a._setCursor(e,0)},a.loadFileFromDialog=function(e){a._loadFileAsynchronously(null,e,null,null)},a._loadFileAsynchronously=function(e,t,n,i){if(n&&0!=n.indexOf("?")){var r=n;n=a._checkFileName(t,n);var o=function(o){a._setData(e,n,r,o,i,t)},o=a._checkCache(t,n,o);return 0<=n.indexOf("|")&&(n=n.split("|")[0]),null==o?null:a._getFileData(n,o)}return a.featureDetection.hasFileReader?(t._localReader||(o='<div id="ID" style="z-index:'+a._getZ(t,"fileOpener")+';position:absolute;background:#E0E0E0;left:10px;top:10px"><div style="margin:5px 5px 5px 5px;"><button id="ID_loadurl">URL</button><input type="file" id="ID_files" /><button id="ID_loadfile">load</button><button id="ID_cancel">cancel</button></div><div>',a.$after("#"+t._id+"_appletdiv",o.replace(/ID/g,t._id+"_localReader")),t._localReader=a.$(t,"localReader")),a.$appEvent(t,"localReader_loadurl","click"),a.$appEvent(t,"localReader_loadurl","click",function(){var e=prompt("Enter a URL");e&&(a._hideLocalFileReader(t,0),a._setData(null,e,e,null,i,t))}),a.$appEvent(t,"localReader_loadfile","click"),a.$appEvent(t,"localReader_loadfile","click",function(){var n=a.$(t,"localReader_files")[0].files[0],r=new FileReader;r.onloadend=function(r){r.target.readyState==FileReader.DONE&&(a._hideLocalFileReader(t,0),a._setData(e,n.name,n.name,r.target.result,i,t))};try{r.readAsArrayBuffer(n)}catch(e){alert("You must select a file first.")}}),a.$appEvent(t,"localReader_cancel","click"),a.$appEvent(t,"localReader_cancel","click",function(){a._hideLocalFileReader(t),e&&e.setData("#CANCELED#",null,null,i,t)}),a.$setVisible(t._localReader,!0),void(t._readingLocal=!0)):e?e.setData(msg,null,null,i,t):alert(msg)},a._setData=function(e,t,n,i,r,o){i&&(i=a._strToBytes(i)),null!=i&&(null==e||0<=t.indexOf(".jdx"))&&a.Cache.put("cache://"+t,i),null==e?o._applet.openFileAsyncSpecial(null==i?t:"cache://"+t,1):e.setData(t,n,i,r)},a._doAjax=function(e,t,n){return e=e.toString(),null!=n?a._saveFile(e,n):(t&&(e+="?POST?"+t),a._getFileData(e,null,!0))},a._saveFile=function(e,t,n,i){if(a._localFileSaveFunction&&a._localFileSaveFunction(e,t))return"OK";e=e.substring(e.lastIndexOf("/")+1),n||(n=0<=e.indexOf(".pdf")?"application/pdf":0<=e.indexOf(".png")?"image/png":0<=e.indexOf(".gif")?"image/gif":0<=e.indexOf(".jpg")?"image/jpg":"");var r="string"==typeof t;return r||(t=(JU?JU:J.util).Base64.getBase64(t).toString()),i||(i=r?"":"base64"),(r=a._serverUrl)&&0<=r.indexOf("your.server")&&(r=""),a._useDataURI||!r?(i||(t=btoa(t)),i=document.createElement("a"),i.href="data:"+n+";base64,"+t,i.type=n||"text/plain",i.download=e,i.target="_blank",j("body").append(i),i.click(),i.remove()):(a._formdiv||(a.$after("body",'<div id="__jsmolformdiv__" style="display:none">\t\t\t\t\t\t<form id="__jsmolform__" method="post" target="_blank" action="">\t\t\t\t\t\t<input name="call" value="saveFile"/>\t\t\t\t\t\t<input id="__jsmolmimetype__" name="mimetype" value=""/>\t\t\t\t\t\t<input id="__jsmolencoding__" name="encoding" value=""/>\t\t\t\t\t\t<input id="__jsmolfilename__" name="filename" value=""/>\t\t\t\t\t\t<textarea id="__jsmoldata__" name="data"></textarea>\t\t\t\t\t\t</form>\t\t\t\t\t\t</div>'),a._formdiv="__jsmolform__"),a.$attr(a._formdiv,"action",r+"?"+(new Date).getMilliseconds()),a.$val("__jsmoldata__",t),a.$val("__jsmolfilename__",e),a.$val("__jsmolmimetype__",n),a.$val("__jsmolencoding__",i),a.$submit("__jsmolform__"),a.$val("__jsmoldata__",""),a.$val("__jsmolfilename__","")),"OK"},a._strToBytes=function(e){if(Clazz.instanceOf(e,self.ArrayBuffer))return Clazz.newByteArray(-1,e);for(var t=Clazz.newByteArray(e.length,0),n=e.length;0<=--n;)t[n]=255&e.charCodeAt(n);return t},a._setConsoleDiv=function(e){self.Clazz&&Clazz.setConsoleDiv(e)},a._registerApplet=function(e,t){return window[e]=a._applets[e]=a._applets[e+"__"+a._syncId+"__"]=t},a._readyCallback=function(e,t,n,i,r){e=e.split("_object")[0];var o=a._applets[e];(n=n.booleanValue?n.booleanValue():n)&&(o._appletPanel=r||i,o._applet=i),a._track(o._readyCallback(e,t,n))},a._getWrapper=function(e,t){var n;if(t){var i="";if(e._coverImage)var i=' onclick="Jmol.coverApplet(ID, false)" title="'+e._coverTitle+'"',r='<image id="ID_coverclickgo" src="'+e._makeLiveImage+'" style="width:25px;height:25px;position:absolute;bottom:10px;left:10px;z-index:'+a._getZ(e,"coverImage")+';opacity:0.5;"'+i+" />",i='<div id="ID_coverdiv" style="background-color:red;z-index:'+a._getZ(e,"coverImage")+';width:100%;height:100%;display:inline;position:absolute;top:0px;left:0px"><image id="ID_coverimage" src="'+e._coverImage+'" style="width:100%;height:100%"'+i+"/>"+r+"</div>";r=e._isJava?"":'<image id="ID_waitimage" src="'+e._j2sPath+'/img/cursor_wait.gif" style="display:none;position:absolute;bottom:10px;left:10px;z-index:'+a._getZ(e,"coverImage")+';" />',n=a._appletCssText.replace(/\'/g,'"');var o=e._getSpinner&&e._getSpinner();e._spinner=o=o&&"none"!=o?"background-image:url("+o+"); background-repeat:no-repeat; background-position:center;":"",n=o+(0<=n.indexOf('style="')?n.split('style="')[1]:'" '+n),n='...<div id="ID_appletinfotablediv" style="width:Wpx;height:Hpx;position:relative;font-size:14px;text-align:left">IMG WAIT......<div id="ID_appletdiv" style="z-index:'+a._getZ(e,"header")+";width:100%;height:100%;position:absolute;top:0px;left:0px;"+n+">";var o=e._height,s=e._width;("string"!=typeof o||0>o.indexOf("%"))&&(o+="px"),("string"!=typeof s||0>s.indexOf("%"))&&(s+="px"),n=n.replace(/IMG/,i).replace(/WAIT/,r).replace(/Hpx/g,o).replace(/Wpx/g,s)}else n='......</div>......<div id="ID_2dappletdiv" style="position:absolute;width:100%;height:100%;overflow:hidden;display:none"></div>......<div id="ID_infotablediv" style="width:100%;height:100%;position:absolute;top:0px;left:0px">.........<div id="ID_infoheaderdiv" style="height:20px;width:100%;background:yellow;display:none"><span id="ID_infoheaderspan"></span><span id="ID_infocheckboxspan" style="position:absolute;text-align:right;right:1px;"><a href="javascript:Jmol.showInfo(ID,false)">[x]</a></span></div>.........<div id="ID_infodiv" style="position:absolute;top:20px;bottom:0px;width:100%;height:100%;overflow:auto"></div>......</div>...</div>';return n.replace(/\.\.\./g,"").replace(/[\n\r]/g,"").replace(/ID/g,e._id)},a._hideLoadingSpinner=function(e){e._spinner&&a.$css(a.$(e,"appletdiv"),{"background-image":""})},a._documentWrite=function(e){if(a._document){if(a._isXHTML&&!a._XhtmlElement){var t=document.getElementsByTagName("script");a._XhtmlElement=t.item(t.length-1),a._XhtmlAppendChild=!1}a._XhtmlElement?a._domWrite(e):a._document.write(e)}return e},a._domWrite=function(e){for(var t=[0];t[0]<e.length;){var n=a._getDomElement(e,t);if(!n)break;a._XhtmlAppendChild?a._XhtmlElement.appendChild(n):a._XhtmlElement.parentNode.insertBefore(n,_jmol.XhtmlElement)}},a._getDomElement=function(e,t){var n=document.createElement("span");return n.innerHTML=e,t[0]=e.length,n},a._setObject=function(e,t,n){e._id=t,e.__Info={},n.z&&n.zIndexBase&&(a._z=a._getZOrders(n.zIndexBase));for(var i in n)e.__Info[i]=n[i];(e._z=n.z)||n.zIndexBase&&(e._z=e.__Info.z=a._getZOrders(n.zIndexBase)),e._width=n.width,e._height=n.height,e._noscript=!e._isJava&&n.noscript,e._console=n.console,e._cacheFiles=!!n.cacheFiles,e._viewSet=null==n.viewSet||e._isJava?null:"Set"+n.viewSet,null!=e._viewSet&&(a.View.__init(e),e._currentView=null),!a._fileCache&&e._cacheFiles&&(a._fileCache={}),e._console||(e._console=e._id+"_infodiv"),"none"==e._console&&(e._console=null),e._color=n.color?n.color.replace(/0x/,"#"):"#FFFFFF",e._disableInitialConsole=n.disableInitialConsole,e._noMonitor=n.disableJ2SLoadMonitor,a._j2sPath&&(n.j2sPath=a._j2sPath),e._j2sPath=n.j2sPath,e._coverImage=n.coverImage,e._makeLiveImage=n.makeLiveImage||n.j2sPath+"/img/play_make_live.jpg",e._isCovered=!!e._coverImage,e._deferApplet=n.deferApplet||e._isCovered&&e._isJava,e._deferUncover=n.deferUncover&&!e._isJava,e._coverScript=n.coverScript,e._coverTitle=n.coverTitle,e._coverTitle||(e._coverTitle=e._deferApplet?"activate 3D model":"3D model is loading..."),e._containerWidth=e._width+(e._width==parseFloat(e._width)?"px":""),e._containerHeight=e._height+(e._height==parseFloat(e._height)?"px":""),e._info="",e._infoHeader=e._jmolType+' "'+e._id+'"',e._hasOptions=n.addSelectionOptions,e._defaultModel=n.defaultModel,e._readyScript=n.script?n.script:"",e._readyFunction=n.readyFunction,e._coverImage&&!e._deferApplet&&(e._readyScript+=";javascript "+t+"._displayCoverImage(false)"),e._src=n.src},a._addDefaultInfo=function(e,t){for(var n in t)"undefined"==typeof e[n]&&(e[n]=t[n]);a._use&&(e.use=a._use),0<=e.use.indexOf("SIGNED")&&(0>e.jarFile.indexOf("Signed")&&(e.jarFile=e.jarFile.replace(/Applet/,"AppletSigned")),e.use=e.use.replace(/SIGNED/,"JAVA"),e.isSigned=!0)},a._syncedApplets=[],a._syncedCommands=[],a._syncedReady=[],a._syncReady=!1,a._isJmolJSVSync=!1,a._setReady=function(e){a._syncedReady[e]=1;for(var t=0,n=0;n<a._syncedApplets.length;n++){if(a._syncedApplets[n]==e._id)a._syncedApplets[n]=e,a._syncedReady[n]=1;else if(!a._syncedReady[n])continue;t++}t==a._syncedApplets.length&&a._setSyncReady()},a._setDestroy=function(e){a.featureDetection.allowDestroy&&a.$windowOn("beforeunload",function(){a._destroy(e)})},a._destroy=function(e){try{e._appletPanel&&e._appletPanel.destroy(),e._applet=null,a._unsetMouse(e._canvas),e._canvas=null;for(var t=0,n=0;n<a._syncedApplets.length;n++)a._syncedApplets[n]==e&&(a._syncedApplets[n]=null),a._syncedApplets[n]&&t++;0<t||a._clearVars()}catch(e){}},a._setSyncReady=function(){a._syncReady=!0;for(var e="",t=0;t<a._syncedApplets.length;t++)a._syncedCommands[t]&&(e+="Jmol.script(Jmol._syncedApplets["+t+"], Jmol._syncedCommands["+t+"]);");setTimeout(e,50)},a._mySyncCallback=function(e,t){if(app=a._applets[e],!app._viewSet){if(!a._syncReady||!a._isJmolJSVSync)return 1;for(var n=0;n<a._syncedApplets.length;n++)0<=t.indexOf(a._syncedApplets[n]._syncKeyword)&&a._syncedApplets[n]._syncScript(t);return 0}a.View.updateFromSync(app,t)},a._getElement=function(e,t){return document.getElementById(e._id+"_"+t)||{}},a._evalJSON=function(e,t){if(e+="",!e)return[];if("{"!=e.charAt(0))return 0<=e.indexOf(" | ")&&(e=e.replace(/\ \|\ /g,"\n")),e;var n=new Function("return "+e)();return n?t&&void 0!=n[t]?n[t]:n:null},a._sortMessages=function(e){function t(e,t){return e[0]<t[0]?1:e[0]>t[0]?-1:0}if(!e||"object"!=typeof e)return[];for(var n=[],i=e.length-1;0<=i;i--)for(var r=0,o=e[i].length;r<o;r++)n[n.length]=e[i][r];return 0!=n.length?n=n.sort(t):void 0},a._setMouseOwner=function(e,t){null==e||t?a._mouseOwner=e:a._mouseOwner==e&&(a._mouseOwner=null)},a._jsGetMouseModifiers=function(e){var t=0;switch(e.button){case 0:t=16;break;case 1:t=8;break;case 2:t=4}return e.shiftKey&&(t+=1),e.altKey&&(t+=8),e.ctrlKey&&(t+=2),t},a._jsGetXY=function(e,t){if(!e.applet._ready||a._touching&&0>t.type.indexOf("touch"))return!1;var n,i=a.$offset(e.id),r=t.originalEvent;return t.pageX||(t.pageX=r.pageX),t.pageY||(t.pageY=r.pageY),a._mousePageX=t.pageX,a._mousePageY=t.pageY,r.targetTouches&&r.targetTouches[0]?(n=r.targetTouches[0].pageX-i.left,i=r.targetTouches[0].pageY-i.top):r.changedTouches?(n=r.changedTouches[0].pageX-i.left,i=r.changedTouches[0].pageY-i.top):(n=t.pageX-i.left,i=t.pageY-i.top),void 0==n?null:[Math.round(n),Math.round(i),a._jsGetMouseModifiers(t)]},a._setCursor=function(e,t){if(!e._isJava&&!e._readingLocal){var n;switch(t){case 1:n="crosshair";break;case 3:n="wait",a.$setVisible(a.$(e,"waitimage"),!0);break;case 8:n="ns-resize";break;case 12:n="grab";break;case 13:n="move";break;default:a.$setVisible(a.$(e,"waitimage"),!1),n="default"}e._canvas.style.cursor=n}},a._gestureUpdate=function(e,t){t.stopPropagation(),t.preventDefault();var n=t.originalEvent;switch(t.type){case"touchstart":a._touching=!0;break;case"touchend":a._touching=!1}if(!n.touches||2!=n.touches.length)return!1;switch(t.type){case"touchstart":e._touches=[[],[]];break;case"touchmove":var i=a.$offset(e.id),r=e._touches[0],o=e._touches[1];r.push([n.touches[0].pageX-i.left,n.touches[0].pageY-i.top]),o.push([n.touches[1].pageX-i.left,n.touches[1].pageY-i.top]),n=r.length,3<n&&(r.shift(),o.shift()),2<=n&&e.applet._processGesture(e._touches)}return!0},a._jsSetMouse=function(e){var t=function(e){return!e.target||0<=(""+e.target.className).indexOf("swingjs-ui")};a.$bind(e,"mousedown touchstart",function(n){if(t(n))return!0;a._setMouseOwner(e,!0),n.stopPropagation();var i=n.target["data-UI"];if((!i||!i.handleJSEvent(e,501,n))&&n.preventDefault(),e.isDragging=!0,"touchstart"==n.type&&a._gestureUpdate(e,n))return!!i;a._setConsoleDiv(e.applet._console);var r=a._jsGetXY(e,n);return r&&(2!=n.button&&a.Swing.hideMenus(e.applet),e.applet._processEvent(501,r)),!!i}),a.$bind(e,"mouseup touchend",function(n){if(t(n))return!0;a._setMouseOwner(null),n.stopPropagation();var i=n.target["data-UI"];return(!i||!i.handleJSEvent(e,502,n))&&n.preventDefault(),e.isDragging=!1,"touchend"==n.type&&a._gestureUpdate(e,n)?!!i:((n=a._jsGetXY(e,n))&&e.applet._processEvent(502,n),!!i)}),a.$bind(e,"mousemove touchmove",function(n){return!!t(n)||(a._mouseOwner&&a._mouseOwner!=e&&a._mouseOwner.isDragging?!a._mouseOwner.mouseMove||(a._mouseOwner.mouseMove(n),!1):a._drag(e,n))}),a._drag=function(e,t){if(t.stopPropagation(),t.preventDefault(),"touchmove"==t.type&&a._gestureUpdate(e,t))return!1;var n=a._jsGetXY(e,t);if(!n)return!1;e.isDragging||(n[2]=0);var i=t.target["data-UI"];return e.isdragging&&(!i||i.handleJSEvent(e,506,t)),e.applet._processEvent(e.isDragging?506:503,n),!!i},a.$bind(e,"DOMMouseScroll mousewheel",function(n){if(t(n))return!0;n.stopPropagation(),n.preventDefault(),e.isDragging=!1;var i=n.originalEvent,i=i.detail?i.detail:("mac"==a.featureDetection.os?1:-1)*i.wheelDelta;return n=a._jsGetMouseModifiers(n),e.applet._processEvent(-1,[0>i?-1:1,0,n]),!1}),a.$bind(e,"contextmenu",function(){return!1}),a.$bind(e,"mouseout",function(n){return!!t(n)||(a._mouseOwner&&!a._mouseOwner.mouseMove&&a._setMouseOwner(null),e.applet._appletPanel&&e.applet._appletPanel.startHoverWatcher(!1),a._jsGetXY(e,n),!1)}),a.$bind(e,"mouseenter",function(n){return!!t(n)||(e.applet._appletPanel&&e.applet._appletPanel.startHoverWatcher(!0),0===n.buttons||0===n.which?(e.isDragging=!1,!!(n=a._jsGetXY(e,n))&&(e.applet._processEvent(504,n),e.applet._processEvent(502,n),!1)):void 0)}),a.$bind(e,"mousemoveoutjsmol",function(n,i,r){return!!t(r)||(e==a._mouseOwner&&e.isDragging?a._drag(e,r):void 0)}),e.applet._is2D&&a.$resize(function(){e.applet&&e.applet._resize()}),a.$bind("body","mouseup touchend",function(n){return!!t(n)||(e.applet&&(e.isDragging=!1),void a._setMouseOwner(null))})},a._jsUnsetMouse=function(e){e.applet=null,a.$bind(e,"mousedown touchstart mousemove touchmove mouseup touchend DOMMouseScroll mousewheel contextmenu mouseout mouseenter",null),a._setMouseOwner(null)},a.Swing={count:0,menuInitialized:0,menuCounter:0,htDialogs:{}};var m=a.Swing;SwingController=m,m.setDraggable=function(e){e=e.prototype,e.setContainer||(e.setContainer=function(e){this.container=e,e.obj=this,this.ignoreMouse=this.isDragging=!1;var t=this;e.bind("mousedown touchstart",function(e){return t.ignoreMouse?(t.ignoreMouse=!1,!0):(a._setMouseOwner(t,!0),t.isDragging=!0,t.pageX=e.pageX,t.pageY=e.pageY,!1)}),e.bind("mousemove touchmove",function(e){if(t.isDragging&&a._mouseOwner==t)return t.mouseMove(e),!1}),e.bind("mouseup touchend",function(e){t.mouseUp(e),a._setMouseOwner(null)})},e.mouseUp=function(e){return this.isDragging&&a._mouseOwner==this?(this.pageX0+=e.pageX-this.pageX,this.pageY0+=e.pageY-this.pageY,this.isDragging=!1):void a._setMouseOwner(null)},e.setPosition=function(){if(null===a._mousePageX){var e=a.$offset(this.applet._id+"_"+(this.applet._is2D?"canvas2d":"canvas"));a._mousePageX=e.left,a._mousePageY=e.top}this.pageX0=a._mousePageX,this.pageY0=a._mousePageY,this.container.css({top:a._mousePageY+"px",left:a._mousePageX+"px"})},e.mouseMove=function(e){if(this.isDragging&&a._mouseOwner==this){this.timestamp=System.currentTimeMillis();var t=this.pageX0+(e.pageX-this.pageX);e=this.pageY0+(e.pageY-this.pageY),a._mousePageX=t,a._mousePageY=e,this.container.css({top:e+"px",left:t+"px"})}},e.dragBind=function(e){if(this.applet._ignoreMouse=!e,this.container.unbind("mousemoveoutjsmol"),this.container.unbind("touchmoveoutjsmol"),this.container.unbind("mouseupoutjsmol"),this.container.unbind("touchendoutjsmol"),a._setMouseOwner(null),e){var t=this;this.container.bind("mousemoveoutjsmol touchmoveoutjsmol",function(e,n,i){t.mouseMove(i)}),this.container.bind("mouseupoutjsmol touchendoutjsmol",function(e,n,i){t.mouseUp(i)})}})},m.JSDialog=function(){},m.setDraggable(m.JSDialog),m.getScreenDimensions=function(e){e.width=j(window).width(),e.height=j(window).height()},m.dispose=function(e){a.$remove(e.id+"_mover"),delete m.htDialogs[e.id],e.container.obj.dragBind(!1)},m.register=function(e,t){e.id=t+ ++m.count,m.htDialogs[e.id]=e},m.setDialog=function(e){a._setMouseOwner(null),a.$remove(e.id);var t,n=e.id+"_mover",i=a._$(n);i[0]?(i.html(e.html),t=i[0].jd):(a.$after("body","<div id='"+n+"' style='position:absolute;left:0px;top:0px;'>"+e.html+"</div>"),t=new m.JSDialog,i=a._$(n),e.container=i,t.applet=e.manager.vwr.html5Applet,t.setContainer(i),t.dialog=e,t.setPosition(),t.dragBind(!0),i[0].jd=t),a.$bind("#"+e.id+" .JButton","mousedown touchstart",function(){t.ignoreMouse=!0}),a.$bind("#"+e.id+" .JComboBox","mousedown touchstart",function(){t.ignoreMouse=!0}),a.$bind("#"+e.id+" .JCheckBox","mousedown touchstart",function(){t.ignoreMouse=!0}),a.$bind("#"+e.id+" .JTextField","mousedown touchstart",function(){t.ignoreMouse=!0}),a.$bind("#"+e.id+" .JTable","mousedown touchstart",function(){t.ignoreMouse=!0}),a.$bind("#"+e.id+" .JScrollPane","mousedown touchstart",function(){t.ignoreMouse=!0}),a.$bind("#"+e.id+" .JEditorPane","mousedown touchstart",function(){t.ignoreMouse=!0})},m.setSelected=function(e){a.$prop(e.id,"checked",!!e.selected)},m.setSelectedIndex=function(e){a.$prop(e.id,"selectedIndex",e.selectedIndex)},m.setText=function(e){a.$prop(e.id,"value",e.text)},m.setVisible=function(e){a.$setVisible(e.id,e.visible)},m.setEnabled=function(e){a.$setEnabled(e.id,e.enabled)},m.click=function(e,t){var n=m.htDialogs[e.id];if(n){var i=n.toString();if(0<=i.indexOf("JCheck"))n.selected=e.checked;else if(0<=i.indexOf("JCombo"))n.selectedIndex=e.selectedIndex;else if(null!=n.text&&(n.text=e.value,t&&13!=(t.charCode||t.keyCode)))return}i=m.htDialogs[a.$getAncestorDiv(e.id,"JDialog").id],i.manager.actionPerformed(n?n.name:i.registryKey+"/"+e.id)},m.setFront=function(e){var t=e.manager.vwr.html5Applet;e.zIndex!=a._getZ(t,"dialog")&&(e.zIndex=a._incrZ(t,"dialog")),e.container&&((e.container[0]||e.container).style.zIndex=e.zIndex)},m.hideMenus=function(e){if(e=e._menus)for(var t in e)e[t].visible&&m.hideMenu(e[t])},m.windowClosing=function(e){e=m.htDialogs[a.$getAncestorDiv(e.id,"JDialog").id],e.registryKey?e.manager.processWindowClosing(e.registryKey):e.dispose()},a._track=function(e){if(a._tracker){try{var t='<iframe style="display:none" width="0" height="0" frameborder="0" tabindex="-1" src="'+(a._tracker+"&applet="+e._jmolType+"&version="+a._version+"&appver="+a.___JmolVersion+"&url="+encodeURIComponent(document.location.href))+'"></iframe>';a.$after("body",t)}catch(e){}delete a._tracker}return e};var l;a.getProfile=function(e){if(self.Clazz&&self.JSON)return l||Clazz._startProfiling(l=0==arguments.length||e),Clazz.getProfile()},a._getInChIKey=function(e,t){0<=t.indexOf("MOL=")&&t.split("MOL=")[1].split('"')},a._getAttr=function(e,t){var n=e.indexOf(t+"=");return 0<=n&&0<=(n=e.indexOf('"',n))?e.substring(n+1,e.indexOf('"',n+1)):null},a.User={viewUpdatedCallback:null},a.View={count:0,applets:{},sets:{}},function(b){b.updateView=function(e,t){null!=e._viewSet&&(t.chemID||(e._searchQuery=null),t.data||(t.data="N/A"),t.type=e._viewType,null==(e._currentView=b.__findView(e._viewSet,t))&&(e._currentView=b.__createViewSet(e._viewSet,t.chemID,t.viewID||t.chemID)),e._currentView[t.type].data=t.data,e._currentView[t.type].smiles=e._getSmiles(),a.User.viewUpdatedCallback&&a.User.viewUpdatedCallback(e,"updateView"),b.__setView(e._currentView,e,!1))},b.updateFromSync=function(f,d){f._updateMsg=d;var c=a._getAttr(d,"sourceID")||a._getAttr(d,"file");if(c){var g=b.__findView(f._viewSet,{viewID:c});if(null==g)return a.updateView(f,d);g!=f._currentView&&b.__setView(g,f,!0);var k=(c=a._getAttr(d,"atoms"))&&0<=d.indexOf("selectionhalos ON")?eval("["+c+"]"):[];setTimeout(function(){f._currentView==g&&b.updateAtomPick(f,k)},10),a.User.viewUpdatedCallback&&a.User.viewUpdatedCallback(f,"updateFromSync")}},b.updateAtomPick=function(e,t){var n=e._currentView;if(null!=n){for(var i in n)"info"!=i&&n[i].applet!=e&&n[i].applet._updateAtomPick(t);a.User.viewUpdatedCallback&&a.User.viewUpdatedCallback(e,"updateAtomPick")}},b.dumpViews=function(e){var t=b.sets[e];if(t){var n="View set "+e+":\n";e=b.applets[e];for(var i in e)n+="\napplet "+e[i]._id+" currentView="+(e[i]._currentView?e[i]._currentView.info.viewID:null);for(i=t.length;0<=--i;){e=t[i];var r,o,n=n+("\n\n<b>view="+i+" viewID="+e.info.viewID+" chemID="+e.info.chemID+"</b>\n");for(o in e)"info"!=o&&(n+="\nview="+i+" type="+o+" applet="+((r=e[o]).applet?r.applet._id:null)+" SMILES="+r.smiles+"\n atomMap="+JSON.stringify(r.atomMap)+"\n data=\n"+r.data+"\n")}return n}},b.__init=function(e){var t=e._viewSet,n=b.applets;n[t]||(n[t]={}),n[t][e._viewType]=e},b.__findView=function(e,t){var n=b.sets[e];null==n&&(n=b.sets[e]=[]);for(var i=n.length;0<=--i;){var r=n[i];if(t.viewID){if(r.info.viewID==t.viewID)return r}else{if(null!=t.chemID&&t.chemID==r.info.chemID)return r;for(var o in r)if("info"!=o&&(null!=t.data&&null!=r[o].data?t.data==r[o].data:t.type==o))return r}}return null},b.__createViewSet=function(e,t,n){b.count++,t={info:{chemID:t,viewID:n||"model_"+b.count}};for(var i in a._applets)n=a._applets[i],n._viewSet==e&&(t[n._viewType]={applet:n,data:null});return b.sets[e].push(t),t},b.__setView=function(e,t,n){for(var i in e)if("info"!=i){var r=e[i],o=r.applet,s=n||null!=o&&"<modified>"==o._molData;if(null!=o&&(o!=t||s)){var a=null==r.data,l=null!=o._currentView;if(o._currentView=e,(!l||!(e[i].data==r.data&&!a&!s))&&(o._loadModelFromView(e),a))break}}}}(a.View),a.Cache={fileCache:{}},a.Cache.get=function(e){return a.Cache.fileCache[e]},a.Cache.put=function(e,t){a.Cache.fileCache[e]=t},a.Cache.setDragDrop=function(e){a.$appEvent(e,"appletdiv","dragover",function(e){e=e.originalEvent,e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"}),a.$appEvent(e,"appletdiv","drop",function(t){var n=t.originalEvent;n.stopPropagation(),n.preventDefault();var i=n.dataTransfer.files[0];if(null==i)try{i=""+n.dataTransfer.getData("text"),(0==i.indexOf("file:/")||0==i.indexOf("http:/"))&&e._scriptLoad(i)}catch(e){}else n=new FileReader,n.onloadend=function(n){if(n.target.readyState==FileReader.DONE){var r="cache://DROP_"+i.name;n=Clazz.newByteArray(-1,n.target.result),r.endsWith(".spt")||e._appletPanel.cacheFileByName("cache://DROP_*",!1),"JSV"==e._viewType||r.endsWith(".jdx")?a.Cache.put(r,n):e._appletPanel.cachePut(r,n),(n=a._jsGetXY(e._canvas,t))&&(!e._appletPanel.setStatusDragDropped||e._appletPanel.setStatusDragDropped(0,n[0],n[1],r))&&e._appletPanel.openFileAsyncSpecial(r,1)}},n.readAsArrayBuffer(i)})}}(Jmol,jQuery),Jmol._debugCode=!1,function(e){e._isAsync=!1,e._asyncCallbacks={},e._coreFiles=[];var t=!1,n=[],i=[],r=0,o=[],s=[],a=function(t){arguments.length||(t=!0),delete r;for(var o;0<i.length&&"done"==(o=i[0])[4];)i.shift();if(0!=i.length)if(e._isAsync||t){o.push("done");var s="JSmol exec "+o[0]._id+" "+o[3]+" "+o[2];self.System&&System.out.println(s),self.console&&console.log(s+" -- OK"),n.push(s),o[1](o[0],o[2])}else setTimeout(a,10)},l=function(n){t?a():(t=!0,LoadClazz(),n._noMonitor&&(Clazz._LoaderProgressMonitor.showStatus=function(){}),LoadClazz=null,n.__Info.uncompressed&&Clazz.loadClass(),Clazz._Loader.onGlobalLoaded=function(){Clazz._LoaderProgressMonitor.showStatus("Application loaded.",!0),e._debugCode&&e.haveCore||(e.haveCore=!0,a())},Clazz._Loader.loadPackageClasspath("java",null,!0,a))},c=function(e,t){Clazz._Loader.loadClass(t,function(){a()})};e.showExecLog=function(){return n.join("\n");
},e._addExec=function(e){e[1]||(e[1]=c);var t="JSmol load "+e[0]._id+" "+e[3];self.console&&console.log(t+"..."),n.push(t),i.push(e)},e._addCoreFile=function(t,n,i){if(t=t.toLowerCase().split(".")[0],!(0<=o.join("").indexOf(t))){if(o.push(t),o.sort(),e._coreFiles=[n+"/core/core"+o.join("")+".z.js"],i&&(i=i.split(" ")))for(t=0;t<i.length;t++)0>s.join("").indexOf(i[t])&&s.push(n+"/core/core"+i[t]+".z.js");for(t=0;t<s.length;t++)e._coreFiles.push(s[t])}},e._Canvas2D=function(t,n,i,r){return this._uniqueId=(""+Math.random()).substring(3),this._id=t,this._is2D=!0,this._isJava=!1,this._jmolType="Jmol._Canvas2D ("+i+")",this._isLayered=n._isLayered||!1,this._isSwing=n._isSwing||!1,this._isJSV=n._isJSV||!1,this._isAstex=n._isAstex||!1,this._platform=n._platform||"",r?this:(window[t]=this,this._createCanvas(t,n),!e._document||this._deferApplet?this:(this._init(),this))},e._setAppletParams=function(t,n,i,r){for(var o in i)(!t||0<=t.indexOf(";"+o.toLowerCase()+";"))&&(null==i[o]||"language"==o&&!e.featureDetection.supportsLocalization()||(r?n.put(o,!0===i[o]?Boolean.TRUE:!1===i[o]?Boolean.FALSE:i[o]):n[o]=i[o]))},e._jsSetPrototype=function(t){return t._init=function(){this._setupJS(),this._showInfo(!0),this._disableInitialConsole&&this._showInfo(!1)},t._createCanvas=function(t,n,i){e._setObject(this,t,n),i&&(this._GLmol=i,this._GLmol.applet=this,this._GLmol.id=this._id),i=e._getWrapper(this,!0),this._deferApplet||(e._document?(e._documentWrite(i),this._newCanvas(!1),i=""):(this._deferApplet=!0,i+='<script type="text/javascript">'+t+"._cover(false)</script>")),i+=e._getWrapper(this,!1),n.addSelectionOptions&&(i+=e._getGrabberOptions(this)),e._debugAlert&&!e._document&&alert(i),this._code=e._documentWrite(i)},t._newCanvas=function(e){this._is2D?this._createCanvas2d(e):this._GLmol.create()},t._getHtml5Canvas=function(){return this._canvas},t._getWidth=function(){return this._canvas.width},t._getHeight=function(){return this._canvas.height},t._getContentLayer=function(){return e.$(this,"contentLayer")[0]},t._repaintNow=function(){e._repaint(this,!1)},t._createCanvas2d=function(){var t=e.$(this,"appletdiv");try{t[0].removeChild(this._canvas),this._canvas.frontLayer&&t[0].removeChild(this._canvas.frontLayer),this._canvas.rearLayer&&t[0].removeChild(this._canvas.rearLayer),this._canvas.contentLayer&&t[0].removeChild(this._canvas.contentLayer),e._jsUnsetMouse(this._mouseInterface)}catch(e){}var n=Math.round(t.width()),i=Math.round(t.height()),r=document.createElement("canvas");if(r.applet=this,this._canvas=r,r.style.width="100%",r.style.height="100%",r.width=n,r.height=i,r.id=this._id+"_canvas2d",t.append(r),e._$(r.id).css({"z-index":e._getZ(this,"main")}),this._isLayered){var o=document.createElement("div");r.contentLayer=o,o.id=this._id+"_contentLayer",t.append(o),e._$(o.id).css({zIndex:e._getZ(this,"image"),position:"absolute",left:"0px",top:"0px",width:(this._isSwing?n:0)+"px",height:(this._isSwing?i:0)+"px",overflow:"hidden"}),this._isSwing?(t=document.createElement("div"),t.id=this._id+"_swingdiv",e._$(this._id+"_appletinfotablediv").append(t),e._$(t.id).css({zIndex:e._getZ(this,"rear"),position:"absolute",left:"0px",top:"0px",width:n+"px",height:i+"px",overflow:"hidden"}),this._mouseInterface=r.contentLayer,r.contentLayer.applet=this):this._mouseInterface=this._getLayer("front",t,n,i,!1)}else this._mouseInterface=r;e._jsSetMouse(this._mouseInterface)},t._getLayer=function(t,n,i,r,o){var s=document.createElement("canvas");return this._canvas[t+"Layer"]=s,s.style.width="100%",s.style.height="100%",s.id=this._id+"_"+t+"Layer",s.width=i,s.height=r,n.append(s),s.applet=this,e._$(s.id).css({background:o?"rgb(0,0,0,1)":"rgb(0,0,0,0.001)","z-index":e._getZ(this,t),position:"absolute",left:"0px",top:"0px",overflow:"hidden"}),s},t._setupJS=function(){window["j2s.lib"]={base:this._j2sPath+"/",alias:".",console:this._console,monitorZIndex:e._getZ(this,"monitorZIndex")},0==i.length&&e._addExec([this,l,null,"loadClazz"]),this._addCoreFiles(),e._addExec([this,this.__startAppletJS,null,"start applet"]),this._isSigned=!0,this._ready=!1,this._applet=null,this._canScript=function(){return!0},this._savedOrientations=[],r&&clearTimeout(r),r=setTimeout(a,100)},t.__startAppletJS=function(t){0==e._version.indexOf("$Date: ")&&(e._version=(e._version.substring(7)+" -").split(" -")[0]+" (JSmol/j2s)");var n=Clazz._4Name("java.util.Hashtable").newInstance();e._setAppletParams(t._availableParams,n,t.__Info,!0),n.put("appletReadyCallback","Jmol._readyCallback"),n.put("applet",!0),n.put("name",t._id),n.put("syncId",e._syncId),e._isAsync&&n.put("async",!0),t._color&&n.put("bgcolor",t._color),t._startupScript&&n.put("script",t._startupScript),e._syncedApplets.length&&n.put("synccallback","Jmol._mySyncCallback"),n.put("signedApplet","true"),n.put("platform",t._platform),t._is2D&&n.put("display",t._id+"_canvas2d"),n.put("documentBase",document.location.href);var i=t._j2sPath+"/";if(0>i.indexOf("://")){var r=document.location.href.split("#")[0].split("?")[0].split("/");0==i.indexOf("/")?r=[r[0],i.substring(1)]:r[r.length-1]=i,i=r.join("/")}n.put("codePath",i),e._registerApplet(t._id,t);try{t._newApplet(n)}catch(t){return void System.out.println((e._isAsync?"normal async abort from ":"")+t)}t._jsSetScreenDimensions(),a()},t._restoreState||(t._restoreState=function(){}),t._jsSetScreenDimensions=function(){if(this._appletPanel){var t=e._getElement(this,this._is2D?"canvas2d":"canvas");this._appletPanel.setScreenDimension(t.width,t.height)}},t._show=function(t){e.$setVisible(e.$(this,"appletdiv"),t),t&&e._repaint(this,!0)},t._canScript=function(){return!0},t.equals=function(e){return this==e},t.clone=function(){return this},t.hashCode=function(){return parseInt(this._uniqueId)},t._processGesture=function(e){return this._appletPanel.processTwoPointGesture(e)},t._processEvent=function(e,t){this._appletPanel.processMouseEvent(e,t[0],t[1],t[2],System.currentTimeMillis())},t._resize=function(){var t="__resizeTimeout_"+this._id;e[t]&&clearTimeout(e[t]);var n=this;e[t]=setTimeout(function(){e._repaint(n,!0),e[t]=null},100)},t},e._repaint=function(t,n){if(t&&t._appletPanel){var i=e.$(t,"appletdiv"),r=Math.round(i.width()),i=Math.round(i.height());!t._is2D||t._canvas.width==r&&t._canvas.height==i||(t._newCanvas(!0),t._appletPanel.setDisplay(t._canvas)),t._appletPanel.setScreenDimension(r,i),r=function(){t._appletPanel.paint?t._appletPanel.paint(null):t._appletPanel.update(null)},n?requestAnimationFrame(r):r()}},e._loadImage=function(t,n,i,r,o,s){var a="echo_"+n+i+(r?"_"+r.length:""),l=e._getHiddenCanvas(t.vwr.html5Applet,a,0,0,!1,!0);if(null==l){if(null==s){if(s=new Image,null==r)return s.onload=function(){e._loadImage(t,n,i,null,o,s)},s.src=i,null;System.out.println("Jsmol.js Jmol._loadImage using data URI for "+a),s.src="string"==typeof r?r:"data:"+JU.Rdr.guessMimeTypeForBytes(r)+";base64,"+JU.Base64.getBase64(r)}var c=s.width,u=s.height;"webgl"==n&&(c/=2,u/=2),l=e._getHiddenCanvas(t.vwr.html5Applet,a,c,u,!0,!1),l.imageWidth=c,l.imageHeight=u,l.id=a,l.image=s,e._setCanvasImage(l,c,u)}else System.out.println("Jsmol.js Jmol._loadImage reading cached image for "+a);return null==r?o(l,i):l},e._canvasCache={},e._getHiddenCanvas=function(t,n,i,r,o,s){return n=t._id+"_"+n,t=e._canvasCache[n],s?t:(!o&&t&&t.width==i&&t.height==r||(t=document.createElement("canvas"),t.width=t.style.width=i,t.height=t.style.height=r,t.id=n,e._canvasCache[n]=t),t)},e._setCanvasImage=function(e,t,n){e.buf32=null,e.width=t,e.height=n,e.getContext("2d").drawImage(e.image,0,0,e.image.width,e.image.height,0,0,t,n)},e._apply=function(e,t){return e(t)}}(Jmol),function(e,t){e._Applet=function(t,n,i){return window[t]=this,this._jmolType="Jmol._Applet"+(n.isSigned?" (signed)":""),this._viewType="Jmol",this._isJava=!0,this._syncKeyword="Select:",this._availableParams=";progressbar;progresscolor;boxbgcolor;boxfgcolor;allowjavascript;boxmessage;\t\t\t\t\t\t\t\t\t;messagecallback;pickcallback;animframecallback;appletreadycallback;atommovedcallback;\t\t\t\t\t\t\t\t\t;echocallback;evalcallback;hovercallback;language;loadstructcallback;measurecallback;\t\t\t\t\t\t\t\t\t;minimizationcallback;resizecallback;scriptcallback;statusform;statustext;statustextarea;\t\t\t\t\t\t\t\t\t;synccallback;usecommandthread;syncid;appletid;startupscript;menufile;",i?this:(this._isSigned=n.isSigned,this._readyFunction=n.readyFunction,this._ready=!1,this._isJava=!0,this._isInfoVisible=!1,this._applet=null,this._memoryLimit=n.memoryLimit||512,this._canScript=function(){return!0},this._savedOrientations=[],this._initialize=function(t,i){var r=!1;if(e._jarFile&&(i=e._jarFile),this._jarFile){var o=this._jarFile;0<=o.indexOf("/")?(alert("This web page URL is requesting that the applet used be "+o+". This is a possible security risk, particularly if the applet is signed, because signed applets can read and write files on your local machine or network."),"yes"==prompt("Do you want to use applet "+o+"? ","yes or no")?(t=o.substring(0,o.lastIndexOf("/")),i=o.substring(o.lastIndexOf("/")+1)):r=!0):i=o,this_isSigned=n.isSigned=0<=i.indexOf("Signed")}this._jarPath=n.jarPath=t||".",this._jarFile=n.jarFile="string"==typeof i?i:(i?"JmolAppletSigned":"JmolApplet")+"0.jar",r&&alert("The web page URL was ignored. Continuing using "+this._jarFile+' in directory "'+this._jarPath+'"'),void 0==e.controls||e.controls._onloadResetForms()},this._create(t,n),this)};var n=e._Applet,i=e._Applet.prototype;n._get=function(t,i,r){r||(r=!1),i||(i={}),e._addDefaultInfo(i,{color:"#FFFFFF",width:300,height:300,addSelectionOptions:!1,serverURL:"http://your.server.here/jsmol.php",defaultModel:"",script:null,src:null,readyFunction:null,use:"HTML5",jarPath:"java",jarFile:"JmolApplet0.jar",isSigned:!1,j2sPath:"j2s",coverImage:null,makeLiveImage:null,coverTitle:"",coverCommand:"",deferApplet:!1,deferUncover:!1,disableJ2SLoadMonitor:!1,disableInitialConsole:!0,debug:!1}),e._debugAlert=i.debug,i.serverURL&&(e._serverUrl=i.serverURL);for(var o=!1,s=null,a=i.use.toUpperCase().split("#")[0].split(" "),l=0;l<a.length;l++){switch(a[l]){case"JAVA":o=!0,e.featureDetection.supportsJava()&&(s=new n(t,i,r));break;case"WEBGL":s=n._getCanvas(t,i,r,!0);break;case"HTML5":e.featureDetection.allowHTML5?s=n._getCanvas(t,i,r,!1):a.push("JAVA")}if(null!=s)break}return null==s&&(r||!o?s={_jmolType:"none"}:o&&(s=new n(t,i))),r?s:e._registerApplet(t,s)},n._getCanvas=function(t,i,r,o){return i._isLayered=!1,i._platform="J.awtjs2d.Platform",o&&e.featureDetection.supportsWebGL()?(e._Canvas3D.prototype=e.GLmol.extendApplet(e._jsSetPrototype(new n(t,i,!0))),new e._Canvas3D(t,i,"Jmol",r)):o?null:(e._Canvas2D.prototype=e._jsSetPrototype(new n(t,i,!0)),new e._Canvas2D(t,i,"Jmol",r))},n._noJavaMsg="Either you do not have Java applets enabled in your web<br />browser or your browser is blocking this applet.<br />\t\t\tCheck the warning message from your browser and/or enable Java applets in<br />\t\t\tyour web browser preferences, or install the Java Runtime Environment from <a href='http://www.java.com'>www.java.com</a>",n._setCommonMethods=function(e){e._showInfo=i._showInfo,e._search=i._search,e._getName=i._getName,e._readyCallback=i._readyCallback},n._createApplet=function(i,r,o){i._initialize(r.jarPath,r.jarFile);var s=i._jarFile;e._isFile&&(s=s.replace(/0\.jar/,".jar"));var a=0<=i._containerWidth.indexOf("px")?i._containerWidth:"100%",l=0<=i._containerHeight.indexOf("px")?i._containerHeight:"100%",a=' style="width:'+a+";height:"+l+'" ',l="name='"+i._id+"_object' id='"+i._id+"_object' \n"+a+"\n";if(o.codebase=i._jarPath,o.codePath=o.codebase+"/",0>o.codePath.indexOf("://")){var c=t.location.href.split("#")[0].split("?")[0].split("/");c[c.length-1]=o.codePath,o.codePath=c.join("/")}o.archive=s,o.mayscript="true",o.java_arguments="-Xmx"+Math.round(r.memoryLimit||i._memoryLimit)+"m",o.permissions=i._isSigned?"all-permissions":"sandbox",o.documentLocation=t.location.href,o.documentBase=t.location.href.split("#")[0].split("?")[0],o.jarPath=r.jarPath,e._syncedApplets.length&&(o.synccallback="Jmol._mySyncCallback"),i._startupScript&&(o.script=i._startupScript);var u,c="\n";for(u in o)o[u]&&(c+="  <param name='"+u+"' value='"+o[u]+"' />\n");c=e.featureDetection.useIEObject||e.featureDetection.useHtml4Object?"<object "+l+(e.featureDetection.useIEObject?" classid='clsid:8AD9C840-044E-11D1-B3E9-00805F499D93' codebase='http://java.sun.com/update/1.6.0/jinstall-6u22-windows-i586.cab'>":" type='application/x-java-applet'>")+c+"<p style='background-color:yellow;"+a.split('"')[1]+";text-align:center;vertical-align:middle;'>\n"+n._noJavaMsg+"</p></object>\n":"<applet "+l+" code='"+o.code+"' codebase='"+i._jarPath+"' archive='"+s+"' mayscript='true'>\n"+c+"<table bgcolor='yellow'><tr><td align='center' valign='middle' "+a+">\n"+n._noJavaMsg+"</td></tr></table></applet>\n",i._deferApplet&&(i._javaCode=c,c=""),c=e._getWrapper(i,!0)+c+e._getWrapper(i,!1)+(r.addSelectionOptions?e._getGrabberOptions(i):""),e._debugAlert&&alert(c),i._code=e._documentWrite(c)},i._newApplet=function(e){return this._is2D||e.put("script",(e.get("script")||"")+";set multipleBondSpacing 0.35;"),this._viewerOptions=e,new J.appletjs.Jmol(e)},i._addCoreFiles=function(){e._addCoreFile("jmol",this._j2sPath,this.__Info.preloadCore),this._is2D||e._addExec([this,null,"J.export.JSExporter","load JSExporter"]),e._debugCode&&e._addExec([this,null,"J.appletjs.Jmol","load Jmol"])},i._create=function(t,i){e._setObject(this,t,i);var r={syncId:e._syncId,progressbar:"true",progresscolor:"blue",boxbgcolor:this._color||"black",boxfgcolor:"white",boxmessage:"Downloading JmolApplet ...",script:this._color?'background "'+this._color+'"':"",code:"JmolApplet.class"};e._setAppletParams(this._availableParams,r,i);var o;i.inlineModel?(o=i.inlineModel,o=o.replace(/\r|\n|\r\n/g,0<=o.indexOf("|")?"\\/n":"|").replace(/'/g,"&#39;"),e._debugAlert&&alert("inline model:\n"+o)):o="",r.loadInline=o,r.appletReadyCallback="Jmol._readyCallback",e._syncedApplets.length&&(r.synccallback="Jmol._mySyncCallback"),r.java_arguments="-Xmx"+Math.round(i.memoryLimit||this._memoryLimit)+"m",this._initialize(i.jarPath,i.jarFile),n._createApplet(this,i,r)},i._restoreState=function(t,n){System.out.println("\n\nasynchronous restore state for "+t+" "+n);var i=this,r=i._applet&&i._applet.viewer;switch(n){case"setOptions":return function(){i.__startAppletJS(i)};case"render":return function(){setTimeout(function(){r.refresh(2)},10)};default:switch(t){case"J.shape.Balls":case"J.shape.Sticks":case"J.shape.Frank":return null}if(r&&r.isScriptExecuting&&r.isScriptExecuting()){if(e._asyncCallbacks[t])return System.out.println("...ignored"),1;var o=r.getEvalContextAndHoldQueue(r.eval),s=o.pc-1;return o.asyncID=t,e._asyncCallbacks[t]=function(e){o.pc=e,System.out.println("sc.asyncID="+o.asyncID+" sc.pc = "+o.pc),r.eval.resumeEval(o)},r.eval.pc=r.eval.pcEnd,System.out.println("setting resume for pc="+o.pc+" "+t+" to "+e._asyncCallbacks[t]+"//"),function(){System.out.println("resuming "+t+" "+e._asyncCallbacks[t]),e._asyncCallbacks[t](s)}}return System.out.println(t+"?????????????????????"+n),function(){setTimeout(function(){r.refresh(2)},10)}}},i._readyCallback=function(t,n,i){i&&(e._setDestroy(this),this._ready=!0,t=this._readyScript,this._defaultModel?e._search(this,this._defaultModel,t?";"+t:""):t?this._script(t):this._src&&this._script('load "'+this._src+'"'),this._showInfo(!0),this._showInfo(!1),e.Cache.setDragDrop(this),this._readyFunction&&this._readyFunction(this),e._setReady(this),(t=this._2dapplet)&&t._isEmbedded&&t._ready&&t.__Info.visible&&(this._show2d(!0),this._show2d(!1),this._show2d(!0)),e._hideLoadingSpinner(this))},i._showInfo=function(t){if(t&&this._2dapplet&&this._2dapplet._show(!1),e.$html(e.$(this,"infoheaderspan"),this._infoHeader),this._info&&e.$html(e.$(this,"infodiv"),this._info),!this._isInfoVisible!=!t){if(this._isInfoVisible=t,this._isJava){var n=t?2:"100%";e.$setSize(e.$(this,"appletdiv"),n,n)}e.$setVisible(e.$(this,"infotablediv"),t),e.$setVisible(e.$(this,"infoheaderdiv"),t),this._show(!t)}},i._show2d=function(e){this._2dapplet._show2d(e),this._2dapplet._isEmbedded&&(this._showInfo(!1),this._show(!e),this._2dapplet.__showContainer(!0,!0))},i._getSpinner=function(){return this.__Info.appletLoadingImage||this._j2sPath+"/img/JSmol_spinner.gif"},i._getAtomCorrelation=function(e){this._loadMolData(e,"atommap = compare({1.1} {2.1} 'MAP' 'H'); zap 2.1",!0),e=this._evaluate("atommap");for(var t=this._evaluate("{*}.count"),n=[],i=[],r=0;r<e.length;r++){var o=e[r];n[o[0]+1]=o[1]-t+1,i[o[1]-t+1]=o[0]+1}return{fromJmol:n,toJmol:i}},i._show=function(t){var n=t?"100%":2;e.$setSize(e.$(this,"object"),n,n),this._isJava||e.$setVisible(e.$(this,"appletdiv"),t)},i._clearConsole=function(){this._console==this._id+"_infodiv"&&(this.info=""),self.Clazz&&(e._setConsoleDiv(this._console),Clazz.Console.clear())},i._addScript=function(e){return this._readyScript||(this.readyScript=""),this._readyScript&&(this._readyScript+=";"),this._readyScript+=e,!0},i._script=function(t){return this._ready?(e._setConsoleDiv(this._console),e._hideLocalFileReader(this),void this._applet.script(t)):this._addScript(t)},i._syncScript=function(e){this._applet.syncScript(e)},i._scriptCheck=function(e){return this._ready&&this._applet.scriptCheck(e)},i._scriptWait=function(e,t){var n=this._scriptWaitAsArray(e),i="";if(!t)for(var r=n.length;0<=--r;)for(var o=0,s=n[r].length;o<s;o++)i+=n[r][o]+"\n";return i},i._scriptEcho=function(e){e=this._scriptWaitAsArray(e);for(var t="",n=e.length;0<=--n;)for(var i=e[n].length;0<=--i;)"scriptEcho"==e[n][i][1]&&(t+=e[n][i][3]+"\n");return t.replace(/ \| /g,"\n")},i._scriptMessage=function(e){e=this._scriptWaitAsArray(e);for(var t="",n=e.length;0<=--n;)for(var i=e[n].length;0<=--i;)"scriptStatus"==e[n][i][1]&&(t+=e[n][i][3]+"\n");return t.replace(/ \| /g,"\n")},i._scriptWaitOutput=function(e){var t="";try{e&&(t+=this._applet.scriptWaitOutput(e))}catch(e){}return t},i._scriptWaitAsArray=function(t){var n="";try{if(this._getStatus("scriptEcho,scriptMessage,scriptStatus,scriptError"),t&&(n+=this._applet.scriptWait(t),n=e._evalJSON(n,"jmolStatus"),"object"==typeof n))return n}catch(e){}return[[n]]},i._getStatus=function(t){return e._sortMessages(this._getPropertyAsArray("jmolStatus",t))},i._getPropertyAsArray=function(t,n){return e._evalJSON(this._getPropertyAsJSON(t,n),t)},i._getPropertyAsString=function(e,t){return void 0==t&&(t=""),this._applet.getPropertyAsString(e,t)+""},i._getPropertyAsJSON=function(e,t){void 0==t&&(t="");try{return this._applet.getPropertyAsJSON(e,t)+""}catch(e){return""}},i._getPropertyAsJavaObject=function(e,t){return void 0==t&&(t=""),this._applet.getProperty(e,t)},i._evaluate=function(e){return null!=e||(e=""),this._getPropertyAsArray("variableInfo",e)},i._evaluateDEPRECATED=function(e){e=""+this._getPropertyAsJavaObject("evaluate",e);var t=e.replace(/\-*\d+/,"");return""!=t||isNaN(parseInt(e))?(t=e.replace(/\-*\d*\.\d*/,""),""!=t||isNaN(parseFloat(e))?e:parseFloat(e)):parseInt(e)},i._saveOrientation=function(e){return this._savedOrientations[e]=this._getPropertyAsArray("orientationInfo","info").moveTo},i._restoreOrientation=function(e){return e=this._savedOrientations[e],e&&""!=e?this._scriptWait(e):e.replace(/1\.0/,"0")},i._restoreOrientationDelayed=function(e,t){1>arguments.length&&(t=1);var n=this._savedOrientations[e];return n&&""!=n?this._scriptWait(n):n.replace(/1\.0/,t)},i._resizeApplet=function(t){function n(t,n){var i=""+t;return 0==i.length?n?"":e._allowedJmolSize[2]:i.indexOf("%")==i.length-1?i:1>=(t=parseFloat(t))&&0<t?100*t+"%":(isNaN(t=Math.floor(t))?e._allowedJmolSize[2]:t<e._allowedJmolSize[0]?e._allowedJmolSize[0]:t>e._allowedJmolSize[1]?e._allowedJmolSize[1]:t)+(n?n:"")}var i;"object"==typeof t&&null!=t?(i=t[0]||t.width,t=t[1]||t.height):i=t,i=[n(i,"px"),n(t,"px")],t=e._getElement(this,"appletinfotablediv"),t.style.width=i[0],t.style.height=i[1],this._containerWidth=i[0],this._containerHeight=i[1],this._is2D&&e._repaint(this,!0)},i._search=function(t,n){e._search(this,t,n)},i._searchDatabase=function(t,n,i){return this._2dapplet&&this._2dapplet._isEmbedded&&!e.$(this,"appletdiv:visible")[0]?this._2dapplet._searchDatabase(t,n,i):(this._showInfo(!1),void(0<=t.indexOf("?")?e._getInfoFromDatabase(this,n,t.split("?")[0]):(i||(i=e._getScriptForDatabase(n)),t=n+t,this._currentView=null,this._searchQuery=t,this._loadFile(t,i,t))))},i._loadFile=function(t,n,i){if(this._showInfo(!1),n||(n=""),this._thisJmolModel=""+Math.random(),this._fileName=t,!this._scriptLoad(t,n)){var r=this;e._loadFileData(this,t,function(e){r.__loadModel(e,n,i)},function(){r.__loadModel(null)})}},i._scriptLoad=function(e,t){t||(t="");var n=this._isJava||!this._noscript;return n&&this._script("zap;set echo middle center;echo Retrieving data..."),!(!this._isSigned||null!=this._viewSet)&&(n?this._script('load async "'+e+'";'+t):this._applet.openFile(e),this._checkDeferred(""),!0)},i.__loadModel=function(t,n,i){null!=t&&(null!=this._viewSet&&(n||(n=""),n+=";if ({*}.molecule.max > 1 || {*}.modelindex.max > 0){ delete molecule > 1 or modelindex > 0;x = getProperty('extractModel',{*});load inline @x};"),!n&&this._noscript?this._applet.loadInlineString(t,"",!1):this._loadMolData(t,n,!1),null!=this._viewSet&&e.View.updateView(this,{chemID:i,data:t}))},i._loadMolData=function(e,t,n){t||(t=""),n=n?"append":"model",this._applet.scriptWait('load DATA "'+n+'"'+e+'\nEND "'+n+'" ;'+t)},i._loadModelFromView=function(t){this._currentView=t;var n=t.Jmol;null!=n.data?this.__loadModel(n.data,null,t.info.chemID):null!=t.info.chemID?e._searchMol(this,t.info.chemID,null,!1):(n=t.JME)&&n.applet._show2d(!1,this)},i._updateView=function(){null!=this._viewSet&&this._applet&&(chemID=""+this._getPropertyAsJavaObject("variableInfo","script('show chemical inchiKey')"),chemID=36>chemID.length()?null:chemID.substring(36).split("\n")[0],e.View.updateView(this,{chemID:chemID,data:""+this._getPropertyAsJavaObject("evaluate","extractModel","{visible}")}))},i._atomPickedCallback=function(t,n){if(!(0>n)){var i=[n+1];e.View.updateAtomPick(this,i),this._updateAtomPick(i)}},i._updateAtomPick=function(e){this._script(0==e.length?"select none":"select on visible and (@"+e.join(",@")+")")},i._isDeferred=function(){return!this._canvas&&this._cover&&this._isCovered&&this._deferApplet},i._checkDeferred=function(e){return!!this._isDeferred()&&(this._coverScript=e,this._cover(!1),!0)},i._cover=function(t){t||!this._deferApplet?this._displayCoverImage(t):(t=this._coverScript?this._coverScript:"",this._coverScript="",this._deferUncover&&(t+=";refresh;javascript "+this._id+"._displayCoverImage(false)"),this._script(t,!0),this._deferUncover&&"activate 3D model"==this._coverTitle&&(e._getElement(this,"coverimage").title="3D model is loading..."),this._isJava||this._newCanvas(!1),this._defaultModel&&e._search(this,this._defaultModel),this._showInfo(!1),this._deferUncover||this._displayCoverImage(!1),this._isJava&&e.$html(e.$(this,"appletdiv"),this._javaCode),this._init&&this._init())},i._displayCoverImage=function(t){this._coverImage&&this._isCovered!=t&&(this._isCovered=t,e._getElement(this,"coverdiv").style.display=t?"block":"none")},i._getSmiles=function(){return this._evaluate("{visible}.find('SMILES')")},i._getMol=function(){return this._evaluate("getProperty('ExtractModel',{visible})")},i._getMol2D=function(){return this._evaluate("script('select visible;show chemical sdf')")},e.jmolSmiles=function(e){return e._getSmiles()}}(Jmol,document),function(e){var t=e.controls={_hasResetForms:!1,_scripts:[""],_checkboxMasters:{},_checkboxItems:{},_actions:{},_buttonCount:0,_checkboxCount:0,_radioGroupCount:0,_radioCount:0,_linkCount:0,_cmdCount:0,_menuCount:0,_previousOnloadHandler:null,_control:null,_element:null,_appletCssClass:null,_appletCssText:"",_buttonCssClass:null,_buttonCssText:"",_checkboxCssClass:null,_checkboxCssText:"",_radioCssClass:null,_radioCssText:"",_linkCssClass:null,_linkCssText:"",_menuCssClass:null,_menuCssText:""};t._addScript=function(e,n){var i=t._scripts.length;return t._scripts[i]=[e,n],i},t._getIdForControl=function(e,t){return"string"==typeof e?e:t&&e._canScript&&!e._canScript(t)?null:e._id},t._radio=function(e,n,i,r,o,s,a,l){var c=t._getIdForControl(e,n);return null==c?null:(++t._radioCount,void 0!=s&&null!=s||(s="jmolRadioGroup"+(t._radioGroupCount-1)),n?(void 0!=a&&null!=a||(a="jmolRadio"+(t._radioCount-1)),void 0!=i&&null!=i||(i=n.substring(0,32)),o||(o=""),e="</span>",t._actions[a]=t._addScript(c,n),n='<span id="span_'+a+'"'+(l?' title="'+l+'"':"")+"><input name='"+s+"' id='"+a+"' type='radio' onclick='Jmol.controls._click(this);return true;' onmouseover='Jmol.controls._mouseOver(this);return true;' onmouseout='Jmol.controls._mouseOut()' "+(r?"checked='true' ":"")+t._radioCssText+" />",0<=i.toLowerCase().indexOf("<td>")&&(n+=e,e=""),n+('<label for="'+a+'">'+i+"</label>"+e+o)):"")},t._scriptExecute=function(t,n){var i=e._applets[n[0]],r=n[1];"object"==typeof r?r[0](t,r,i):"function"==typeof r?r(i):e.script(i,r)},t.__checkScript=function(e,t){var n=0<=t.value.indexOf("JSCONSOLE ")||""===e._scriptCheck(t.value);return t.style.color=n?"black":"red",n},t.__getCmd=function(e,t){if(t._cmds&&t._cmds.length){var n=t._cmds[t._cmdpt=(t._cmdpt+t._cmds.length+e)%t._cmds.length];setTimeout(function(){t.value=n},10),t._cmdadd=1,t._cmddir=e}},t._commandKeyPress=function(n,i,r){n=13==n?13:window.event?window.event.keyCode:n?n.keyCode||n.which:0;var o=document.getElementById(i),s=e._applets[r];switch(n){case 13:return i=o.value,t._scriptExecute(o,[r,i]),o._cmds||(o._cmds=[],o._cmddir=0,o._cmdpt=-1,o._cmdadd=0),i&&0==o._cmdadd?(++o._cmdpt,o._cmds.splice(o._cmdpt,0,i),o._cmdadd=0,o._cmddir=0):o._cmdadd=0,o.value="",!1;case 27:return setTimeout(function(){o.value=""},20),!1;case 38:t.__getCmd(-1,o);break;case 40:t.__getCmd(1,o);break;default:o._cmdadd=0}return setTimeout(function(){t.__checkScript(s,o)},20),!0},t._click=function(e,n){t._element=e,1==arguments.length&&(n=t._actions[e.id]),t._scriptExecute(e,t._scripts[n])},t._menuSelected=function(e){var n=e.value;if(void 0!=n)t._scriptExecute(e,t._scripts[n]);else{if(n=e.length,"number"==typeof n)for(var i=0;i<n;++i)if(e[i].selected)return void t._click(e[i],e[i].value);alert("?Que? menu selected bug #8734")}},t._cbNotifyMaster=function(e){var n,i,r=!0,o=!0,s=!1;for(i in e.chkGroup)n=e.chkGroup[i],n.checked?o=!1:r=!1,n.indeterminate&&(s=!0);n=e.chkMaster,r?n.checked=!0:o?n.checked=!1:s=!0,n.indeterminate=s,(e=t._checkboxItems[n.id])&&(n=e.chkMaster)&&t._cbNotifyMaster(t._checkboxMasters[n.id])},t._cbNotifyGroup=function(e,n){for(var i in e.chkGroup){var r=e.chkGroup[i];r.checked!=n&&(r.checked=n,t._cbClick(r)),t._checkboxMasters[r.id]&&t._cbNotifyGroup(t._checkboxMasters[r.id],n)}},t._cbSetCheckboxGroup=function(e,n,i){var r=e;"number"==typeof r&&(r="jmolCheckbox"+r),(e=document.getElementById(r))||alert("jmolSetCheckboxGroup: master checkbox not found: "+r);var o=t._checkboxMasters[r]={};for(o.chkMaster=e,o.chkGroup={},"string"==typeof n?(n=i,r=1):r=0,e=r;e<n.length;e++)r=n[e],"number"==typeof r&&(r="jmolCheckbox"+r),(i=document.getElementById(r))||alert("jmolSetCheckboxGroup: group checkbox not found: "+r),o.chkGroup[r]=i,t._checkboxItems[r]=o},t._cbClick=function(e){t._control=e;var n=t._actions[e.id][0],i=t._actions[e.id][1];t._click(e,e.checked?n:i),t._checkboxMasters[e.id]&&t._cbNotifyGroup(t._checkboxMasters[e.id],e.checked),t._checkboxItems[e.id]&&t._cbNotifyMaster(t._checkboxItems[e.id])},t._cbOver=function(e){var n=t._actions[e.id][0],i=t._actions[e.id][1];window.status=t._scripts[e.checked?i:n]},t._mouseOver=function(e,n){1==arguments.length&&(n=t._actions[e.id]),window.status=t._scripts[n]},t._mouseOut=function(){return window.status=" ",!0},t._onloadResetForms=function(){t._hasResetForms||(t._hasResetForms=!0,t._previousOnloadHandler=window.onload,window.onload=function(){if(0<t._buttonCount+t._checkboxCount+t._menuCount+t._radioCount+t._radioGroupCount)for(var e=document.forms,n=e.length;0<=--n;)e[n].reset();t._previousOnloadHandler&&t._previousOnloadHandler()})},t._getButton=function(n,i,r,o,s){return n=t._getIdForControl(n,i),null==n?"":(void 0!=o&&null!=o||(o="jmolButton"+t._buttonCount),void 0!=r&&null!=r||(r=i.substring(0,32)),++t._buttonCount,t._actions[o]=t._addScript(n,i),i='<span id="span_'+o+'"'+(s?' title="'+s+'"':"")+"><input type='button' name='"+o+"' id='"+o+"' value='"+r+"' onclick='Jmol.controls._click(this)' onmouseover='Jmol.controls._mouseOver(this);return true' onmouseout='Jmol.controls._mouseOut()' "+t._buttonCssText+" /></span>",e._debugAlert&&alert(i),e._documentWrite(i))},t._getCheckbox=function(n,i,r,o,s,a,l){var c=t._getIdForControl(n,i);if(null!=c&&(c=t._getIdForControl(n,r)),null==c)return"";if(void 0!=a&&null!=a||(a="jmolCheckbox"+t._checkboxCount),++t._checkboxCount,void 0==i||null==i||void 0==r||null==r)alert("jmolCheckbox requires two scripts");else{if(void 0!=o&&null!=o)return t._actions[a]=[t._addScript(c,i),t._addScript(c,r)],n="</span>",s='<span id="span_'+a+'"'+(l?' title="'+l+'"':"")+"><input type='checkbox' name='"+a+"' id='"+a+"' onclick='Jmol.controls._cbClick(this)' onmouseover='Jmol.controls._cbOver(this);return true' onmouseout='Jmol.controls._mouseOut()' "+(s?"checked='true' ":"")+t._checkboxCssText+" />",0<=o.toLowerCase().indexOf("<td>")&&(s+=n,n=""),s+='<label for="'+a+'">'+o+"</label>"+n,e._debugAlert&&alert(s),e._documentWrite(s);alert("jmolCheckbox requires a label")}},t._getCommandInput=function(n,i,r,o,s,a){return n=t._getIdForControl(n,"x"),null==n?"":(void 0!=o&&null!=o||(o="jmolCmd"+t._cmdCount),void 0!=i&&null!=i||(i="Execute"),void 0!=r&&!isNaN(r)||(r=60),void 0!=a||(a="help"),++t._cmdCount,i='<span id="span_'+o+'"'+(s?' title="'+s+'"':"")+"><input name='"+o+"' id='"+o+"' size='"+r+"' onkeydown='return Jmol.controls._commandKeyPress(event,\""+o+'","'+n+"\")' value='"+a+"'/><input  type='button' name='"+o+"Btn' id='"+o+"Btn' value = '"+i+"' onclick='Jmol.controls._commandKeyPress(13,\""+o+'","'+n+"\")' /></span>",e._debugAlert&&alert(i),e._documentWrite(i))},t._getLink=function(n,i,r,o,s){return n=t._getIdForControl(n,i),null==n?"":(void 0!=o&&null!=o||(o="jmolLink"+t._linkCount),void 0!=r&&null!=r||(r=i.substring(0,32)),++t._linkCount,i=t._addScript(n,i),r='<span id="span_'+o+'"'+(s?' title="'+s+'"':"")+"><a name='"+o+"' id='"+o+"' href='javascript:Jmol.controls._click(null,"+i+");' onmouseover='Jmol.controls._mouseOver(null,"+i+");return true;' onmouseout='Jmol.controls._mouseOut()' "+t._linkCssText+">"+r+"</a></span>",e._debugAlert&&alert(r),e._documentWrite(r))},t._getMenu=function(n,i,r,o,s){var a=t._getIdForControl(n,null);if(void 0!=o&&null!=o||(o="jmolMenu"+t._menuCount),++t._menuCount,a=typeof i,null!=a&&"object"==a&&i.length){var l=i.length;for("number"!=typeof r||1==r?r=null:0>r&&(r=l),r='<span id="span_'+o+'"'+(s?' title="'+s+'"':"")+"><select name='"+o+"' id='"+o+"' onChange='Jmol.controls._menuSelected(this)'"+(r?" size='"+r+"' ":"")+t._menuCssText+">",o=0;o<l;++o){var c=i[o],a=typeof c,u=null,d=s=null;if("object"==a&&null!=c?(u=c[0],s=c[1],d=c[2]):u=s=c,a=t._getIdForControl(n,u),null==a)return"";null==s&&(s=u),"#optgroup"==u?r+="<optgroup label='"+s+"'>":"#optgroupEnd"==u?r+="</optgroup>":(a=t._addScript(a,u),r+="<option value='"+a+(d?"' selected='true'>":"'>")+s+"</option>")}return r+="</select></span>",e._debugAlert&&alert(r),e._documentWrite(r)}},t._getRadio=function(n,i,r,o,s,a,l,c){return 0==t._radioGroupCount&&++t._radioGroupCount,a||(a="jmolRadioGroup"+(t._radioGroupCount-1)),n=t._radio(n,i,r,o,s,a,l?l:a+"_"+t._radioCount,c?c:0),null==n?"":(e._debugAlert&&alert(n),e._documentWrite(n))},t._getRadioGroup=function(n,i,r,o,s,a){var l=typeof i;if("object"==l&&null!=l&&i.length){void 0!=r&&null!=r||(r="&#xa0; ");var c=i.length;++t._radioGroupCount,o||(o="jmolRadioGroup"+(t._radioGroupCount-1));for(var u="<span id='"+(s?s:o)+"'>",d=0;d<c;++d){d==c-1&&(r="");var h=i[d],l=typeof h,p=null,u="object"==l?u+(p=t._radio(n,h[0],h[1],h[2],r,o,3<h.length?h[3]:(s?s:o)+"_"+d,4<h.length?h[4]:0,a)):u+(p=t._radio(n,h,null,null,r,o,(s?s:o)+"_"+d,a));
if(null==p)return""}return u+="</span>",e._debugAlert&&alert(u),e._documentWrite(u)}alert("invalid arrayOfRadioButtons")}}(Jmol),function(e){var t=function(e){return e="&"+e+"=",decodeURI(("&"+document.location.search.substring(1)+e).split(e)[1].split("&")[0])};e._j2sPath=t("_J2S"),e._jarFile=t("_JAR"),e._use=t("_USE"),e.getVersion=function(){return e._jmolInfo.version},e.getApplet=function(t,n,i){return e._Applet._get(t,n,i)},e.getJMEApplet=function(t,n,i,r){return e._JMEApplet._get(t,n,i,r)},e.getJSVApplet=function(t,n,i){return e._JSVApplet._get(t,n,i)},e.loadFile=function(e,t,n){e._loadFile(t,n)},e.script=function(e,t){e._checkDeferred(t)||e._script(t)},e.scriptCheck=function(e,t){return e&&e._scriptCheck&&e._ready&&e._scriptCheck(t)},e.scriptWait=function(e,t){return e._scriptWait(t)},e.scriptEcho=function(e,t){return e._scriptEcho(t)},e.scriptMessage=function(e,t){return e._scriptMessage(t)},e.scriptWaitOutput=function(e,t){return e._scriptWait(t)},e.scriptWaitAsArray=function(e,t){return e._scriptWaitAsArray(t)},e.search=function(e,t,n){e._search(t,n)},e.evaluateVar=function(e,t){return e._evaluate(t)},e.evaluate=function(e,t){return e._evaluateDEPRECATED(t)},e.getAppletHtml=function(t,n){if(n){var i=e._document;e._document=null,t=e.getApplet(t,n),e._document=i}return t._code},e.getPropertyAsArray=function(e,t,n){return e._getPropertyAsArray(t,n)},e.getPropertyAsJavaObject=function(e,t,n){return e._getPropertyAsJavaObject(t,n)},e.getPropertyAsJSON=function(e,t,n){return e._getPropertyAsJSON(t,n)},e.getPropertyAsString=function(e,t,n){return e._getPropertyAsString(t,n)},e.getStatus=function(e,t){return e._getStatus(t)},e.resizeApplet=function(e,t){return e._resizeApplet(t)},e.restoreOrientation=function(e,t){return e._restoreOrientation(t)},e.restoreOrientationDelayed=function(e,t,n){return e._restoreOrientationDelayed(t,n)},e.saveOrientation=function(e,t){return e._saveOrientation(t)},e.say=function(e){alert(e)},e.clearConsole=function(e){e._clearConsole()},e.getInfo=function(e){return e._info},e.setInfo=function(e,t,n){e._info=t,2<arguments.length&&e._showInfo(n)},e.showInfo=function(e,t){e._showInfo(t)},e.show2d=function(e,t){e._show2d(t)},e.jmolBr=function(){return e._documentWrite("<br />")},e.jmolButton=function(t,n,i,r,o){return e.controls._getButton(t,n,i,r,o)},e.jmolCheckbox=function(t,n,i,r,o,s,a){return e.controls._getCheckbox(t,n,i,r,o,s,a)},e.jmolCommandInput=function(t,n,i,r,o,s){return e.controls._getCommandInput(t,n,i,r,o,s)},e.jmolHtml=function(t){return e._documentWrite(t)},e.jmolLink=function(t,n,i,r,o){return e.controls._getLink(t,n,i,r,o)},e.jmolMenu=function(t,n,i,r,o){return e.controls._getMenu(t,n,i,r,o)},e.jmolRadio=function(t,n,i,r,o,s,a,l){return e.controls._getRadio(t,n,i,r,o,s,a,l)},e.jmolRadioGroup=function(t,n,i,r,o,s){return e.controls._getRadioGroup(t,n,i,r,o,s)},e.setCheckboxGroup=function(t,n){e.controls._cbSetCheckboxGroup(t,n,arguments)},e.setDocument=function(t){e._document=t},e.setXHTML=function(t){e._isXHTML=!0,e._XhtmlElement=null,e._XhtmlAppendChild=!1,t&&(e._XhtmlElement=document.getElementById(t),e._XhtmlAppendChild=!0)},e.setAppletCss=function(t,n){null!=t&&(e._appletCssClass=t),e._appletCssText=n?n+" ":t?'class="'+t+'" ':""},e.setButtonCss=function(t,n){null!=t&&(e.controls._buttonCssClass=t),e.controls._buttonCssText=n?n+" ":t?'class="'+t+'" ':""},e.setCheckboxCss=function(t,n){null!=t&&(e.controls._checkboxCssClass=t),e.controls._checkboxCssText=n?n+" ":t?'class="'+t+'" ':""},e.setRadioCss=function(t,n){null!=t&&(e.controls._radioCssClass=t),e.controls._radioCssText=n?n+" ":t?'class="'+t+'" ':""},e.setLinkCss=function(t,n){null!=t&&(e.controls._linkCssClass=t),e.controls._linkCssText=n?n+" ":t?'class="'+t+'" ':""},e.setMenuCss=function(t,n){null!=t&&(e.controls._menuCssClass=t),e.controls._menuCssText=n?n+" ":t?'class="'+t+'" ':""},e.setAppletSync=function(t,n,i){e._syncedApplets=t,e._syncedCommands=n,e._syncedReady={},e._isJmolJSVSync=i},e.setGrabberOptions=function(t){e._grabberOptions=t},e.setAppletHtml=function(t,n){t._code&&(e.$html(n,t._code),t._init&&!t._deferApplet&&t._init())},e.coverApplet=function(e,t){e._cover&&e._cover(t)},e.setFileCaching=function(t,n){t?t._cacheFiles=n:e.fileCache=n?{}:null},e.updateView=function(e,t,n){e._updateView(t,n)},e.getChemicalInfo=function(t,n,i){return n||(n="name"),"string"!=typeof t&&(t=t._getSmiles()),e._getNCIInfo(t,n,i)},e.saveImage=function(e){switch(e._viewType){case"Jmol":e._script('write PNGJ "'+e._id+'.png"');break;case"JSV":e._script("write PDF");break;case"JME":e._script("print")}}}(Jmol),LoadClazz=function(){c$=null,window["j2s.clazzloaded"]||(window["j2s.clazzloaded"]=!1),window["j2s.clazzloaded"]||(window["j2s.clazzloaded"]=!0,window["j2s.object.native"]=!0,Clazz={_isQuiet:!1,_debugging:!1},function(a,j){try{a._debugging=0<=document.location.href.indexOf("j2sdebug")}catch(e){}var c=["j2s.clazzloaded","j2s.object.native"];a.setGlobal=function(e,t){c.push(e),window[e]=t},a.getGlobals=function(){return c.sort().join("\n")},a.setConsoleDiv=function(e){window["j2s.lib"]&&(window["j2s.lib"].console=e)};var b=null;a._startProfiling=function(e){b=e&&self.JSON?{}:null},NullObject=function(){},a._supportsNativeObject=window["j2s.object.native"],a._supportsNativeObject?(a._O=function(){},a._O.__CLASS_NAME__="Object",a._O.getClass=function(){return a._O}):a._O=Object,a.Console={},a.dateToString=Date.prototype.toString,a._hashCode=0;var d=a._O.prototype;d.equals=function(e){return this==e},d.hashCode=function(){return this._$hashcode||(this._$hashcode=++a._hashCode)},d.getClass=function(){return a.getClass(this)},d.clone=function(){return a.clone(this)},a.clone=function(e){var t,n=new e.constructor;for(t in e)n[t]=e[t];return n},d.finalize=function(){},d.notify=function(){},d.notifyAll=function(){},d.wait=function(){},d.to$tring=Object.prototype.toString,d.toString=function(){return this.__CLASS_NAME__?"["+this.__CLASS_NAME__+" object]":this.to$tring.apply(this,arguments)},a._extendedObjectMethods="equals hashCode getClass clone finalize notify notifyAll wait to$tring toString".split(" "),a.extendJO=function(e,t){if(t&&(e.__CLASS_NAME__=e.prototype.__CLASS_NAME__=t),a._supportsNativeObject)for(var n=0;n<a._extendedObjectMethods.length;n++){var i=a._extendedObjectMethods[n];e.prototype[i]=a._O.prototype[i]}},a.extractClassName=function(e){return e=e.substring(1,e.length-1),0<=e.indexOf("Array")?"Array":0<=e.indexOf("object ")?e.substring(7):e},a.getClassName=function(e,t){if(null==e)return"NullObject";if(e instanceof a.CastedNull)return e.clazzName;switch(typeof e){case"number":return"n";case"boolean":return"b";case"string":return"String";case"function":if(e.__CLASS_NAME__)return t?e.__CLASS_NAME__:"Class";var n=e.toString(),i=n.indexOf("function");if(0>i)return"["==n.charAt(0)?a.extractClassName(n):n.replace(/[^a-zA-Z0-9]/g,"");var i=i+8,r=n.indexOf("(",i);if(0>r)break;return n=n.substring(i,r),0<=n.indexOf("Array")?"Array":(n=n.replace(/^\s+/,"").replace(/\s+$/,""),"anonymous"==n||""==n?"Function":n);case"object":if(e.__CLASS_NAME__)return e.__CLASS_NAME__;if(!e.constructor)break;if(!e.constructor.__CLASS_NAME__){if(e instanceof Number)return"Number";if(e instanceof Boolean)return"Boolean";if(e instanceof Array||e.BYTES_PER_ELEMENT)return"Array";if(n=e.toString(),"["==n.charAt(0))return a.extractClassName(n)}return a.getClassName(e.constructor,!0)}return"Object"},a.getClass=function(e){if(!e)return a._O;if("function"==typeof e)return e;if(e instanceof a.CastedNull)e=e.clazzName;else switch(typeof e){case"string":return String;case"object":if(!e.__CLASS_NAME__)return e.constructor||a._O;e=e.__CLASS_NAME__;break;default:return e.constructor}return a.evalType(e,!0)};var k=function(e,t){for(var n=0;n<a.innerFunctionNames.length;n++)if(t==a.innerFunctionNames[n]&&a._innerFunctions[t]===e[t])return!0;return!1},m=function(){};a.inheritArgs=new m,a.inheritClass=function(e,t,n){for(var i in t)"b$"!=i&&"prototype"!=i&&"superClazz"!=i&&"__CLASS_NAME__"!=i&&"implementz"!=i&&!k(t,i)&&(e[i]=t[i]);a.unloadedClasses[a.getClassName(e,!0)]||(e.prototype=n?n:t!==Number?new t(a.inheritArgs):new Number),e.superClazz=t,e.prototype.__CLASS_NAME__=e.__CLASS_NAME__},a.implementOf=function(e,t){if(2<=arguments.length){e.implementz||(e.implementz=[]);var n=e.implementz;if(2==arguments.length){if("function"==typeof t)n.push(t),l(e,t);else if(t instanceof Array)for(var i=0;i<t.length;i++)n.push(t[i]),l(e,t[i])}else for(i=1;i<arguments.length;i++)n.push(arguments[i]),l(e,arguments[i])}};var l=function(e,t){for(var n in t)"b$"==n||"prototype"==n||"superClazz"==n||"__CLASS_NAME__"==n||"implementz"==n||"function"==typeof t[n]&&k(t,n)||(e[n]=e.prototype[n]=t[n])};a.extendInterface=a.implementOf,a.equalsOrExtendsLevel=function(e,t){if(e===t)return 0;if(e.implementz)for(var n=e.implementz,i=0;i<n.length;i++){var r=a.equalsOrExtendsLevel(n[i],t);if(0<=r)return r+1}return-1},a.getInheritedLevel=function(e,t){if(e===t)return 0;var n="string"==typeof e;if(n&&("void"==e||"unknown"==e))return-1;var i="string"==typeof t;if(i&&("void"==t||"unknown"==t))return-1;if(e===(n?"NullObject":NullObject))switch(t){case"n":case"b":return-1;case Number:case Boolean:case NullObject:break;default:return 0}if(n&&(e=a.evalType(e)),i&&(t=a.evalType(t)),!t||!e)return-1;for(n=0,i=e;i!==t&&10>n;){if(i.implementz)for(var r=i.implementz,o=0;o<r.length;o++){var s=a.equalsOrExtendsLevel(r[o],t);if(0<=s)return n+s+1}if(i=i.superClazz,!i)return t===Object||t===a._O?n+1.5:-1;n++}return n},a.instanceOf=function(e,t){return null!=e&&t&&(e==t||e instanceof t||0<=a.getInheritedLevel(a.getClassName(e),t))},a.superCall=function(e,t,n,i){var r=null,o=-1,s=e[n];if(s)if(s.claxxOwner)s.claxxOwner!==t&&(r=s);else if(s.stacks||s.lastClaxxRef&&s.lastClaxxRef.prototype[n]&&s.lastClaxxRef.prototype[n].stacks){var l=s.stacks;for(l||(l=s.lastClaxxRef.prototype[n].stacks),o=l.length;0<=--o;){if(t===l[o]){r=0<o?l[--o].prototype[n]:l[0].prototype[n]["\\unknown"];break}if(0<a.getInheritedLevel(t,l[o])){r=l[o].prototype[n];break}}}else r=s;return r?(0==o&&"construct"==n&&(t=s.stacks)&&!t[0].superClazz&&t[0].con$truct&&t[0].con$truct.apply(e,[]),r.apply(e,i||[])):void("construct"!=n&&(a.alert(["j2slib","no class found",i.typeString]),V(e,t,n,a.getParamsType(i).typeString)))},a.superConstructor=function(e,t,n){a.superCall(e,t,"construct",n),t.con$truct&&t.con$truct.apply(e,[])},a.CastedNull=function(e){this.clazzName=e?e instanceof String?e:e instanceof Function?a.getClassName(e,!0):""+e:"Object",this.toString=function(){return null},this.valueOf=function(){return null}},a.castNullAs=function(e){return new a.CastedNull(e)},a._initializingException=!1,a._callingStackTraces=[];var e=function(){this.toString=function(){return"J2S MethodException"}},f;try{null.hello()}catch(e){if(d=function(e,t,n){n||(n="[^\\s]+");var i=e.indexOf(t);return e=e.substring(0,i)+n+e.substring(i+t.length),RegExp("^"+e+"$")},/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var d=e.message.indexOf(":"),r=e.message.indexOf(":",d+2),L=e.message.substr(d+1,r-d-20);f=function(e){return-1!=e.message.indexOf(L)}}else if(-1!=navigator.userAgent.toLowerCase().indexOf("webkit")){var N=d(e.message,"hello");f=function(e){return N.test(e.message)}}else N=d(e.message,"$$o$$"),f=function(e){return N.test(e.message)}}a.exceptionOf=function(e,t){return e.__CLASS_NAME__?a.instanceOf(e,t):(e.getMessage||(e.getMessage=function(){return""+e+(e.stack?"\n"+e.stack:"")}),e.printStackTrace||(e.printStackTrace=function(){}),t==Error?!(0>(""+e).indexOf("Error"))&&(System.out.println(a.getStackTrace()),!0):t==Exception||t==Throwable||t==NullPointerException&&f(e))},a.getStackTrace=function(e){e||(e=25);var t="\n",n=arguments.callee,i=0>e;i&&(e=-e);for(var r=0;r<e&&(n=n.caller);r++){var o=n.toString?n.toString().substring(0,n.toString().indexOf("{")):"<native method>",t=t+(r+" "+(n.exName?(n.claxxOwner?n.claxxOwner.__CLASS_NAME__+".":"")+n.exName+o.replace(/function /,""):o)+"\n");if(n==n.caller){t+="<recursing>\n";break}if(i)for(var o=n.arguments,s=0;s<o.length;s++){var a=""+o[s];60<a.length&&(a=a.substring(0,60)+"..."),t+=" args["+s+"]="+a.replace(/\s+/g," ")+"\n"}}return t},a.makeConstructor=function(e,t,n){a.defineMethod(e,"construct",t,n),e.con$truct&&(e.con$truct.index=e.con$truct.stacks.length)},a.overrideConstructor=function(e,t,n){a.overrideMethod(e,"construct",t,n),e.con$truct&&(e.con$truct.index=e.con$truct.stacks.length)},a.defineMethod=function(n,i,r,o){r.exName=i,o=T(o);var s=n.prototype,l=s[i];if(a._Loader._checkLoad&&R(n,i,o),!l||l.claxxOwner===n&&l.funParams==o)return r.funParams=o,r.claxxOwner=n,r.exClazz=n,s[i]=r;var c=null,u=l.stacks;if(u||(u=[],c=l,l.claxxOwner&&(u[0]=c.claxxOwner)),!l.stacks||l.claxxReference!==n){for(++q,l=function(){var n;e:{var i=arguments.callee.claxxReference,r=arguments.callee.methodName;n=arguments,fx=this[r];var o=a.getParamsType(n);if(!fx)try{System.out.println(a.getStackTrace(5))}catch(e){}if(b){var s=i.__CLASS_NAME__+" "+r+" ";0>t.indexOf(s)&&(t+=s+"\n"),b[s]||(b[s]=0),b[s]++}if(fx.lastParams==o.typeString&&fx.lastClaxxRef===i){if(o.hasCastedNull)for(i=[],r=0;r<n.length;r++)i[r]=n[r]instanceof a.CastedNull?null:n[r];else i=n;n=fx.lastMethod?fx.lastMethod.apply(this,i):null}else{fx.lastParams=o.typeString,fx.lastClaxxRef=i,s=fx.stacks,s||(s=i.prototype[r].stacks);for(var l=!1,c=s.length;0<=--c;)if(l||s[c]===i){var u=s[c].prototype[r],d=o,l=n,h=fx,p=[],f=!0,m=void 0;for(m in u)if(92==m.charCodeAt(0)){var g=m.substring(1).split("\\");g.length==d.length&&p.push(g),f=!1}else if(f&&"funParams"==m&&u.funParams){m=u.funParams,g=m.substring(1).split("\\"),g.length==d.length&&(p[0]=g);break}if(!(m=0==p.length)){for(var m=d,g=[],v=p.length,y=0;y<v;y++){for(var _=[],x=!0,w=p[y].length,k=0;k<w;k++)if(_[k]=a.getInheritedLevel(m[k],p[y][k]),0>_[k]){x=!1;break}x&&(_[m.length]=y,g.push(_))}if(0==g.length)p=null;else{for(v=g[0],y=1;y<g.length;y++){for(_=!0,k=0;k<m.length;k++)if(v[k]<g[y][k]){_=!1;break}_&&(v=g[y])}p=p[v[m.length]].join("\\")}m=!p}if(m)l=new e;else{if(u=f?u:u["\\"+p],f=null,d.hasCastedNull)for(f=[],d=0;d<l.length;d++)f[d]=l[d]instanceof a.CastedNull?null:l[d];else f=l;h.lastMethod=u,l=u.apply(this,f)}if(!(l instanceof e)){n=l;break e}l=!0}"construct"!=r&&V(this,i,r,o.typeString),n=void 0}}return n},l.methodName=i,l.claxxReference=n,l=s[i]=l,i=[],s=0;s<u.length;s++)i[s]=u[s];l.stacks=i}return u=l.stacks,0>S(u,n)&&u.push(n),c&&(c.claxxOwner===n?(l[c.funParams]=c,c.claxxOwner=null,c.funParams=null):c.claxxOwner||(l["\\unknown"]=c)),r.exClazz=n,l[o]=r,l},duplicatedMethods={};var R=function(e,t,n){var i=e.prototype[t];i&&(i.claxxOwner||i.claxxReference)===e&&(key=e.__CLASS_NAME__+"."+t+n,(e=duplicatedMethods[key])?(t="Warning! Duplicate method found for "+key,System.out.println(t),a.alert(t),duplicatedMethods[key]=e+1):duplicatedMethods[key]=1)};a.showDuplicates=function(e){var t,n="",i=duplicatedMethods,r=0;for(t in i)1<i[t]&&(n+=i[t]+"\t"+t+"\n",r++);n="Duplicates: "+r+"\n\n"+n,System.out.println(n),e||alert(n)};var S=function(e,t){if(e&&t)for(var n=e.length;0<=--n;)if(e[n]===t)return n;return-1},la=function(e,t){var n=S(e,t);if(0<=n){for(var i=e.length-1;n<i;n++)e[n]=e[n+1];return e.length--,!0}},T=function(e){return e?e.replace(/~([NABSO])/g,function(e,t){switch(t){case"N":return"n";case"B":return"b";case"S":return"String";case"O":return"Object";case"A":return"Array"}return"Unknown"}).replace(/\s+/g,"").replace(/^|,/g,"\\").replace(/\$/g,"org.eclipse.s"):"\\void"};a.overrideMethod=function(e,t,n,i){return n.exName=t,i=T(i),a._Loader._checkLoad&&R(e,t,i),n.funParams=i,n.claxxOwner=e,e.prototype[t]=n};var t="";a.getProfile=function(){var e="";if(b){var t,e=[];for(t in b){var n=""+b[t];e.push("        ".substring(n.length)+n+"\t"+t)}e=e.sort().reverse().join("\r\n"),b={}}return e},a.getParamsType=function(e){var t=e.length;switch(t){case 0:var n=["void"];return n.typeString="\\void",n;case 1:switch(typeof obj){case"number":return n=["n"],n.typeString="\\n",n;case"boolean":return n=["b"],n.typeString="\\b",n}}if(n=[],n.hasCastedNull=!1,e)for(var i=0;i<t;i++)n[i]=a.getClassName(e[i]),e[i]instanceof a.CastedNull&&(n.hasCastedNull=!0);return n.typeString="\\"+n.join("\\"),n};var q=0;a.allPackage={},a.allClasses={},a.lastPackageName=null,a.lastPackage=null,a.unloadedClasses=[],a.declarePackage=function(e){if(a.lastPackageName==e)return a.lastPackage;if(e&&e.length){for(var t=e.split(/\./),n=a.allPackage,i=0;i<t.length;i++)n[t[i]]||(n[t[i]]={__PKG_NAME__:n.__PKG_NAME__?n.__PKG_NAME__+"."+t[i]:t[i]},0==i&&a.setGlobal(t[i],n[t[i]])),n=n[t[i]];return a.lastPackageName=e,a.lastPackage=n}},a.evalType=function(e,t){var n=e.lastIndexOf(".");if(-1!=n){var i=e.substring(0,n),i=a.declarePackage(i),n=e.substring(n+1);return i[n]}if(t)return window[e];switch(e){case"string":return String;case"number":return Number;case"object":return a._O;case"boolean":return Boolean;case"function":return Function;case"void":case"undefined":case"unknown":return e;case"NullObject":return NullObject;default:return window[e]}},a.defineType=function(e,t,n,i){var r=a.unloadedClasses[e];if(r&&(t=r),r=e.lastIndexOf("."),-1!=r){var o=e.substring(0,r),o=a.declarePackage(o),r=e.substring(r+1);if(o[r])return o[r];o[r]=t}else{if(window[e])return window[e];a.setGlobal(e,t)}return a.decorateAsType(t,e,n,i),e=a._innerFunctions,t.defineMethod=e.defineMethod,t.defineStaticMethod=e.defineStaticMethod,t.makeConstructor=e.makeConstructor,t};var X=!1;-1!=navigator.userAgent.indexOf("Safari")&&(d=navigator.userAgent,r=d.indexOf("Version/"),-1!=r&&(d=d.substring(r+8),X=4<=parseFloat(d))),a.instantialize=function(e,t){if(!t||!(1==t.length&&t[0]&&t[0]instanceof m)){if(e instanceof Number&&(e.valueOf=function(){return this}),X){for(var n=[],i=0;i<t.length;i++)n[i]=t[i];t=n}(n=e.construct)?e.con$truct?e.getClass().superClazz?n.claxxOwner&&n.claxxOwner===e.getClass()||n.stacks&&n.stacks[n.stacks.length-1]==e.getClass()?n.apply(e,t):(n.claxxOwner&&!n.claxxOwner.superClazz&&n.claxxOwner.con$truct?n.claxxOwner.con$truct.apply(e,[]):n.stacks&&1==n.stacks.length&&!n.stacks[0].superClazz&&n.stacks[0].con$truct.apply(e,[]),n.apply(e,t),e.con$truct.apply(e,[])):(e.con$truct.apply(e,[]),n.apply(e,t)):n.apply(e,t):e.con$truct&&e.con$truct.apply(e,[])}},a.innerFunctionNames="isInstance equals hashCode getName getCanonicalName getClassLoader getResource getResourceAsStream defineMethod defineStaticMethod makeConstructor".split(" "),a._innerFunctions={isInstance:function(e){return a.instanceOf(e,this)},equals:function(e){return this===e},hashCode:function(){return this.getName().hashCode()},toString:function(){return"class "+this.getName()},getName:function(){return a.getClassName(this,!0)},getCanonicalName:function(){return this.__CLASS_NAME__},getClassLoader:function(){var e=this.__CLASS_NAME__,t=a._Loader.getClasspathFor(e),n=t.lastIndexOf(e.replace(/\./g,"/")),t=-1!=n?t.substring(0,n):a._Loader.getClasspathFor(e,!0),e=a._Loader.requireLoaderByBase(t);return e.getResourceAsStream=a._innerFunctions.getResourceAsStream,e.getResource=a._innerFunctions.getResource,e},getResource:function(e){return(e=this.getResourceAsStream(e))?e.url:null},getResourceAsStream:function(e){if(!e)return null;e=e.replace(/\\/g,"/");var t=null,n=e,n=this.__CLASS_NAME__;if(2==arguments.length&&0!=e.indexOf("/")&&(e="/"+e),0==e.indexOf("/"))if(2==arguments.length?(t=arguments[1])||(t=a.binaryFolders[0]):a._Loader&&(t=a._Loader.getClasspathFor(n,!0)),t){var t=t.replace(/\\/g,"/"),i=t.length,i=t.charAt(i-1);"/"!=i&&(t+="/"),n=t+e.substring(1)}else n=e.substring(1);else{if(this.base)t=this.base;else if(a._Loader)if(t=a._Loader.getClasspathFor(n),i=t.lastIndexOf(n.replace(/\./g,"/")),-1!=i)t=t.substring(0,i);else if(i=-1,t.indexOf(".z.js")==t.length-5&&-1!=(i=t.lastIndexOf("/")))for(var t=t.substring(0,i+1),i=n.split(/\./),r=1;r<i.length;r++){for(var o="/",s=0;s<r;s++)o+=i[s]+"/";if(o.length>t.length)break;if(t.indexOf(o)==t.length-o.length){t=t.substring(0,t.length-o.length+1);break}}else t=a._Loader.getClasspathFor(n,!0);else(i=a.binaryFolders)&&i.length&&(t=i[0]);t||(t="j2s/"),t=t.replace(/\\/g,"/"),i=t.length,i=t.charAt(i-1),"/"!=i&&(t+="/"),this.base?n=t+e:(i=n.lastIndexOf("."),n=-1==i||this.base?t+e:t+n.substring(0,i).replace(/\./g,"/")+"/"+e)}t=null;try{if(0>n.indexOf(":/")){var l=document.location.href.split("?")[0].split("/");l[l.length-1]=n,n=l.join("/")}t=new java.net.URL(n)}catch(e){}return l=null==t?null:j._getFileData(n.toString()),l&&"error"!=l&&0!=l.indexOf("[Exception")?(l=new java.lang.String(l).getBytes(),l=new java.io.BufferedInputStream(new java.io.ByteArrayInputStream(l)),l.url=t,l):null},defineMethod:function(e,t,n){a.defineMethod(this,e,t,n)},defineStaticMethod:function(e,t,n){a.defineMethod(this,e,t,n),this[e]=this.prototype[e]},makeConstructor:function(e,t){a.makeConstructor(this,e,t)}};var Y=[];a.pu$h=function(e){e||(e=self.c$),e&&Y.push(e)},a.p0p=function(){return Y.pop()},a.decorateAsClass=function(e,t,n,i,r,o){var s=null;t&&(s=t.__PKG_NAME__,s||(s=t.__CLASS_NAME__));var l=(s?s+".":"")+n;return a._Loader._classPending[l]&&(delete a._Loader._classPending[l],a._Loader._classCountOK++,a._Loader._classCountPending--),a._Loader&&a._Loader._checkLoad&&System.out.println("decorating class "+s+"."+n),(s=a.unloadedClasses[l])&&(e=s),Z(e,t,n),o?a.inheritClass(e,i,o):i&&a.inheritClass(e,i),r&&a.implementOf(e,r),e};var Z=function(e,t,n){var i;for(t?t.__PKG_NAME__?(i=t.__PKG_NAME__+"."+n,t[n]=e,t===java.lang&&a.setGlobal(n,e)):(i=t.__CLASS_NAME__+"."+n,t[n]=e):(i=n,a.setGlobal(n,e)),a.extendJO(e,i),t=a.innerFunctionNames,n=0;n<t.length;n++)e[t[n]]=a._innerFunctions[t[n]];a._Loader&&a._Loader.updateNodeForFunctionDecoration(i)};a.declareInterface=function(e,t,n){var i=function(){};return Z(i,e,t),n&&a.implementOf(i,n),i},a.declareType=function(e,t,n,i,r){return a.decorateAsClass(function(){a.instantialize(this,arguments)},e,t,n,i,r)},a.declareAnonymous=function(e,t,n,i,r){return a.decorateAsClass(function(){a.prepareCallback(this,arguments),a.instantialize(this,arguments)},e,t,n,i,r)},a.decorateAsType=function(e,t,n,i,r,o){if(a.extendJO(e,t),e.equals=a._innerFunctions.equals,e.getName=a._innerFunctions.getName,o)for(t=0;t<a.innerFunctionNames.length;t++)o=a.innerFunctionNames[t],e[o]=a._innerFunctions[o];return r?a.inheritClass(e,n,r):n&&a.inheritClass(e,n),i&&a.implementOf(e,i),e},Number.prototype._numberToString=Number.prototype.toString,a.declarePackage("java.io"),a.declarePackage("java.lang.annotation"),a.declarePackage("java.lang.instrument"),a.declarePackage("java.lang.management"),a.declarePackage("java.lang.reflect"),a.declarePackage("java.lang.ref"),java.lang.ref.reflect=java.lang.reflect,a.declarePackage("java.util"),a.declarePackage("java.security"),a.declareInterface(java.io,"Closeable"),a.declareInterface(java.io,"DataInput"),a.declareInterface(java.io,"DataOutput"),a.declareInterface(java.io,"Externalizable"),a.declareInterface(java.io,"Flushable"),a.declareInterface(java.io,"Serializable"),a.declareInterface(java.lang,"Iterable"),a.declareInterface(java.lang,"CharSequence"),a.declareInterface(java.lang,"Cloneable"),a.declareInterface(java.lang,"Appendable"),a.declareInterface(java.lang,"Comparable"),a.declareInterface(java.lang,"Runnable"),a.declareInterface(java.util,"Comparator"),java.lang.ClassLoader={__CLASS_NAME__:"ClassLoader"};var V=function(e,t,n,i){throw e="",i&&(e=i.substring(1).replace(/\\/g,",")),t=(n&&"construct"!=n?"Method":"Constructor")+" "+a.getClassName(t,!0)+"."+n+"("+e+") is not found!",new java.lang.NoSuchMethodException(t)};a.prepareCallback=function(e,t){var n=t[0];if(e&&n&&n!==window){var i=a.getClassName(n,!0),r={};if(e.b$)for(var o in e.b$)r[o]=e.b$[o];for(e.b$=r,r[i]=n,i=a.getClass(n);i.superClazz;)i=i.superClazz,r[a.getClassName(i,!0)]=n;if(n=n.b$)for(o in n)r[o]=n[o]}for(r=0;r<t.length-1;r++)t[r]=t[r+1];t.length--},a.innerTypeInstance=function(e,t,n){e||(e=arguments.callee.caller);var i;if(n||t.$finals)if(i=new e(t,a.inheritArgs),n)if(t.f$){var r,o={};for(r in t.f$)o[r]=t.f$[r];for(r in n)o[r]=n[r];i.f$=o}else i.f$=n;else t.f$&&(i.f$=t.f$);else switch(arguments.length){case 3:return new e(t);case 4:return t.__CLASS_NAME__==e.__CLASS_NAME__&&arguments[3]===a.inheritArgs?t:new e(t,arguments[3]);case 5:return new e(t,arguments[3],arguments[4]);case 6:return new e(t,arguments[3],arguments[4],arguments[5]);case 7:return new e(t,arguments[3],arguments[4],arguments[5],arguments[6]);case 8:return new e(t,arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 9:return new e(t,arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 10:return new e(t,arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);default:i=new e(t,a.inheritArgs)}for(r=arguments.length-3,o=Array(r);0<=--r;)o[r]=arguments[r+3];return a.instantialize(i,o),i},a.cloneFinals=function(){for(var e={},t=arguments.length/2;0<=--t;)e[arguments[t+t]]=arguments[t+t+1];return e},a.isClassDefined=a.isDefinedClass=function(e){if(!e)return!1;if(a.allClasses[e])return!0;for(var t=e.split(/\./),n=null,i=0;i<t.length;i++)if(!(n=n?n[t[i]]:a.allPackage[t[0]]))return!1;return n&&(a.allClasses[e]=!0)},a.defineEnumConstant=function(e,t,n,i,r){return r=r?new r:new e,r.$name=t,r.$ordinal=n,i&&i.length&&r.construct.apply(r,i),e[t]=r,e.prototype[t]=r,e["$ values"]||(e["$ values"]=[],e.values=function(){return this["$ values"]}),e["$ values"].push(r),r},a.floatToInt=function(e){return isNaN(e)?0:0>e?Math.ceil(e):Math.floor(e)},a.floatToByte=a.floatToShort=a.floatToLong=a.floatToInt,a.doubleToByte=a.doubleToShort=a.doubleToLong=a.doubleToInt=a.floatToInt,a.floatToChar=function(e){return String.fromCharCode(0>e?Math.ceil(e):Math.floor(e))},a.doubleToChar=a.floatToChar;var aa=function(e,t){if(e||(e=0),"object"==typeof e)var n=e;else for(var n=Array(e),i=0;i<e;i++)n[i]=0;return n.BYTES_PER_ELEMENT=t>>3,n._fake=!0,n},O=function(e,t){if(e||(e=0),t||(t=this.length),this._fake){var n=new this.constructor(t-e);return System.arraycopy(this,e,n,0,t-e),n}return new this.constructor(this.buffer.slice(e*this.BYTES_PER_ELEMENT,t*this.BYTES_PER_ELEMENT))};1==(a.haveInt32=!(!self.Int32Array||self.Int32Array==Array))?Int32Array.prototype.sort||(Int32Array.prototype.sort=Array.prototype.sort):(Int32Array=function(e){return aa(e,32)},Int32Array.prototype.sort=Array.prototype.sort,Int32Array.prototype.toString=function(){return"[object Int32Array]"}),Int32Array.prototype.slice||(Int32Array.prototype.slice=function(){return O.apply(this,arguments)}),Int32Array.prototype.clone=function(){var e=this.slice();return e.BYTES_PER_ELEMENT=4,e},1==(a.haveFloat64=!(!self.Float64Array||self.Float64Array==Array))?Float64Array.prototype.sort||(Float64Array.prototype.sort=Array.prototype.sort):(Float64Array=function(e){return aa(e,64)},Float64Array.prototype.sort=Array.prototype.sort,Float64Array.prototype.toString=function(){return"[object Float64Array]"}),Float64Array.prototype.slice||(Float64Array.prototype.slice=function(){return O.apply(this,arguments)}),Float64Array.prototype.clone=function(){return this.slice()},a.newArray=function(e,t,n,i){return-1!=e||2==arguments.length?I(arguments,0):(e=t.slice(n,i),e.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,e)};var I=function(e,t){var n=e[0];"string"==typeof n&&(n=n.charCodeAt(0));var i=e.length-1,r=e[i];if(1<i){for(var r=Array(i),o=0;o<i;o++)r[o]=e[o+1];for(i=Array(n),o=0;o<n;o++)i[o]=I(r,t);return i}switch(0<t&&0>n&&(n=r),t){case 8:return i=new Int8Array(n),i.BYTES_PER_ELEMENT=1,i;case 32:return i=new Int32Array(n),i.BYTES_PER_ELEMENT=4,i;case 64:return i=new Float64Array(n),i.BYTES_PER_ELEMENT=8,i;default:if(i=0>n?r:Array(n),i.BYTES_PER_ELEMENT=0,0<n&&null!=r)for(o=n;0<=--o;)i[o]=r;return i}};for(a.newByteArray=function(){return I(arguments,8)},a.newIntArray=function(){return I(arguments,32)},a.newFloatArray=function(){return I(arguments,64)},a.newDoubleArray=a.newFloatArray,a.newLongArray=a.newShortArray=a.newIntArray,a.newCharArray=a.newBooleanArray=a.newArray,1==(a.haveInt8=!!self.Int8Array)?(Int8Array.prototype.sort||(Int8Array.prototype.sort=Array.prototype.sort),Int8Array.prototype.slice||(Int8Array.prototype.slice=function(){return O.apply(this,arguments)})):a.newByteArray=a.newIntArray,Int8Array.prototype.clone=function(){var e=this.slice();return e.BYTES_PER_ELEMENT=1,e},a.isAB=function(e){return e&&"object"==typeof e&&1==e.BYTES_PER_ELEMENT},a.isAI=function(e){return e&&"object"==typeof e&&4==e.BYTES_PER_ELEMENT},a.isAF=function(e){return e&&"object"==typeof e&&8==e.BYTES_PER_ELEMENT},a.isAS=function(e){return e&&"object"==typeof e&&e.constructor==Array&&("string"==typeof e[0]||"undefined"==typeof e[0])},a.isAII=function(e){return e&&"object"==typeof e&&a.isAI(e[0])},a.isAFF=function(e){return e&&"object"==typeof e&&a.isAF(e[0])},a.isAFFF=function(e){return e&&"object"==typeof e&&a.isAFF(e[0])},a.isASS=function(e){return e&&"object"==typeof e&&a.isAS(e[0])},a.isAFloat=function(e){return e&&"object"==typeof e&&e.constructor==Array&&a.instanceOf(e[0],Float)},a.isAP=function(e){return e&&"JU.P3"==a.getClassName(e[0])},a.defineStatics=function(e){for(var t=arguments.length,n=(t-1)/2;0<=--n;){var i=arguments[--t],r=arguments[--t];e[r]=e.prototype[r]=i}},a.prepareFields=function(e,t){var n=[];if(e.con$truct)for(var i=e.con$truct.stacks,r=0;r<i.length;r++)n[r]=i[r];i=e.con$truct=function(){var e=arguments.callee.stacks;if(e)for(var t=0;t<e.length;t++)e[t].apply(this,[])},e.prototype.con$truct=i,n.push(t),e.con$truct.stacks=n,e.con$truct.index=0},a.checkPrivateMethod=function(){me=arguments.callee.caller,caller=arguments.callee.caller.caller;var e="\\"+a.getParamsType(arguments[0]).join("\\");return me.privateNote||(me.privateNote="You are seeing this note because the method "+me.exName+e+" in class "+me.exClazz.__CLASS_NAME__+" has a superclass method by the same name (possibly with the same parameters) that is private and  therefore might be called improperly from this class. If your  code does not run properly, or you want to make it run faster, change the name of this method to something else.",System.out.println(me.privateNote),alert(me.privateNote)),null},java.lang.Object=a._O,a._O.getName=a._innerFunctions.getName,java.lang.System=System={props:null,$props:{},arraycopy:function(e,t,n,i,r){if(e!==n||t>i)for(;0<=--r;)n[i++]=e[t++];else for(i+=r,t+=r;0<=--r;)e[--i]=e[--t]},currentTimeMillis:function(){return(new Date).getTime()},gc:function(){},getProperties:function(){return System.props},getProperty:function(e,t){if(System.props)return System.props.getProperty(e,t);var n=System.$props[e];if("undefined"!=typeof n)return n;if(0<e.indexOf(".")){switch(n=null,e){case"java.version":case"file.separator":case"path.separator":n="/";break;case"line.separator":n=0<=navigator.userAgent.indexOf("Windows")?"\r\n":"\n";break;case"os.name":case"os.version":n=navigator.userAgent}if(n)return System.$props[e]=n}return 1==arguments.length?null:null==t?e:t},getSecurityManager:function(){return null},setProperties:function(e){System.props=e},lineSeparator:function(){return"\n"},setProperty:function(e,t){return System.props?void System.props.setProperty(e,t):System.$props[e]=t}},System.identityHashCode=function(e){return null==e?0:e._$hashcode||(e._$hashcode=++a._hashCode)},System.out=new a._O,System.out.__CLASS_NAME__="java.io.PrintStream",System.out.print=function(){},System.out.printf=function(){},System.out.println=function(){},System.out.write=function(){},System.err=new a._O,System.err.__CLASS_NAME__="java.io.PrintStream",System.err.print=function(){},System.err.printf=function(){},System.err.println=function(){},System.err.write=function(){},a.popup=a.assert=a.log=a.error=window.alert,Thread=function(){},Thread.J2S_THREAD=Thread.prototype.J2S_THREAD=new Thread,Thread.currentThread=Thread.prototype.currentThread=function(){return this.J2S_THREAD},a.innerFunctionNames=a.innerFunctionNames.concat("getSuperclass isAssignableFrom getConstructor getDeclaredMethod getDeclaredMethods getMethod getMethods getModifiers newInstance".split(" ")),
a._innerFunctions.getSuperclass=function(){return this.superClazz},a._innerFunctions.isAssignableFrom=function(e){return 0<=a.getInheritedLevel(e,this)},a._innerFunctions.getConstructor=function(){return new java.lang.reflect.Constructor(this,[],[],java.lang.reflect.Modifier.PUBLIC)},a._innerFunctions.getDeclaredMethods=a._innerFunctions.getMethods=function(){var e,t=[],n=this.prototype;for(e in n)"function"==typeof n[e]&&!n[e].__CLASS_NAME__&&t.push(new java.lang.reflect.Method(this,e,[],java.lang.Void,[],java.lang.reflect.Modifier.PUBLIC));n=this;for(e in n)"function"==typeof n[e]&&!n[e].__CLASS_NAME__&&t.push(new java.lang.reflect.Method(this,e,[],java.lang.Void,[],java.lang.reflect.Modifier.PUBLIC|java.lang.reflect.Modifier.STATIC));return t},a._innerFunctions.getDeclaredMethod=a._innerFunctions.getMethod=function(e){var t,n=this.prototype;for(t in n)if(e==t&&"function"==typeof n[t]&&!n[t].__CLASS_NAME__)return new java.lang.reflect.Method(this,t,[],java.lang.Void,[],java.lang.reflect.Modifier.PUBLIC);n=this;for(t in n)if(e==t&&"function"==typeof n[t]&&!n[t].__CLASS_NAME__)return new java.lang.reflect.Method(this,t,[],java.lang.Void,[],java.lang.reflect.Modifier.PUBLIC|java.lang.reflect.Modifier.STATIC);return null},a._innerFunctions.getModifiers=function(){return java.lang.reflect.Modifier.PUBLIC},a._innerFunctions.newInstance=function(a){switch(null==a?0:a.length){case 0:return new this;case 1:return new this(a[0]);case 2:return new this(a[0],a[1]);case 3:return new this(a[0],a[1],a[2]);case 4:return new this(a[0],a[1],a[2],a[3]);default:for(var b="new "+this.__CLASS_NAME__+"(",c=0;c<a.length;c++)b+=(0==c?"":",")+"a["+c+"]";return eval(b+")")}},d=a.innerFunctionNames,r=0;r<d.length;r++)a._O[d[r]]=a._innerFunctions[d[r]],Array[d[r]]=a._innerFunctions[d[r]];a._Loader=a.ClazzLoader=function(){};var n=function(){this.parents=[],this.musts=[],this.optionals=[],this.onLoaded=this.path=this.name=this.declaration=null,this.status=0,this.random=.13412};!function(a,b){b._checkLoad=j._checkLoad,b.updateNodeForFunctionDecoration=function(e){(e=C(e))&&e.status==n.STATUS_KNOWN&&window.setTimeout(function(e){return function(){updateNode(e)}}(e),1)},n.prototype.toString=function(){return this.name||this.path||"ClazzNode"},n.STATUS_UNKNOWN=0,n.STATUS_KNOWN=1,n.STATUS_CONTENT_LOADED=2,n.STATUS_MUSTS_LOADED=3,n.STATUS_DECLARED=4,n.STATUS_LOAD_COMPLETE=5;var c=[];b.requireLoaderByBase=function(e){for(var t=0;t<c.length;t++)if(c[t].base==e)return c[t];return t=new b,t.base=e,c.push(t),t};var d=new n,e={},f=0,g=6,h=navigator.userAgent.toLowerCase(),k=-1!=h.indexOf("opera"),m=-1!=h.indexOf("msie")&&!k,l=-1!=h.indexOf("gecko");if(k&&(g=1,k=h.indexOf("opera/"),-1!=k)){var p=9;try{p=parseFloat(h.subString(k+6))}catch(e){}9.6<=p&&(g=6)}var t;self.Clazz&&a.isClassDefined?isClassDefined=a.isClassDefined:(t={},isClassDefined=function(e){return 1==t[e]});var u=function(e){if(!e||0==e.length)return[];for(var t=null,n=0;n<e.length;n++)if(e[n]){if("$"==e[n].charAt(0))if("."==e[n].charAt(1)){if(!t)continue;var i=t.lastIndexOf(".");-1!=i&&(t=t.substring(0,i),e[n]=t+e[n].substring(1))}else e[n]="org.eclipse.s"+e[n].substring(1);t=e[n]}return e},x=[],w={},z=0;b.loadPackageClasspath=function(e,t,n,i,r,o){r||(r=0),i||(i=null),o||(o=0);var s=n&&w["@"+e];if(0!=r||!n||w["@java"]||0==e.indexOf("java")||null==window["java.registered"]||w["@java"]||(b.loadPackage("java",i?function(){b.loadPackageClasspath(e,t,n,i,1)}:null),!i))if(e instanceof Array)if(u(e),i)o<e.length?b.loadPackageClasspath(e[o],t,n,function(){b.loadPackageClasspath(e,t,n,i,1,o+1)},1):i();else for(s=0;s<e.length;s++)b.loadPackageClasspath(e[s],t,n,null);else{switch(e){case"java.*":e="java";case"java":t&&(r="@net.sf.j2s.ajax",w[r]||(w[r]=t),r="@net.sf.j2s",w[r]||(w[r]=t));break;case"swt":e="org.eclipse.swt";break;case"ajax":e="net.sf.j2s.ajax";break;case"j2s":e="net.sf.j2s";break;default:e.lastIndexOf(".*")==e.length-2&&(e=e.substring(0,e.length-2))}t&&(w["@"+e]=t),!n||s||window[e+".registered"]?i&&i():(z++,"java"==e&&(e="core"),b.loadClass(e+".package",function(){0==--z&&ta()},!0,!0,1))}},a.loadClass=function(e,t,n){return self.Class||(Class=a,Class.forName=a._4Name,JavaObject=a._O),e&&b.loadClass(e,t,!0,n,1)},b.loadClass=function(t,i,r,o,s){if(s||(s=0),null==o&&(o=!1),"boolean"==typeof i)return a.evalType(t);if(null!=window["java.registered"]&&!w["@java"]&&b.loadPackage("java"),b.keepOnLoading=!0,!r&&(z&&t.lastIndexOf(".package")!=t.length-8||0!=t.indexOf("java.")&&!isClassDefined(ba)))ma.push([t,i]),System.out.println("loadclass-queuing"+t+ba+" "+isClassDefined(ba));else if((s=isClassDefined(t))||A["@"+t])s&&i&&(r=C(t),!r||r.status>=n.STATUS_LOAD_COMPLETE)&&(o?window.setTimeout(i,25):i());else{var l=b.getClasspathFor(t);if(s=e[l],!s)for(o=x.length;0<=--o;)if(x[o].path==l||x[o].name==t){s=!0;break}if(s){if(i&&(s=C(t)))if(s.onLoaded){if(i!=s.onLoaded){var c=s.onLoaded,u=i;s.onLoaded=function(){c(),u()}}}else s.onLoaded=i}else{for(s=a.unloadedClasses[t]&&C(t)||new n,s.name=t,s.path=l,s.isPackage=l.lastIndexOf("package.js")==l.length-10,ga(l,t,s),s.onLoaded=i,s.status=n.STATUS_KNOWN,t=!1,o=x.length;0<=--o;)if(x[o].status!=n.STATUS_LOAD_COMPLETE){t=!0;break}if(s.isPackage){for(o=x.length;0<=--o&&!x[o].isPackage;)x[o+1]=x[o];x[++o]=s}else t&&x.push(s);if(!t){var h=!1;i&&(h=H,H=!0),r&&(i=null),ca(d,s,!0),F(s,s.path,s.requiredBy,!1,i?function(){H=h,i()}:null)}}}},b.loadPackage=function(e,t){t||(t=null),window[e+".registered"]=!1,b.loadPackageClasspath(e,b.J2SLibBase||(b.J2SLibBase=b.getJ2SLibBase()||"j2s/"),!0,t)},b.jarClasspath=function(e,t){t instanceof Array||(t=[t]),u(t);for(var n=t.length;0<=--n;)w["#"+t[n]]=e;w["$"+e]=t},b.registerPackages=function(e,t){for(var n=b.getClasspathFor(e+".*",!0),i=0;i<t.length;i++)window.Clazz&&a.declarePackage(e+"."+t[i]),b.loadPackageClasspath(e+"."+t[i],n)},b.getClasspathFor=function(e,t,n){var i=w["#"+e];if(!i||t||n){var r,o;if(i)e=e.replace(/\./g,"/"),(0<=(o=i.lastIndexOf(e))||0<=(o=e.lastIndexOf("/"))&&0<=(o=i.lastIndexOf(e.substring(0,o))))&&(r=i.substring(0,o));else{for(o=e.length+2;0<=(o=e.lastIndexOf(".",o-2))&&!(r=w["@"+e.substring(0,o)]););t||(e=e.replace(/\./g,"/"))}null==r&&(r=window.Clazz&&a.binaryFolders&&a.binaryFolders.length?a.binaryFolders[0]:b.binaryFolders&&b.binaryFolders.length?b.binaryFolders[0]:"j2s"),i=(r.lastIndexOf("/")==r.length-1?r:r+"/")+(t?"":e.lastIndexOf("/*")==e.length-2?e.substring(0,o+1):e+(n?"."!=n.charAt(0)?"."+n:n:".js"))}return i},b.ignore=function(){var e=1==arguments.length&&arguments[0]instanceof Array?e=arguments[0]:null,t=e?e.length:arguments.length;if(!e)for(var e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(u(e),n=0;n<t;n++)A["@"+e[n]]=1},b.onScriptLoading=function(){},b.onScriptLoaded=function(){},b.onScriptInitialized=function(){},b.onScriptCompleted=function(){},b.onClassUnloaded=function(){},b.onGlobalLoaded=function(){},b.keepOnLoading=!0;var y={},A={},K=function(c,d,e,f){if(!f)try{eval(e+";//# sourceURL="+c)}catch(t){if(a._isQuiet)return;throw c="[Java2Script] The required class file \n\n"+c+(0==e.indexOf("[Exception")&&e.indexOf("data: no")?"\nwas not found.\n":"\ncould not be loaded. Script error: "+t.message+" \n\ndata:\n\n"+e)+"\n\n"+a.getStackTrace(),alert(c),a.alert(c),t}b.onScriptLoaded(c,!1),W(d)},L=function(e){return function(){if("interactive"!=e.readyState){try{e.parentNode&&e.parentNode.removeChild(e)}catch(e){}e=null}}},I=function(e){window["j2s.script.debugging"]||window.setTimeout(L(e),1)};a._4Name=function(e,t,n){return a.isClassDefined(e)?a.evalType(e):(t=j._isAsync&&t?t._restoreState(e,n):null,1==t?null:b.setLoadingMode(t?b.MODE_SCRIPT:"xhr.sync")?(b.loadClass(e,t,!1,!0,1),null):(b.loadClass(e),a.evalType(e)))},a.currentPath="";var F=function(t,n,i,r,o){if(a.currentPath=n,r&&alert("WHY>>"),r=e[n],e[n]=!0,la(x,n),ha=!0,ia=!1,b._checkLoad&&System.out.println("\t"+n+(i?"\n -- required by "+i:"")+"  ajax="+ha+" async="+ia),i=n,a._debugging&&(n=n.replace(/\.z\.js/,".js")),r||System.out.println("loadScript "+n),b.onScriptLoading(n),ha&&!ia){var s=j._getFileData(n);try{K(n,i,s,r)}catch(e){alert(e+" loading file "+n+" "+t.name+" "+a.getStackTrace())}o&&o()}else t={dataType:"script",async:!0,type:"GET",url:n,success:M(n,!1,o),error:M(n,!0,o)},f++,r?setTimeout(t.success,0):j.$ajax(t)},M=function(e,t,n){return a.getStackTrace(),function(){l&&this.timeoutHandle&&(window.clearTimeout(this.timeoutHandle),this.timeoutHandle=null),0<f&&f--,this.onerror=this.onload=null,t&&alert("There was a problem loading "+e),b.onScriptLoaded(e,!0);var i,r=this;i=n?function(){I(r),W(e,n)}:function(){I(r),W(e)},0<=na?window.setTimeout(function(){W(e,i)},na):W(e,i)}},H=!0,N=!1,W=function(t,i){var r=y["@"+t];if(r){var o,s=w["$"+t];if(s)for(var l=0;l<s.length;l++){var c=s[l];if(c!=r.name&&(o=C(c)))o.status<n.STATUS_CONTENT_LOADED&&(o.status=n.STATUS_CONTENT_LOADED,updateNode(o));else{o=new n,o.name=c;var u=w["#"+c];u||(alert(c+" J2S error in tryToLoadNext"),error("Java2Script implementation error! Please report this bug!")),o.path=u,ga(o.path,c,o),o.status=n.STATUS_CONTENT_LOADED,ca(d,o,!1),updateNode(o)}}if(r instanceof Array)for(l=0;l<r.length;l++)r[l].status<n.STATUS_CONTENT_LOADED&&(r[l].status=n.STATUS_CONTENT_LOADED,updateNode(r[l]));else if(r.status<n.STATUS_CONTENT_LOADED){for(o=!1,s=document.getElementsByTagName("SCRIPT"),l=0;l<s.length;l++)if(m){if(s[l].onreadystatechange&&s[l].onreadystatechange.path==r.path&&"interactive"==s[l].readyState){o=!0;break}}else if(s[l].onload&&s[l].onload.path==r.path){o=!0;break}o||(r.status=n.STATUS_CONTENT_LOADED,updateNode(r))}if(b.keepOnLoading){if(l=!0,o=oa(n.STATUS_KNOWN))for(ja(o);f<g&&(o=oa(n.STATUS_KNOWN));)ja(o);else if(0!=x.length)o=x.shift(),!e[o.path]||0!=x.length||!H||o.musts.length||o.optionals.length?(ca(d,o,!0),F(o,o.path,o.requiredBy,!1)):H&&(H=!1);else if(o=pa(n.STATUS_KNOWN))for(ja(o);f<g&&(o=pa(n.STATUS_KNOWN));)ja(o);else l=!1;if(!(l||0<f)){for(r=[oa,pa],s=null,l=0;2>l;l++)for(;o=r[l](n.STATUS_CONTENT_LOADED);)1==l&&s===o&&(o.status=n.STATUS_LOAD_COMPLETE),updateNode(o),s=o;for(;O=[],!!Q(d,t););for(l=0;2>l;l++)for(s=null;(o=r[l](n.STATUS_DECLARED))&&s!==o;)updateNode(s=o);for(s=[],l=0;2>l;l++)for(;o=r[l](n.STATUS_DECLARED);)s.push(o),o.status=n.STATUS_LOAD_COMPLETE;if(s.length){for(l=0;l<s.length;l++)P(s[l]);for(l=0;l<s.length;l++)(r=s[l].onLoaded)&&(s[l].onLoaded=null,r())}if(i)i();else if(b._classCountPending){for(c in b._classPending)if(o=C(c),System.out.println("class left pending "+c+" "+o),o){updateNode(o);break}}else b._checkLoad&&(System.out.println("I think I'm done: SAEM call count: "+q),a.showDuplicates(!0));b.onGlobalLoaded()}}}},O=[],Q=function(e,t){var i=O,r=i.length;i.push(e);for(var o=r;0<=--o&&!(i[o]===e&&i[o].status>=n.STATUS_DECLARED););if(0<=o){if(b._checkLoad){var s;System.out.println("cycle found loading "+t+" for "+e)}for(;o<r;o++){var a=i[o];for(a.status=n.STATUS_LOAD_COMPLETE,P(a),s=0;s<a.parents.length;s++)updateNode(a.parents[s]);a.parents=[];var l=a.onLoaded;b._checkLoad&&(s="cycle setting status to LOAD_COMPLETE for "+a.name+(l?" firing "+l.toString():""),System.out.println(s)),l&&(a.onLoaded=null,l())}return i.length=0,!0}for(a=[e.musts,e.optionals],s=0;2>s;s++)for(l=a[s],o=l.length;0<=--o;)if(l[o].status==n.STATUS_DECLARED&&Q(l[o],t))return!0;return i.length=r,!1};b._classCountPending=0,b._classCountOK=0,b._classPending={},b.showPending=function(){var e,t=[];for(e in b._classPending){var n=C(e);n?(t.push(n),System.out.println(R("","",n,"",0))):alert("No node for "+e)}return t};var R=function(e,t,n,i,r){if(t+="--"+n.name,e+=t+"\n",5<r)return e+(i+" ...\n");if(i+="\t",e+=i+"status: "+n.status+"\n",n.parents&&n.parents.length&&n.parents[0]&&n.parents[0].name){e+=i+"parents: "+n.parents.length+"\n";for(var o=0;o<n.parents.length;o++)e=R(e,t,n.parents[o],i+"\t",r+1);e+="\n"}return e};updateNode=function(e){if(!e.name||e.status>=n.STATUS_LOAD_COMPLETE)P(e);else{var i=!0;if(e.musts.length&&e.declaration)for(var r=e.musts.length,o=r;0<=--o;){var s=e.musts[o];if(s.requiredBy=e,s.status<n.STATUS_DECLARED&&isClassDefined(s.name)){var a=[];if(s.status=n.STATUS_LOAD_COMPLETE,P(s),s.declaration&&s.declaration.clazzList){for(var l=0,c=s.declaration.clazzList,u=c.length;l<u;l++){var d=C(c[l]);d&&d.status!=n.STATUS_LOAD_COMPLETE&&d!==s&&(d.status=s.status,d.declaration=null,P(d),d.onLoaded&&a.push(d))}s.declaration=null}for(s.onLoaded&&a.push(s),l=0;l<a.length;l++)(c=a[l].onLoaded)&&(a[l].onLoaded=null,c())}else s.status==n.STATUS_CONTENT_LOADED&&updateNode(s),s.status<n.STATUS_DECLARED&&(i=!1);e.musts.length!=r&&(o=r=e.musts.length,i=!0)}if(i){if(e.status<n.STATUS_DECLARED&&((o=e.declaration)&&(o(),o.executed=!0),b._checkLoad&&b._classPending[e.name]&&(delete b._classPending[e.name],b._classCountOK,b._classCountPending--),e.status=n.STATUS_DECLARED,t&&(t[e.name]=!0),b.onScriptInitialized(e.path),e.declaration&&e.declaration.clazzList))for(l=0,c=e.declaration.clazzList,u=c.length;l<u;l++)(d=C(c[l]))&&d.status!=n.STATUS_DECLARED&&d!==e&&(d.status=n.STATUS_DECLARED,t&&(t[d.name]=!0),b.onScriptInitialized(d.path));if(i=n.STATUS_DECLARED,0==e.optionals.length&&0==e.musts.length||e.status>n.STATUS_KNOWN&&!e.declaration||S(e.musts,n.STATUS_LOAD_COMPLETE)&&S(e.optionals,n.STATUS_LOAD_COMPLETE)){if(i=n.STATUS_LOAD_COMPLETE,!T(e,i))return!1;if(e.declaration&&e.declaration.clazzList)for(l=0,c=e.declaration.clazzList,u=c.length;l<u;l++)if((d=C(c[l]))&&d.status!=i&&d!==e&&(d.declaration=null,!T(d,i)))return!1}if(e.parents&&e.parents.length){for(o=0;o<e.parents.length;o++)l=e.parents[o],l.status<i&&updateNode(l,l.name);i==n.STATUS_LOAD_COMPLETE&&(e.parents=[])}}}};var S=function(e,t){for(var n=e.length;0<=--n;)if(e[n].status<t)return!1;return!0},T=function(e,t){e.status=t,b.onScriptCompleted(e.path);var n=e.onLoaded;return!(n&&(e.onLoaded=null,n(),!b.keepOnLoading))&&(P(e),!0)},V={"r0.13412":1},X=function(){for(;;){var e=Math.random(),t="r"+e;if(!V[t])return V[t]=1,d.random=e}},C=function(e){return X(),Y(e,d)},pa=function(e){return X(),da(d,e)},oa=function(e){return aa(d,e)},Y=function(e,t){var n;return t.name==e?t:(n=Z(e,t.musts))||(n=Z(e,t.optionals))?n:null},Z=function(e,t){for(var n=d.random,i=t.length;0<=--i;){var r=t[i];if(r.name==e||r.random!=n&&(r.random=n,r=Y(e,r)))return r}return null},ka=function(t,i){return!(t.status!=i||i==n.STATUS_KNOWN&&e[t.path]||i!=n.STATUS_DECLARED&&isClassDefined(t.name))},aa=function(e,t){for(var n=e.musts.length;0<=--n;){var i=e.musts[n];if(ka(i,t)||(i=aa(i,t)))return i}return ka(e,t)?e:null},da=function(e,t){var n;return(n=ea(e.musts,t))||(n=ea(e.optionals,t))||ka(n=e,t)?n:null},ea=function(e,t){if(e)for(var n=d.random,i=0;i<e.length;i++){var r=e[i];if(ka(r,t)||r.random!=n&&(r.random=n,r=da(r,t)))return r}return null},qa=function(e,t,i,r){if(t instanceof Array){u(t);for(var o=0;o<t.length;o++)qa(e,t[o],i,r,t)}else b._checkLoad&&!b._classPending[t]&&(b._classPending[t]=1,0==b._classCountPending++&&(b._classCountOK=0),System.out.println("Loading class "+t)),o=y["#"+t],o||(o=(o=C(t))?o:new n,o.name=t,o.path=w["#"+t]||"unknown",ga(o.path,t,o),o.status=n.STATUS_KNOWN,ca(d,o,!1)),fa(o,e,!0),5==arguments.length&&r&&(r.status=o.status,r.clazzList=arguments[4]),(o.declaration=r)&&(o.status=n.STATUS_CONTENT_LOADED),fa(o,i,!1)},fa=function(e,t,i){if(t&&t.length){u(t);for(var r=0;r<t.length;r++){var o=t[r];if(o&&!isClassDefined(o)&&!A["@"+o]){var s=C(o);s||(s=new n,s.name=o,s.status=n.STATUS_KNOWN),s.requiredBy=e,ca(e,s,i)}}}};window.Clazz?a.load=qa:b.load=qa;var ga=function(e,t,n){var i="@"+e;if(e=y[i])if(e instanceof Array){for(var i=!1,r=0;r<e.length;r++)if(e[r].name==t){i=!0;break}i||e.push(n)}else y[i]=[e,n];else y[i]=n;y["#"+t]=n},ja=function(t){var n=t.name;if(!isClassDefined(n)&&!A["@"+n]){var i=b.getClasspathFor(n);if(t.path=i,ga(i,n,t),!e[i])return F(t,i,t.requiredBy,!1),!0}return!1},ba=b.runtimeKeyClass="java.lang.String",ma=[];b.getJ2SLibBase=function(){var e=window["j2s.lib"];return e?e.base+("."==e.alias?"":(e.alias?e.alias:e.version?e.version:"1.0.0")+"/"):null};var ia=!0,ha=!1,na=-1;b.MODE_SCRIPT=4,b.MODE_XHR=2,b.MODE_SYNC=1,b.setLoadingMode=function(e,t){var n=!0,i=!0;return"string"==typeof e?(e=e.toLowerCase(),0<=e.indexOf("script")?i=!1:e.indexOf("async"),n=!1):e&b.MODE_SCRIPT?i=!1:n=!(e&b.MODE_SYNC),ha=i,na=(ia=n)&&0<=t?t:-1,n};var ta=function(){if(!z&&isClassDefined(ba)){for(var e=ma,t=0;t<e.length;t++)b.loadClass(e[t][0],e[t][1]);ma=[]}};b.loadZJar=function(e,t){var n=null,i=t instanceof Array;i?t=t[t.length-1]:n=t==ba?ta:null,b.jarClasspath(e,i?t:[t]),b.loadClass(t,n,!0)};var ua={},ra=[],ca=function(e,t,n){var i=!1;n?(n=e.musts,t.requiredBy||(t.requiredBy=e)):n=e.optionals,ua[t.name]||(ra.push(t),ua[t.name]=t);for(var r=0;r<n.length;r++)if(n[r].name==t.name){i=!0;break}i||(n.push(t),H&&0!=t.name.indexOf("java")&&0!=t.name.indexOf("net.sf.j2s.ajax")&&(N&&(H=!1),N=!0));e:{if(e.name&&e!=d&&e!=t)for(i=0;i<t.parents.length;i++)if(t.parents[i].name==e.name)break e;t.parents.push(e)}},P=function(e){var t=e.parents;if(t)for(var n=t.length;0<=--n;)la(t[n].musts,e)||la(t[n].optionals,e)};a.binaryFolders=b.binaryFolders=[b.getJ2SLibBase()]}(a,a._Loader),a._LoaderProgressMonitor={};var y=a._LoaderProgressMonitor,F=null,K=0,u=null,Q=0;y.DEFAULT_OPACITY=j&&j._j2sLoadMonitorOpacity?j._j2sLoadMonitorOpacity:55,y.hideMonitor=function(){u.style.display="none"},y.showStatus=function(e,t){if(!u){var n=document.createElement("DIV");n.id="_Loader-status",n.style.cssText="position:absolute;bottom:4px;left:4px;padding:2px 8px;z-index:"+(window["j2s.lib"].monitorZIndex||1e4)+";background-color:#8e0000;color:yellow;font-family:Arial, sans-serif;font-size:10pt;white-space:nowrap;",n.onmouseover=ra,u=n,document.body.appendChild(n),da||(da=!0)}if(ea(u),null==e)t?M():y.hideMonitor();else{u.appendChild(document.createTextNode(""+e)),"none"==u.style.display&&(u.style.display=""),fa(y.DEFAULT_OPACITY);var i,n=navigator.userAgent;i=document.body;var r=i.parentNode,o=r.clientHeight;i=i.scrollTop+i.offsetTop;var s=r.scrollTop+r.offsetTop,n=0>n.indexOf("Opera")&&document.all?0==o?i:s:0>n.indexOf("Gecko")?o==r.offsetHeight&&o==r.scrollHeight?i:s:i;Q!=n&&(Q=n,u.style.bottom=Q+4+"px"),t&&M()}};var ea=function(e){if(e)for(var t=e.childNodes.length;0<=--t;){var n=e.childNodes[t];if(n){n.childNodes&&n.childNodes.length&&ea(n);try{e.removeChild(n)}catch(e){}}}},fa=function(e){F&&e==y.DEFAULT_OPACITY&&(window.clearTimeout(F),F=null),K=e,navigator.userAgent.toLowerCase(),u.style.filter="Alpha(Opacity="+e+")",u.style.opacity=e/100},ra=function(){y.hideMonitor()},da=!1,M=function(){"none"!=u.style.display&&(K==y.DEFAULT_OPACITY?(F=window.setTimeout(function(){M()},750),K-=5):0<=K-10?(fa(K-10),F=window.setTimeout(function(){M()},40)):u.style.display="none")},p=a.Console,z=System;p.maxTotalLines=1e4,p.setMaxTotalLines=function(e){p.maxTotalLines=0<e?e:999999},p.maxLatency=40,p.setMaxLatency=function(e){p.maxLatency=0<e?e:40},p.pinning=!1,p.enablePinning=function(e){p.pinning=e},p.linesCount=0,p.metLineBreak=!1,p.createConsoleWindow=function(){var e=document.createElement("DIV");return e.style.cssText="font-family:monospace, Arial, sans-serif;",document.body.appendChild(e),e};var A=String.fromCharCode(160),A=A+(A+A+A);p.consoleOutput=function(e,t){var n=window["j2s.lib"];if((n=n&&n.console)&&"string"==typeof n&&(n=document.getElementById(n)),!n)return!1;if(p.linesCount>p.maxTotalLines){for(var i=0;i<p.linesCount-p.maxTotalLines;i++)n&&0<n.childNodes.length&&n.removeChild(n.childNodes[0]);p.linesCount=p.maxTotalLines}var r=!1;if(e=("undefined"==typeof e?"":null==e?"null":""+e).replace(/\t/g,A),0<e.length)switch(e.charAt(e.length-1)){case"\n":case"\r":e=1<e.length?e.substring(0,e.length-("\r"==e.charAt(e.length-2)?2:1)):"",r=!0}var o=null;e=e.replace(/\t/g,A);for(var o=e.split(/\r\n|\r|\n/g),i=0,s=o.length-1;i<=s;i++){var a=null;if(p.metLineBreak||0==p.linesCount||1>n.childNodes.length)a=document.createElement("DIV"),n.appendChild(a),a.style.whiteSpace="nowrap",p.linesCount++;else try{a=n.childNodes[n.childNodes.length-1]}catch(e){a=document.createElement("DIV"),n.appendChild(a),a.style.whiteSpace="nowrap",p.linesCount++}var l=document.createElement("SPAN");a.appendChild(l),l.style.whiteSpace="nowrap",t&&(l.style.color=t),a=o[i],0==a.length&&(a=A),l.appendChild(document.createTextNode(a)),p.pinning||(n.scrollTop+=100),p.metLineBreak=i!=s||r}i=n.parentNode.className,!p.pinning&&i&&-1!=i.indexOf("composite")&&(n.parentNode.scrollTop=n.parentNode.scrollHeight),p.lastOutputTime=(new Date).getTime()},p.clear=function(){try{p.metLineBreak=!0;var e=window["j2s.lib"],t=e&&e.console;if(t&&(t=document.getElementById(t))){for(var n=t.childNodes,i=n.length;0<=--i;)t.removeChild(n[i]);p.linesCount=0}}catch(e){}},a.alert=function(e){p.consoleOutput(e+"\r\n")},z.out.print=function(e){p.consoleOutput(e)},z.out.println=function(e){p.consoleOutput("undefined"==typeof e?"\r\n":null==e?"null\r\n":e+"\r\n")},z.out.write=function(e,t,n){z.out.print(String.instantialize(e).substring(t,t+n))},z.err.__CLASS_NAME__="java.io.PrintStream",z.err.print=function(e){p.consoleOutput(e,"red")},z.err.println=function(e){p.consoleOutput("undefined"==typeof e?"\r\n":null==e?"null\r\n":e+"\r\n","red")},z.err.write=function(e,t,n){z.err.print(String.instantialize(e).substring(t,t+n))}}(Clazz,Jmol))},Jmol.___JmolDate="$Date: 2016-07-11 18:22:49 -0500 (Mon, 11 Jul 2016) $",Jmol.___fullJmolProperties="src/org/jmol/viewer/Jmol.properties",Jmol.___JmolVersion="14.6.1_2016.07.11",define("JSmol",function(){}),define("cell",["jquery","editor","session","utils","text!cell_body.html","text!all.min.css","domReady!","jquery-ui","jquery-ui-tp","colorpicker","canvas3d_lib","JSmol"],function(e,t,n,i,r,o){"use strict";function s(t,n,o){if(t.inputLocation===c)throw"Must specify an inputLocation!";var a=e(t.inputLocation);if(0!==a.length)if(a.length>1){if(t.outputLocation!==c)throw"inputLocation must be unique if outputLocation is specified";n.array=[],t.linked&&(t.autoeval=!1,o=sagecell.kernels.push(null)-1);for(var u=0,d=a.length;u<d;u++){var h=e.extend({},t);h.inputLocation=a[u];var p={};s(h,p,o),n.array.push(p)}}else if(!a.hasClass("sagecell")){o===c&&(o=sagecell.kernels.push(null)-1),t.outputLocation===c&&(t.outputLocation=t.inputLocation),t.code===c&&(t.codeLocation!==c?t.code=e(t.codeLocation).html():a.children("script").length>0?t.code=a.children("script").html():a.is("textarea")?t.code=a.val():t.code=a.text(),t.code=e.trim(t.code));var f={editor:"codemirror",evalButtonText:"Evaluate",hide:["messages"],mode:"normal",replaceOutput:!0,languages:["sage"]};e.extend(n,f,t.template,t);var m=n.hide=e.merge([],f.hide);t.template!==c&&t.template.hide!==c&&e.merge(m,t.template.hide),t.hide!==c&&e.merge(m,t.hide),e.inArray(n.defaultLanguage,n.languages)===-1&&(n.defaultLanguage=n.languages[0]),1===n.languages.length&&m.push("language"),n.linked&&m.push("permalink");var g=e(n.outputLocation);if(a.is("textarea")){var v=a;a=e(document.createElement("div")).insertBefore(a),a.html(r),v.addClass("sagecell_commands"),v.attr({autocapitalize:"off",autocorrect:"off",autocomplete:"off"}),a.find(".sagecell_commands").replaceWith(v);var b="input_"+i.uuid();a[0].id=b,a===g&&(g=e(n.outputLocation="#"+b)),n.inputLocation="#"+b}else a.html(r);if(a.addClass("sagecell"),g.addClass("sagecell"),a.find(".sagecell_commands").val(n.code),a!==g&&a.find(".sagecell_output_elements").appendTo(g),g.find(".sagecell_output_elements").hide(),m.push("files"),"debug"===n.mode)console.info("Running SageMathCell in debug mode");else{var y={},_={in:{editor:!0,files:!0,evalButton:!0,language:!0},out:{output:!0,messages:!0,sessionFiles:!0,permalink:!0}},x=[],w="output_"+i.uuid();g.addClass(w);for(var u=0,d=m.length;u<d;u++)m[u]in _.in?(a.find(".sagecell_"+m[u]).css("display","none"),"files"===m[u]&&(y[m[u]]=!0)):m[u]in _.out&&x.push("."+w+" .sagecell_"+m[u]);var k=a.find(".sagecell_language option");if(k.not(function(){return e.inArray(this.value,n.languages)!==-1}).css("display","none"),k[0].parentNode.value=n.defaultLanguage,y.files&&a.find(".sagecell_advancedFrame").css("display","none"),x.length>0){var C=document.createElement("style"),S=x.join(", ")+" {display: none;}";C.setAttribute("type","text/css"),C.styleSheet?C.styleSheet.cssText=S:C.appendChild(document.createTextNode(S)),document.head.appendChild(C)}}a.find(".sagecell_evalButton").text(n.evalButtonText),l(n,o),m.indexOf("fullScreen")!=-1&&a.find(".sagecell_fullScreen").css("display","none"),_gaq.push(["sagecell._trackEvent","SageCell","Make",window.location.origin+window.location.pathname])}}function a(){for(var e=0;e<f.length;e++)f[e][0](f[e][1])}function l(r,o){function s(e){m[e.data.id]&&(m[e.data.id].linked||m[e.data.id].kernel.kill(),r.replaceOutput&&m[e.data.id].destroy()),0===h.lastIndexOf("codemirror",0)&&g.save(),_gaq.push(["sagecell._trackEvent","SageCell","Execute",window.location.origin+window.location.pathname]);var t=l.find(".sagecell_commands").val(),i=u[0].value,s=new n(c,i,r.interacts||[],o,r.linked||!1);r.session=s,r.interacts=[],s.execute(t),m[e.data.id]=s,c.find(".sagecell_output_elements").show()}var l=e(r.inputLocation),c=e(r.outputLocation),u=l.find(".sagecell_language select"),d=t.render(r.editor,l,r.collapse),h=d[0],g=d[1];g.k=o,l.find(".sagecell_advancedTitle").click(function(){return l.find(".sagecell_advancedFields").slideToggle(),!1}),u.change(function(){var e=u[0].value;g.setOption("mode",sagecell.modes[e])}),r.submit=function(t){return p?(s(t),!1):(f.push([s,t]),1===f.length&&i.sendRequest("POST",i.URLs.terms,{},function(t){if(0===t.length)p=!0,a();else{var n=e(document.createElement("div"));n.html(t),n.dialog({modal:!0,height:400,width:600,appendTo:l,title:"Terms of Service",buttons:{Accept:function(){e(this).dialog("close"),p=!0,localStorage.accepted_tos=!0,a()},Cancel:function(){e(this).dialog("close")}}})}}),!1)};var v=l.find(".sagecell_evalButton").button();return v.click({id:i.uuid()},r.submit),r.code&&r.autoeval&&v.click(),r.callback&&r.callback(),r}var c;sagecell.modes={sage:"python",python:"python",html:"htmlmixed",r:"r"};var u=document.createElement("style");u.innerHTML=o.replace(/url\((?!data:)/g,"url("+i.URLs.root+"static/");var d=document.getElementsByTagName("script")[0];if(d.parentNode.insertBefore(u,d),window.MathJax===c){var h=document.createElement("script");h.type="text/x-mathjax-config",h.text="MathJax.Hub.Config("+JSON.stringify({extensions:["jsMath2jax.js","tex2jax.js"],tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},TeX:{extensions:["color.js"]}})+");",d.parentNode.insertBefore(h,d),h=document.createElement("script"),h.type="text/javascript",h.src="https://cdn.rawgit.com/mathjax/MathJax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML",d.parentNode.insertBefore(h,d)}(new Image).src=i.URLs.spinner,sagecell.kernels=[];var p=localStorage.accepted_tos,f=[],m={},g=i.createElement;return{make:s,delete:function(t){e(t.inputLocation).remove(),e(t.outputLocation).remove()},moveInputForm:function(t){var n=g("div",{id:"sagecell_moved"});n.style.display="none",e(document.body).append(n),e(t.inputLocation).contents().appendTo(e(n))},restore:function(t){var n=e("#sagecell_moved");n.contents().appendTo(t.inputLocation),n.remove()}}});var _gaq=_gaq||[];_gaq.push(["sagecell._setAccount","UA-29124745-1"]),_gaq.push(["sagecell._setDomainName","sagemath.org"]),_gaq.push(["sagecell._trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),function(){"use strict";window.sagecell=window.sagecell||{},sagecell.templates={minimal:{editor:"textarea-readonly",hide:["editor","files","permalink"]},restricted:{editor:"codemirror-readonly",hide:["files","permalink"]}},sagecell.allLanguages=["sage","gap","gp","html","maxima","octave","python","r","singular"],require(["es6-promise"],function(e){e&&e.polyfill()});var e;require(["cell"],function(t){e=t,console.debug("cell set")}),sagecell.makeSagecell=function(t){console.info("sagecell.makeSagecell called");var n={};return e?(e.make(t,n),console.info("sagecell.makeSagecell finished")):setTimeout(function i(){e?(e.make(t,n),console.info("sagecell.makeSagecell finished after delay")):setTimeout(i)}),n},sagecell.deleteSagecell=function(t){e.delete(t)},sagecell.moveInputForm=function(t){e.moveInputForm(t)},sagecell.restoreInputForm=function(t){e.restoreInputForm(t)},window.singlecell=window.sagecell,window.singlecell.makeSinglecell=window.singlecell.makeSagecell}(),define("main",function(){})}();